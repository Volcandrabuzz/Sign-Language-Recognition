var fh=Object.defineProperty;var mh=(n,e,t)=>e in n?fh(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ln=(n,e,t)=>mh(n,typeof e!="symbol"?e+"":e,t);function _mergeNamespaces(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();var commonjsGlobal$3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),er=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),rr=Symbol.iterator;function or(Vr){return Vr===null||typeof Vr!="object"?null:(Vr=rr&&Vr[rr]||Vr["@@iterator"],typeof Vr=="function"?Vr:null)}var sr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dr=Object.assign,hr={};function gr(Vr,Ur,mn){this.props=Vr,this.context=Ur,this.refs=hr,this.updater=mn||sr}gr.prototype.isReactComponent={},gr.prototype.setState=function(Vr,Ur){if(typeof Vr!="object"&&typeof Vr!="function"&&Vr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Vr,Ur,"setState")},gr.prototype.forceUpdate=function(Vr){this.updater.enqueueForceUpdate(this,Vr,"forceUpdate")};function mr(){}mr.prototype=gr.prototype;function vr(Vr,Ur,mn){this.props=Vr,this.context=Ur,this.refs=hr,this.updater=mn||sr}var Sr=vr.prototype=new mr;Sr.constructor=vr,dr(Sr,gr.prototype),Sr.isPureReactComponent=!0;var Ar=Array.isArray,Mr=Object.prototype.hasOwnProperty,Fr={current:null},Tr={key:!0,ref:!0,__self:!0,__source:!0};function Er(Vr,Ur,mn){var Sn,Pn={},On=null,kn=null;if(Ur!=null)for(Sn in Ur.ref!==void 0&&(kn=Ur.ref),Ur.key!==void 0&&(On=""+Ur.key),Ur)Mr.call(Ur,Sn)&&!Tr.hasOwnProperty(Sn)&&(Pn[Sn]=Ur[Sn]);var Fn=arguments.length-2;if(Fn===1)Pn.children=mn;else if(1<Fn){for(var Gn=Array(Fn),ti=0;ti<Fn;ti++)Gn[ti]=arguments[ti+2];Pn.children=Gn}if(Vr&&Vr.defaultProps)for(Sn in Fn=Vr.defaultProps,Fn)Pn[Sn]===void 0&&(Pn[Sn]=Fn[Sn]);return{$$typeof:n,type:Vr,key:On,ref:kn,props:Pn,_owner:Fr.current}}function Rr(Vr,Ur){return{$$typeof:n,type:Vr.type,key:Ur,ref:Vr.ref,props:Vr.props,_owner:Vr._owner}}function wr(Vr){return typeof Vr=="object"&&Vr!==null&&Vr.$$typeof===n}function Or(Vr){var Ur={"=":"=0",":":"=2"};return"$"+Vr.replace(/[=:]/g,function(mn){return Ur[mn]})}var kr=/\/+/g;function Cr(Vr,Ur){return typeof Vr=="object"&&Vr!==null&&Vr.key!=null?Or(""+Vr.key):Ur.toString(36)}function gn(Vr,Ur,mn,Sn,Pn){var On=typeof Vr;(On==="undefined"||On==="boolean")&&(Vr=null);var kn=!1;if(Vr===null)kn=!0;else switch(On){case"string":case"number":kn=!0;break;case"object":switch(Vr.$$typeof){case n:case e:kn=!0}}if(kn)return kn=Vr,Pn=Pn(kn),Vr=Sn===""?"."+Cr(kn,0):Sn,Ar(Pn)?(mn="",Vr!=null&&(mn=Vr.replace(kr,"$&/")+"/"),gn(Pn,Ur,mn,"",function(ti){return ti})):Pn!=null&&(wr(Pn)&&(Pn=Rr(Pn,mn+(!Pn.key||kn&&kn.key===Pn.key?"":(""+Pn.key).replace(kr,"$&/")+"/")+Vr)),Ur.push(Pn)),1;if(kn=0,Sn=Sn===""?".":Sn+":",Ar(Vr))for(var Fn=0;Fn<Vr.length;Fn++){On=Vr[Fn];var Gn=Sn+Cr(On,Fn);kn+=gn(On,Ur,mn,Gn,Pn)}else if(Gn=or(Vr),typeof Gn=="function")for(Vr=Gn.call(Vr),Fn=0;!(On=Vr.next()).done;)On=On.value,Gn=Sn+Cr(On,Fn++),kn+=gn(On,Ur,mn,Gn,Pn);else if(On==="object")throw Ur=String(Vr),Error("Objects are not valid as a React child (found: "+(Ur==="[object Object]"?"object with keys {"+Object.keys(Vr).join(", ")+"}":Ur)+"). If you meant to render a collection of children, use an array instead.");return kn}function hn(Vr,Ur,mn){if(Vr==null)return Vr;var Sn=[],Pn=0;return gn(Vr,Sn,"","",function(On){return Ur.call(mn,On,Pn++)}),Sn}function Xr(Vr){if(Vr._status===-1){var Ur=Vr._result;Ur=Ur(),Ur.then(function(mn){(Vr._status===0||Vr._status===-1)&&(Vr._status=1,Vr._result=mn)},function(mn){(Vr._status===0||Vr._status===-1)&&(Vr._status=2,Vr._result=mn)}),Vr._status===-1&&(Vr._status=0,Vr._result=Ur)}if(Vr._status===1)return Vr._result.default;throw Vr._result}var dn={current:null},Wr={transition:null},Jr={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Wr,ReactCurrentOwner:Fr};function cn(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:hn,forEach:function(Vr,Ur,mn){hn(Vr,function(){Ur.apply(this,arguments)},mn)},count:function(Vr){var Ur=0;return hn(Vr,function(){Ur++}),Ur},toArray:function(Vr){return hn(Vr,function(Ur){return Ur})||[]},only:function(Vr){if(!wr(Vr))throw Error("React.Children.only expected to receive a single React element child.");return Vr}},react_production_min.Component=gr,react_production_min.Fragment=t,react_production_min.Profiler=o,react_production_min.PureComponent=vr,react_production_min.StrictMode=i,react_production_min.Suspense=w,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jr,react_production_min.act=cn,react_production_min.cloneElement=function(Vr,Ur,mn){if(Vr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Vr+".");var Sn=dr({},Vr.props),Pn=Vr.key,On=Vr.ref,kn=Vr._owner;if(Ur!=null){if(Ur.ref!==void 0&&(On=Ur.ref,kn=Fr.current),Ur.key!==void 0&&(Pn=""+Ur.key),Vr.type&&Vr.type.defaultProps)var Fn=Vr.type.defaultProps;for(Gn in Ur)Mr.call(Ur,Gn)&&!Tr.hasOwnProperty(Gn)&&(Sn[Gn]=Ur[Gn]===void 0&&Fn!==void 0?Fn[Gn]:Ur[Gn])}var Gn=arguments.length-2;if(Gn===1)Sn.children=mn;else if(1<Gn){Fn=Array(Gn);for(var ti=0;ti<Gn;ti++)Fn[ti]=arguments[ti+2];Sn.children=Fn}return{$$typeof:n,type:Vr.type,key:Pn,ref:On,props:Sn,_owner:kn}},react_production_min.createContext=function(Vr){return Vr={$$typeof:l,_currentValue:Vr,_currentValue2:Vr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Vr.Provider={$$typeof:s,_context:Vr},Vr.Consumer=Vr},react_production_min.createElement=Er,react_production_min.createFactory=function(Vr){var Ur=Er.bind(null,Vr);return Ur.type=Vr,Ur},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Vr){return{$$typeof:c,render:Vr}},react_production_min.isValidElement=wr,react_production_min.lazy=function(Vr){return{$$typeof:nr,_payload:{_status:-1,_result:Vr},_init:Xr}},react_production_min.memo=function(Vr,Ur){return{$$typeof:er,type:Vr,compare:Ur===void 0?null:Ur}},react_production_min.startTransition=function(Vr){var Ur=Wr.transition;Wr.transition={};try{Vr()}finally{Wr.transition=Ur}},react_production_min.unstable_act=cn,react_production_min.useCallback=function(Vr,Ur){return dn.current.useCallback(Vr,Ur)},react_production_min.useContext=function(Vr){return dn.current.useContext(Vr)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Vr){return dn.current.useDeferredValue(Vr)},react_production_min.useEffect=function(Vr,Ur){return dn.current.useEffect(Vr,Ur)},react_production_min.useId=function(){return dn.current.useId()},react_production_min.useImperativeHandle=function(Vr,Ur,mn){return dn.current.useImperativeHandle(Vr,Ur,mn)},react_production_min.useInsertionEffect=function(Vr,Ur){return dn.current.useInsertionEffect(Vr,Ur)},react_production_min.useLayoutEffect=function(Vr,Ur){return dn.current.useLayoutEffect(Vr,Ur)},react_production_min.useMemo=function(Vr,Ur){return dn.current.useMemo(Vr,Ur)},react_production_min.useReducer=function(Vr,Ur,mn){return dn.current.useReducer(Vr,Ur,mn)},react_production_min.useRef=function(Vr){return dn.current.useRef(Vr)},react_production_min.useState=function(Vr){return dn.current.useState(Vr)},react_production_min.useSyncExternalStore=function(Vr,Ur,mn){return dn.current.useSyncExternalStore(Vr,Ur,mn)},react_production_min.useTransition=function(){return dn.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var n=requireReact(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,w,er){var nr,rr={},or=null,sr=null;er!==void 0&&(or=""+er),w.key!==void 0&&(or=""+w.key),w.ref!==void 0&&(sr=w.ref);for(nr in w)i.call(w,nr)&&!s.hasOwnProperty(nr)&&(rr[nr]=w[nr]);if(c&&c.defaultProps)for(nr in w=c.defaultProps,w)rr[nr]===void 0&&(rr[nr]=w[nr]);return{$$typeof:e,type:c,key:or,ref:sr,props:rr,_owner:o.current}}return reactJsxRuntime_production_min.Fragment=t,reactJsxRuntime_production_min.jsx=l,reactJsxRuntime_production_min.jsxs=l,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(n){function e(Wr,Jr){var cn=Wr.length;Wr.push(Jr);e:for(;0<cn;){var Vr=cn-1>>>1,Ur=Wr[Vr];if(0<o(Ur,Jr))Wr[Vr]=Jr,Wr[cn]=Ur,cn=Vr;else break e}}function t(Wr){return Wr.length===0?null:Wr[0]}function i(Wr){if(Wr.length===0)return null;var Jr=Wr[0],cn=Wr.pop();if(cn!==Jr){Wr[0]=cn;e:for(var Vr=0,Ur=Wr.length,mn=Ur>>>1;Vr<mn;){var Sn=2*(Vr+1)-1,Pn=Wr[Sn],On=Sn+1,kn=Wr[On];if(0>o(Pn,cn))On<Ur&&0>o(kn,Pn)?(Wr[Vr]=kn,Wr[On]=cn,Vr=On):(Wr[Vr]=Pn,Wr[Sn]=cn,Vr=Sn);else if(On<Ur&&0>o(kn,cn))Wr[Vr]=kn,Wr[On]=cn,Vr=On;else break e}}return Jr}function o(Wr,Jr){var cn=Wr.sortIndex-Jr.sortIndex;return cn!==0?cn:Wr.id-Jr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var w=[],er=[],nr=1,rr=null,or=3,sr=!1,dr=!1,hr=!1,gr=typeof setTimeout=="function"?setTimeout:null,mr=typeof clearTimeout=="function"?clearTimeout:null,vr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Sr(Wr){for(var Jr=t(er);Jr!==null;){if(Jr.callback===null)i(er);else if(Jr.startTime<=Wr)i(er),Jr.sortIndex=Jr.expirationTime,e(w,Jr);else break;Jr=t(er)}}function Ar(Wr){if(hr=!1,Sr(Wr),!dr)if(t(w)!==null)dr=!0,Xr(Mr);else{var Jr=t(er);Jr!==null&&dn(Ar,Jr.startTime-Wr)}}function Mr(Wr,Jr){dr=!1,hr&&(hr=!1,mr(Er),Er=-1),sr=!0;var cn=or;try{for(Sr(Jr),rr=t(w);rr!==null&&(!(rr.expirationTime>Jr)||Wr&&!Or());){var Vr=rr.callback;if(typeof Vr=="function"){rr.callback=null,or=rr.priorityLevel;var Ur=Vr(rr.expirationTime<=Jr);Jr=n.unstable_now(),typeof Ur=="function"?rr.callback=Ur:rr===t(w)&&i(w),Sr(Jr)}else i(w);rr=t(w)}if(rr!==null)var mn=!0;else{var Sn=t(er);Sn!==null&&dn(Ar,Sn.startTime-Jr),mn=!1}return mn}finally{rr=null,or=cn,sr=!1}}var Fr=!1,Tr=null,Er=-1,Rr=5,wr=-1;function Or(){return!(n.unstable_now()-wr<Rr)}function kr(){if(Tr!==null){var Wr=n.unstable_now();wr=Wr;var Jr=!0;try{Jr=Tr(!0,Wr)}finally{Jr?Cr():(Fr=!1,Tr=null)}}else Fr=!1}var Cr;if(typeof vr=="function")Cr=function(){vr(kr)};else if(typeof MessageChannel<"u"){var gn=new MessageChannel,hn=gn.port2;gn.port1.onmessage=kr,Cr=function(){hn.postMessage(null)}}else Cr=function(){gr(kr,0)};function Xr(Wr){Tr=Wr,Fr||(Fr=!0,Cr())}function dn(Wr,Jr){Er=gr(function(){Wr(n.unstable_now())},Jr)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Wr){Wr.callback=null},n.unstable_continueExecution=function(){dr||sr||(dr=!0,Xr(Mr))},n.unstable_forceFrameRate=function(Wr){0>Wr||125<Wr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rr=0<Wr?Math.floor(1e3/Wr):5},n.unstable_getCurrentPriorityLevel=function(){return or},n.unstable_getFirstCallbackNode=function(){return t(w)},n.unstable_next=function(Wr){switch(or){case 1:case 2:case 3:var Jr=3;break;default:Jr=or}var cn=or;or=Jr;try{return Wr()}finally{or=cn}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Wr,Jr){switch(Wr){case 1:case 2:case 3:case 4:case 5:break;default:Wr=3}var cn=or;or=Wr;try{return Jr()}finally{or=cn}},n.unstable_scheduleCallback=function(Wr,Jr,cn){var Vr=n.unstable_now();switch(typeof cn=="object"&&cn!==null?(cn=cn.delay,cn=typeof cn=="number"&&0<cn?Vr+cn:Vr):cn=Vr,Wr){case 1:var Ur=-1;break;case 2:Ur=250;break;case 5:Ur=1073741823;break;case 4:Ur=1e4;break;default:Ur=5e3}return Ur=cn+Ur,Wr={id:nr++,callback:Jr,priorityLevel:Wr,startTime:cn,expirationTime:Ur,sortIndex:-1},cn>Vr?(Wr.sortIndex=cn,e(er,Wr),t(w)===null&&Wr===t(er)&&(hr?(mr(Er),Er=-1):hr=!0,dn(Ar,cn-Vr))):(Wr.sortIndex=Ur,e(w,Wr),dr||sr||(dr=!0,Xr(Mr))),Wr},n.unstable_shouldYield=Or,n.unstable_wrapCallback=function(Wr){var Jr=or;return function(){var cn=or;or=Jr;try{return Wr.apply(this,arguments)}finally{or=cn}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var n=requireReact(),e=requireScheduler();function t(V){for(var mt="https://reactjs.org/docs/error-decoder.html?invariant="+V,ir=1;ir<arguments.length;ir++)mt+="&args[]="+encodeURIComponent(arguments[ir]);return"Minified React error #"+V+"; visit "+mt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function s(V,mt){l(V,mt),l(V+"Capture",mt)}function l(V,mt){for(o[V]=mt,V=0;V<mt.length;V++)i.add(mt[V])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,er=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nr={},rr={};function or(V){return w.call(rr,V)?!0:w.call(nr,V)?!1:er.test(V)?rr[V]=!0:(nr[V]=!0,!1)}function sr(V,mt,ir,cr){if(ir!==null&&ir.type===0)return!1;switch(typeof mt){case"function":case"symbol":return!0;case"boolean":return cr?!1:ir!==null?!ir.acceptsBooleans:(V=V.toLowerCase().slice(0,5),V!=="data-"&&V!=="aria-");default:return!1}}function dr(V,mt,ir,cr){if(mt===null||typeof mt>"u"||sr(V,mt,ir,cr))return!0;if(cr)return!1;if(ir!==null)switch(ir.type){case 3:return!mt;case 4:return mt===!1;case 5:return isNaN(mt);case 6:return isNaN(mt)||1>mt}return!1}function hr(V,mt,ir,cr,pr,_r,Ir){this.acceptsBooleans=mt===2||mt===3||mt===4,this.attributeName=cr,this.attributeNamespace=pr,this.mustUseProperty=ir,this.propertyName=V,this.type=mt,this.sanitizeURL=_r,this.removeEmptyString=Ir}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(V){gr[V]=new hr(V,0,!1,V,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(V){var mt=V[0];gr[mt]=new hr(mt,1,!1,V[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(V){gr[V]=new hr(V,2,!1,V.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(V){gr[V]=new hr(V,2,!1,V,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(V){gr[V]=new hr(V,3,!1,V.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(V){gr[V]=new hr(V,3,!0,V,null,!1,!1)}),["capture","download"].forEach(function(V){gr[V]=new hr(V,4,!1,V,null,!1,!1)}),["cols","rows","size","span"].forEach(function(V){gr[V]=new hr(V,6,!1,V,null,!1,!1)}),["rowSpan","start"].forEach(function(V){gr[V]=new hr(V,5,!1,V.toLowerCase(),null,!1,!1)});var mr=/[\-:]([a-z])/g;function vr(V){return V[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(V){var mt=V.replace(mr,vr);gr[mt]=new hr(mt,1,!1,V,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(V){var mt=V.replace(mr,vr);gr[mt]=new hr(mt,1,!1,V,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(V){var mt=V.replace(mr,vr);gr[mt]=new hr(mt,1,!1,V,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(V){gr[V]=new hr(V,1,!1,V.toLowerCase(),null,!1,!1)}),gr.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(V){gr[V]=new hr(V,1,!1,V.toLowerCase(),null,!0,!0)});function Sr(V,mt,ir,cr){var pr=gr.hasOwnProperty(mt)?gr[mt]:null;(pr!==null?pr.type!==0:cr||!(2<mt.length)||mt[0]!=="o"&&mt[0]!=="O"||mt[1]!=="n"&&mt[1]!=="N")&&(dr(mt,ir,pr,cr)&&(ir=null),cr||pr===null?or(mt)&&(ir===null?V.removeAttribute(mt):V.setAttribute(mt,""+ir)):pr.mustUseProperty?V[pr.propertyName]=ir===null?pr.type===3?!1:"":ir:(mt=pr.attributeName,cr=pr.attributeNamespace,ir===null?V.removeAttribute(mt):(pr=pr.type,ir=pr===3||pr===4&&ir===!0?"":""+ir,cr?V.setAttributeNS(cr,mt,ir):V.setAttribute(mt,ir))))}var Ar=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mr=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Er=Symbol.for("react.strict_mode"),Rr=Symbol.for("react.profiler"),wr=Symbol.for("react.provider"),Or=Symbol.for("react.context"),kr=Symbol.for("react.forward_ref"),Cr=Symbol.for("react.suspense"),gn=Symbol.for("react.suspense_list"),hn=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),dn=Symbol.for("react.offscreen"),Wr=Symbol.iterator;function Jr(V){return V===null||typeof V!="object"?null:(V=Wr&&V[Wr]||V["@@iterator"],typeof V=="function"?V:null)}var cn=Object.assign,Vr;function Ur(V){if(Vr===void 0)try{throw Error()}catch(ir){var mt=ir.stack.trim().match(/\n( *(at )?)/);Vr=mt&&mt[1]||""}return`
`+Vr+V}var mn=!1;function Sn(V,mt){if(!V||mn)return"";mn=!0;var ir=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(mt)if(mt=function(){throw Error()},Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(Gr){var cr=Gr}Reflect.construct(V,[],mt)}else{try{mt.call()}catch(Gr){cr=Gr}V.call(mt.prototype)}else{try{throw Error()}catch(Gr){cr=Gr}V()}}catch(Gr){if(Gr&&cr&&typeof Gr.stack=="string"){for(var pr=Gr.stack.split(`
`),_r=cr.stack.split(`
`),Ir=pr.length-1,xr=_r.length-1;1<=Ir&&0<=xr&&pr[Ir]!==_r[xr];)xr--;for(;1<=Ir&&0<=xr;Ir--,xr--)if(pr[Ir]!==_r[xr]){if(Ir!==1||xr!==1)do if(Ir--,xr--,0>xr||pr[Ir]!==_r[xr]){var Lr=`
`+pr[Ir].replace(" at new "," at ");return V.displayName&&Lr.includes("<anonymous>")&&(Lr=Lr.replace("<anonymous>",V.displayName)),Lr}while(1<=Ir&&0<=xr);break}}}finally{mn=!1,Error.prepareStackTrace=ir}return(V=V?V.displayName||V.name:"")?Ur(V):""}function Pn(V){switch(V.tag){case 5:return Ur(V.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return V=Sn(V.type,!1),V;case 11:return V=Sn(V.type.render,!1),V;case 1:return V=Sn(V.type,!0),V;default:return""}}function On(V){if(V==null)return null;if(typeof V=="function")return V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case Tr:return"Fragment";case Fr:return"Portal";case Rr:return"Profiler";case Er:return"StrictMode";case Cr:return"Suspense";case gn:return"SuspenseList"}if(typeof V=="object")switch(V.$$typeof){case Or:return(V.displayName||"Context")+".Consumer";case wr:return(V._context.displayName||"Context")+".Provider";case kr:var mt=V.render;return V=V.displayName,V||(V=mt.displayName||mt.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case hn:return mt=V.displayName||null,mt!==null?mt:On(V.type)||"Memo";case Xr:mt=V._payload,V=V._init;try{return On(V(mt))}catch{}}return null}function kn(V){var mt=V.type;switch(V.tag){case 24:return"Cache";case 9:return(mt.displayName||"Context")+".Consumer";case 10:return(mt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return V=mt.render,V=V.displayName||V.name||"",mt.displayName||(V!==""?"ForwardRef("+V+")":"ForwardRef");case 7:return"Fragment";case 5:return mt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return On(mt);case 8:return mt===Er?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof mt=="function")return mt.displayName||mt.name||null;if(typeof mt=="string")return mt}return null}function Fn(V){switch(typeof V){case"boolean":case"number":case"string":case"undefined":return V;case"object":return V;default:return""}}function Gn(V){var mt=V.type;return(V=V.nodeName)&&V.toLowerCase()==="input"&&(mt==="checkbox"||mt==="radio")}function ti(V){var mt=Gn(V)?"checked":"value",ir=Object.getOwnPropertyDescriptor(V.constructor.prototype,mt),cr=""+V[mt];if(!V.hasOwnProperty(mt)&&typeof ir<"u"&&typeof ir.get=="function"&&typeof ir.set=="function"){var pr=ir.get,_r=ir.set;return Object.defineProperty(V,mt,{configurable:!0,get:function(){return pr.call(this)},set:function(Ir){cr=""+Ir,_r.call(this,Ir)}}),Object.defineProperty(V,mt,{enumerable:ir.enumerable}),{getValue:function(){return cr},setValue:function(Ir){cr=""+Ir},stopTracking:function(){V._valueTracker=null,delete V[mt]}}}}function Li(V){V._valueTracker||(V._valueTracker=ti(V))}function qs(V){if(!V)return!1;var mt=V._valueTracker;if(!mt)return!0;var ir=mt.getValue(),cr="";return V&&(cr=Gn(V)?V.checked?"true":"false":V.value),V=cr,V!==ir?(mt.setValue(V),!0):!1}function Un(V){if(V=V||(typeof document<"u"?document:void 0),typeof V>"u")return null;try{return V.activeElement||V.body}catch{return V.body}}function Yn(V,mt){var ir=mt.checked;return cn({},mt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ir??V._wrapperState.initialChecked})}function fs(V,mt){var ir=mt.defaultValue==null?"":mt.defaultValue,cr=mt.checked!=null?mt.checked:mt.defaultChecked;ir=Fn(mt.value!=null?mt.value:ir),V._wrapperState={initialChecked:cr,initialValue:ir,controlled:mt.type==="checkbox"||mt.type==="radio"?mt.checked!=null:mt.value!=null}}function Aa(V,mt){mt=mt.checked,mt!=null&&Sr(V,"checked",mt,!1)}function Ys(V,mt){Aa(V,mt);var ir=Fn(mt.value),cr=mt.type;if(ir!=null)cr==="number"?(ir===0&&V.value===""||V.value!=ir)&&(V.value=""+ir):V.value!==""+ir&&(V.value=""+ir);else if(cr==="submit"||cr==="reset"){V.removeAttribute("value");return}mt.hasOwnProperty("value")?ms(V,mt.type,ir):mt.hasOwnProperty("defaultValue")&&ms(V,mt.type,Fn(mt.defaultValue)),mt.checked==null&&mt.defaultChecked!=null&&(V.defaultChecked=!!mt.defaultChecked)}function Sa(V,mt,ir){if(mt.hasOwnProperty("value")||mt.hasOwnProperty("defaultValue")){var cr=mt.type;if(!(cr!=="submit"&&cr!=="reset"||mt.value!==void 0&&mt.value!==null))return;mt=""+V._wrapperState.initialValue,ir||mt===V.value||(V.value=mt),V.defaultValue=mt}ir=V.name,ir!==""&&(V.name=""),V.defaultChecked=!!V._wrapperState.initialChecked,ir!==""&&(V.name=ir)}function ms(V,mt,ir){(mt!=="number"||Un(V.ownerDocument)!==V)&&(ir==null?V.defaultValue=""+V._wrapperState.initialValue:V.defaultValue!==""+ir&&(V.defaultValue=""+ir))}var _o=Array.isArray;function yo(V,mt,ir,cr){if(V=V.options,mt){mt={};for(var pr=0;pr<ir.length;pr++)mt["$"+ir[pr]]=!0;for(ir=0;ir<V.length;ir++)pr=mt.hasOwnProperty("$"+V[ir].value),V[ir].selected!==pr&&(V[ir].selected=pr),pr&&cr&&(V[ir].defaultSelected=!0)}else{for(ir=""+Fn(ir),mt=null,pr=0;pr<V.length;pr++){if(V[pr].value===ir){V[pr].selected=!0,cr&&(V[pr].defaultSelected=!0);return}mt!==null||V[pr].disabled||(mt=V[pr])}mt!==null&&(mt.selected=!0)}}function _s(V,mt){if(mt.dangerouslySetInnerHTML!=null)throw Error(t(91));return cn({},mt,{value:void 0,defaultValue:void 0,children:""+V._wrapperState.initialValue})}function ys(V,mt){var ir=mt.value;if(ir==null){if(ir=mt.children,mt=mt.defaultValue,ir!=null){if(mt!=null)throw Error(t(92));if(_o(ir)){if(1<ir.length)throw Error(t(93));ir=ir[0]}mt=ir}mt==null&&(mt=""),ir=mt}V._wrapperState={initialValue:Fn(ir)}}function Hi(V,mt){var ir=Fn(mt.value),cr=Fn(mt.defaultValue);ir!=null&&(ir=""+ir,ir!==V.value&&(V.value=ir),mt.defaultValue==null&&V.defaultValue!==ir&&(V.defaultValue=ir)),cr!=null&&(V.defaultValue=""+cr)}function Qs(V){var mt=V.textContent;mt===V._wrapperState.initialValue&&mt!==""&&mt!==null&&(V.value=mt)}function Kn(V){switch(V){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qn(V,mt){return V==null||V==="http://www.w3.org/1999/xhtml"?Kn(mt):V==="http://www.w3.org/2000/svg"&&mt==="foreignObject"?"http://www.w3.org/1999/xhtml":V}var ko,Xs=function(V){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(mt,ir,cr,pr){MSApp.execUnsafeLocalFunction(function(){return V(mt,ir,cr,pr)})}:V}(function(V,mt){if(V.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in V)V.innerHTML=mt;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+mt.valueOf().toString()+"</svg>",mt=ko.firstChild;V.firstChild;)V.removeChild(V.firstChild);for(;mt.firstChild;)V.appendChild(mt.firstChild)}});function Qo(V,mt){if(mt){var ir=V.firstChild;if(ir&&ir===V.lastChild&&ir.nodeType===3){ir.nodeValue=mt;return}}V.textContent=mt}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jo=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(V){Jo.forEach(function(mt){mt=mt+V.charAt(0).toUpperCase()+V.substring(1),Xo[mt]=Xo[V]})});function xo(V,mt,ir){return mt==null||typeof mt=="boolean"||mt===""?"":ir||typeof mt!="number"||mt===0||Xo.hasOwnProperty(V)&&Xo[V]?(""+mt).trim():mt+"px"}function vs(V,mt){V=V.style;for(var ir in mt)if(mt.hasOwnProperty(ir)){var cr=ir.indexOf("--")===0,pr=xo(ir,mt[ir],cr);ir==="float"&&(ir="cssFloat"),cr?V.setProperty(ir,pr):V[ir]=pr}}var Js=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(V,mt){if(mt){if(Js[V]&&(mt.children!=null||mt.dangerouslySetInnerHTML!=null))throw Error(t(137,V));if(mt.dangerouslySetInnerHTML!=null){if(mt.children!=null)throw Error(t(60));if(typeof mt.dangerouslySetInnerHTML!="object"||!("__html"in mt.dangerouslySetInnerHTML))throw Error(t(61))}if(mt.style!=null&&typeof mt.style!="object")throw Error(t(62))}}function Zs(V,mt){if(V.indexOf("-")===-1)return typeof mt.is=="string";switch(V){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=null;function $i(V){return V=V.target||V.srcElement||window,V.correspondingUseElement&&(V=V.correspondingUseElement),V.nodeType===3?V.parentNode:V}var vo=null,Bi=null,io=null;function Zo(V){if(V=xl(V)){if(typeof vo!="function")throw Error(t(280));var mt=V.stateNode;mt&&(mt=oc(mt),vo(V.stateNode,V.type,mt))}}function oo(V){Bi?io?io.push(V):io=[V]:Bi=V}function so(){if(Bi){var V=Bi,mt=io;if(io=Bi=null,Zo(V),mt)for(V=0;V<mt.length;V++)Zo(mt[V])}}function Lo(V,mt){return V(mt)}function ea(){}var Ki=!1;function es(V,mt,ir){if(Ki)return V(mt,ir);Ki=!0;try{return Lo(V,mt,ir)}finally{Ki=!1,(Bi!==null||io!==null)&&(ea(),so())}}function Xn(V,mt){var ir=V.stateNode;if(ir===null)return null;var cr=oc(ir);if(cr===null)return null;ir=cr[mt];e:switch(mt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(cr=!cr.disabled)||(V=V.type,cr=!(V==="button"||V==="input"||V==="select"||V==="textarea")),V=!cr;break e;default:V=!1}if(V)return null;if(ir&&typeof ir!="function")throw Error(t(231,mt,typeof ir));return ir}var ao=!1;if(c)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){ao=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{ao=!1}function Ei(V,mt,ir,cr,pr,_r,Ir,xr,Lr){var Gr=Array.prototype.slice.call(arguments,3);try{mt.apply(ir,Gr)}catch($r){this.onError($r)}}var Vi=!1,Es=null,xn=!1,wi=null,wa={onError:function(V){Vi=!0,Es=V}};function ta(V,mt,ir,cr,pr,_r,Ir,xr,Lr){Vi=!1,Es=null,Ei.apply(wa,arguments)}function bs(V,mt,ir,cr,pr,_r,Ir,xr,Lr){if(ta.apply(this,arguments),Vi){if(Vi){var Gr=Es;Vi=!1,Es=null}else throw Error(t(198));xn||(xn=!0,wi=Gr)}}function Ni(V){var mt=V,ir=V;if(V.alternate)for(;mt.return;)mt=mt.return;else{V=mt;do mt=V,(mt.flags&4098)!==0&&(ir=mt.return),V=mt.return;while(V)}return mt.tag===3?ir:null}function Eo(V){if(V.tag===13){var mt=V.memoizedState;if(mt===null&&(V=V.alternate,V!==null&&(mt=V.memoizedState)),mt!==null)return mt.dehydrated}return null}function bi(V){if(Ni(V)!==V)throw Error(t(188))}function Oa(V){var mt=V.alternate;if(!mt){if(mt=Ni(V),mt===null)throw Error(t(188));return mt!==V?null:V}for(var ir=V,cr=mt;;){var pr=ir.return;if(pr===null)break;var _r=pr.alternate;if(_r===null){if(cr=pr.return,cr!==null){ir=cr;continue}break}if(pr.child===_r.child){for(_r=pr.child;_r;){if(_r===ir)return bi(pr),V;if(_r===cr)return bi(pr),mt;_r=_r.sibling}throw Error(t(188))}if(ir.return!==cr.return)ir=pr,cr=_r;else{for(var Ir=!1,xr=pr.child;xr;){if(xr===ir){Ir=!0,ir=pr,cr=_r;break}if(xr===cr){Ir=!0,cr=pr,ir=_r;break}xr=xr.sibling}if(!Ir){for(xr=_r.child;xr;){if(xr===ir){Ir=!0,ir=_r,cr=pr;break}if(xr===cr){Ir=!0,cr=_r,ir=pr;break}xr=xr.sibling}if(!Ir)throw Error(t(189))}}if(ir.alternate!==cr)throw Error(t(190))}if(ir.tag!==3)throw Error(t(188));return ir.stateNode.current===ir?V:mt}function Ts(V){return V=Oa(V),V!==null?ts(V):null}function ts(V){if(V.tag===5||V.tag===6)return V;for(V=V.child;V!==null;){var mt=ts(V);if(mt!==null)return mt;V=V.sibling}return null}var Rs=e.unstable_scheduleCallback,Ti=e.unstable_cancelCallback,ji=e.unstable_shouldYield,Is=e.unstable_requestPaint,jn=e.unstable_now,ra=e.unstable_getCurrentPriorityLevel,rs=e.unstable_ImmediatePriority,co=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,na=e.unstable_LowPriority,As=e.unstable_IdlePriority,di=null,gi=null;function Qa(V){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(di,V,void 0,(V.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:Ja,Ss=Math.log,Xa=Math.LN2;function Ja(V){return V>>>=0,V===0?32:31-(Ss(V)/Xa|0)|0}var Ps=64,ws=4194304;function Bo(V){switch(V&-V){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return V&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return V&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return V}}function ns(V,mt){var ir=V.pendingLanes;if(ir===0)return 0;var cr=0,pr=V.suspendedLanes,_r=V.pingedLanes,Ir=ir&268435455;if(Ir!==0){var xr=Ir&~pr;xr!==0?cr=Bo(xr):(_r&=Ir,_r!==0&&(cr=Bo(_r)))}else Ir=ir&~pr,Ir!==0?cr=Bo(Ir):_r!==0&&(cr=Bo(_r));if(cr===0)return 0;if(mt!==0&&mt!==cr&&(mt&pr)===0&&(pr=cr&-cr,_r=mt&-mt,pr>=_r||pr===16&&(_r&4194240)!==0))return mt;if((cr&4)!==0&&(cr|=ir&16),mt=V.entangledLanes,mt!==0)for(V=V.entanglements,mt&=cr;0<mt;)ir=31-hi(mt),pr=1<<ir,cr|=V[ir],mt&=~pr;return cr}function fi(V,mt){switch(V){case 1:case 2:case 4:return mt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return mt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(V,mt){for(var ir=V.suspendedLanes,cr=V.pingedLanes,pr=V.expirationTimes,_r=V.pendingLanes;0<_r;){var Ir=31-hi(_r),xr=1<<Ir,Lr=pr[Ir];Lr===-1?((xr&ir)===0||(xr&cr)!==0)&&(pr[Ir]=fi(xr,mt)):Lr<=mt&&(V.expiredLanes|=xr),_r&=~xr}}function Oi(V){return V=V.pendingLanes&-1073741825,V!==0?V:V&1073741824?1073741824:0}function To(){var V=Ps;return Ps<<=1,(Ps&4194240)===0&&(Ps=64),V}function Vo(V){for(var mt=[],ir=0;31>ir;ir++)mt.push(V);return mt}function No(V,mt,ir){V.pendingLanes|=mt,mt!==536870912&&(V.suspendedLanes=0,V.pingedLanes=0),V=V.eventTimes,mt=31-hi(mt),V[mt]=ir}function zn(V,mt){var ir=V.pendingLanes&~mt;V.pendingLanes=mt,V.suspendedLanes=0,V.pingedLanes=0,V.expiredLanes&=mt,V.mutableReadLanes&=mt,V.entangledLanes&=mt,mt=V.entanglements;var cr=V.eventTimes;for(V=V.expirationTimes;0<ir;){var pr=31-hi(ir),_r=1<<pr;mt[pr]=0,cr[pr]=-1,V[pr]=-1,ir&=~_r}}function is(V,mt){var ir=V.entangledLanes|=mt;for(V=V.entanglements;ir;){var cr=31-hi(ir),pr=1<<cr;pr&mt|V[cr]&mt&&(V[cr]|=mt),ir&=~pr}}var Mn=0;function jo(V){return V&=-V,1<V?4<V?(V&268435455)!==0?16:536870912:4:1}var Os,Cs,Ca,os,Za,Ma=!1,Ro=[],li=null,Gi=null,Ri=null,ss=new Map,qi=new Map,Io=[],Pl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ia(V,mt){switch(V){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":ss.delete(mt.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(mt.pointerId)}}function Ii(V,mt,ir,cr,pr,_r){return V===null||V.nativeEvent!==_r?(V={blockedOn:mt,domEventName:ir,eventSystemFlags:cr,nativeEvent:_r,targetContainers:[pr]},mt!==null&&(mt=xl(mt),mt!==null&&Cs(mt)),V):(V.eventSystemFlags|=cr,mt=V.targetContainers,pr!==null&&mt.indexOf(pr)===-1&&mt.push(pr),V)}function el(V,mt,ir,cr,pr){switch(mt){case"focusin":return li=Ii(li,V,mt,ir,cr,pr),!0;case"dragenter":return Gi=Ii(Gi,V,mt,ir,cr,pr),!0;case"mouseover":return Ri=Ii(Ri,V,mt,ir,cr,pr),!0;case"pointerover":var _r=pr.pointerId;return ss.set(_r,Ii(ss.get(_r)||null,V,mt,ir,cr,pr)),!0;case"gotpointercapture":return _r=pr.pointerId,qi.set(_r,Ii(qi.get(_r)||null,V,mt,ir,cr,pr)),!0}return!1}function as(V){var mt=Va(V.target);if(mt!==null){var ir=Ni(mt);if(ir!==null){if(mt=ir.tag,mt===13){if(mt=Eo(ir),mt!==null){V.blockedOn=mt,Za(V.priority,function(){Ca(ir)});return}}else if(mt===3&&ir.stateNode.current.memoizedState.isDehydrated){V.blockedOn=ir.tag===3?ir.stateNode.containerInfo:null;return}}}V.blockedOn=null}function ni(V){if(V.blockedOn!==null)return!1;for(var mt=V.targetContainers;0<mt.length;){var ir=xs(V.domEventName,V.eventSystemFlags,mt[0],V.nativeEvent);if(ir===null){ir=V.nativeEvent;var cr=new ir.constructor(ir.type,ir);Do=cr,ir.target.dispatchEvent(cr),Do=null}else return mt=xl(ir),mt!==null&&Cs(mt),V.blockedOn=ir,!1;mt.shift()}return!0}function Ms(V,mt,ir){ni(V)&&ir.delete(mt)}function tl(){Ma=!1,li!==null&&ni(li)&&(li=null),Gi!==null&&ni(Gi)&&(Gi=null),Ri!==null&&ni(Ri)&&(Ri=null),ss.forEach(Ms),qi.forEach(Ms)}function Yi(V,mt){V.blockedOn===mt&&(V.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tl)))}function Qi(V){function mt(pr){return Yi(pr,V)}if(0<Ro.length){Yi(Ro[0],V);for(var ir=1;ir<Ro.length;ir++){var cr=Ro[ir];cr.blockedOn===V&&(cr.blockedOn=null)}}for(li!==null&&Yi(li,V),Gi!==null&&Yi(Gi,V),Ri!==null&&Yi(Ri,V),ss.forEach(mt),qi.forEach(mt),ir=0;ir<Io.length;ir++)cr=Io[ir],cr.blockedOn===V&&(cr.blockedOn=null);for(;0<Io.length&&(ir=Io[0],ir.blockedOn===null);)as(ir),ir.blockedOn===null&&Io.shift()}var uo=Ar.ReactCurrentBatchConfig,Ao=!0;function Nn(V,mt,ir,cr){var pr=Mn,_r=uo.transition;uo.transition=null;try{Mn=1,Fs(V,mt,ir,cr)}finally{Mn=pr,uo.transition=_r}}function rl(V,mt,ir,cr){var pr=Mn,_r=uo.transition;uo.transition=null;try{Mn=4,Fs(V,mt,ir,cr)}finally{Mn=pr,uo.transition=_r}}function Fs(V,mt,ir,cr){if(Ao){var pr=xs(V,mt,ir,cr);if(pr===null)tu(V,mt,cr,ks,ir),ia(V,cr);else if(el(pr,V,mt,ir,cr))cr.stopPropagation();else if(ia(V,cr),mt&4&&-1<Pl.indexOf(V)){for(;pr!==null;){var _r=xl(pr);if(_r!==null&&Os(_r),_r=xs(V,mt,ir,cr),_r===null&&tu(V,mt,cr,ks,ir),_r===pr)break;pr=_r}pr!==null&&cr.stopPropagation()}else tu(V,mt,cr,null,ir)}}var ks=null;function xs(V,mt,ir,cr){if(ks=null,V=$i(cr),V=Va(V),V!==null)if(mt=Ni(V),mt===null)V=null;else if(ir=mt.tag,ir===13){if(V=Eo(mt),V!==null)return V;V=null}else if(ir===3){if(mt.stateNode.current.memoizedState.isDehydrated)return mt.tag===3?mt.stateNode.containerInfo:null;V=null}else mt!==V&&(V=null);return ks=V,null}function So(V){switch(V){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ra()){case rs:return 1;case co:return 4;case Jn:case na:return 16;case As:return 536870912;default:return 16}default:return 16}}var Ci=null,Ds=null,Mi=null;function oa(){if(Mi)return Mi;var V,mt=Ds,ir=mt.length,cr,pr="value"in Ci?Ci.value:Ci.textContent,_r=pr.length;for(V=0;V<ir&&mt[V]===pr[V];V++);var Ir=ir-V;for(cr=1;cr<=Ir&&mt[ir-cr]===pr[_r-cr];cr++);return Mi=pr.slice(V,1<cr?1-cr:void 0)}function Go(V){var mt=V.keyCode;return"charCode"in V?(V=V.charCode,V===0&&mt===13&&(V=13)):V=mt,V===10&&(V=13),32<=V||V===13?V:0}function po(){return!0}function Fa(){return!1}function oi(V){function mt(ir,cr,pr,_r,Ir){this._reactName=ir,this._targetInst=pr,this.type=cr,this.nativeEvent=_r,this.target=Ir,this.currentTarget=null;for(var xr in V)V.hasOwnProperty(xr)&&(ir=V[xr],this[xr]=ir?ir(_r):_r[xr]);return this.isDefaultPrevented=(_r.defaultPrevented!=null?_r.defaultPrevented:_r.returnValue===!1)?po:Fa,this.isPropagationStopped=Fa,this}return cn(mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ir=this.nativeEvent;ir&&(ir.preventDefault?ir.preventDefault():typeof ir.returnValue!="unknown"&&(ir.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var ir=this.nativeEvent;ir&&(ir.stopPropagation?ir.stopPropagation():typeof ir.cancelBubble!="unknown"&&(ir.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),mt}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(V){return V.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=oi(Xi),go=cn({},Xi,{view:0,detail:0}),ka=oi(go),Bs,zo,ls,Vs=cn({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(V){return V.relatedTarget===void 0?V.fromElement===V.srcElement?V.toElement:V.fromElement:V.relatedTarget},movementX:function(V){return"movementX"in V?V.movementX:(V!==ls&&(ls&&V.type==="mousemove"?(Bs=V.screenX-ls.screenX,zo=V.screenY-ls.screenY):zo=Bs=0,ls=V),Bs)},movementY:function(V){return"movementY"in V?V.movementY:zo}}),sa=oi(Vs),aa=cn({},Vs,{dataTransfer:0}),nl=oi(aa),la=cn({},go,{relatedTarget:0}),cs=oi(la),il=cn({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=oi(il),ol=cn({},Xi,{clipboardData:function(V){return"clipboardData"in V?V.clipboardData:window.clipboardData}}),Ns=oi(ol),sl=cn({},Xi,{data:0}),xa=oi(sl),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ar(V){var mt=this.nativeEvent;return mt.getModifierState?mt.getModifierState(V):(V=Da[V])?!!mt[V]:!1}function fr(){return ar}var tr=cn({},go,{key:function(V){if(V.key){var mt=ca[V.key]||V.key;if(mt!=="Unidentified")return mt}return V.type==="keypress"?(V=Go(V),V===13?"Enter":String.fromCharCode(V)):V.type==="keydown"||V.type==="keyup"?mi[V.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(V){return V.type==="keypress"?Go(V):0},keyCode:function(V){return V.type==="keydown"||V.type==="keyup"?V.keyCode:0},which:function(V){return V.type==="keypress"?Go(V):V.type==="keydown"||V.type==="keyup"?V.keyCode:0}}),lr=oi(tr),ur=cn({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=oi(ur),br=cn({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),Pr=oi(br),Dr=cn({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zr=oi(Dr),Kr=cn({},Vs,{deltaX:function(V){return"deltaX"in V?V.deltaX:"wheelDeltaX"in V?-V.wheelDeltaX:0},deltaY:function(V){return"deltaY"in V?V.deltaY:"wheelDeltaY"in V?-V.wheelDeltaY:"wheelDelta"in V?-V.wheelDelta:0},deltaZ:0,deltaMode:0}),Zr=oi(Kr),pn=[9,13,27,32],Yr=c&&"CompositionEvent"in window,bn=null;c&&"documentMode"in document&&(bn=document.documentMode);var Rn=c&&"TextEvent"in window&&!bn,Dn=c&&(!Yr||bn&&8<bn&&11>=bn),Ln=" ",si=!1;function zi(V,mt){switch(V){case"keyup":return pn.indexOf(mt.keyCode)!==-1;case"keydown":return mt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ai(V){return V=V.detail,typeof V=="object"&&"data"in V?V.data:null}var Cn=!1;function ci(V,mt){switch(V){case"compositionend":return Ai(mt);case"keypress":return mt.which!==32?null:(si=!0,Ln);case"textInput":return V=mt.data,V===Ln&&si?null:V;default:return null}}function us(V,mt){if(Cn)return V==="compositionend"||!Yr&&zi(V,mt)?(V=oa(),Mi=Ds=Ci=null,Cn=!1,V):null;switch(V){case"paste":return null;case"keypress":if(!(mt.ctrlKey||mt.altKey||mt.metaKey)||mt.ctrlKey&&mt.altKey){if(mt.char&&1<mt.char.length)return mt.char;if(mt.which)return String.fromCharCode(mt.which)}return null;case"compositionend":return Dn&&mt.locale!=="ko"?null:mt.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(V){var mt=V&&V.nodeName&&V.nodeName.toLowerCase();return mt==="input"?!!Hc[V.type]:mt==="textarea"}function Xl(V,mt,ir,cr){oo(cr),mt=rc(mt,"onChange"),0<mt.length&&(ir=new Ls("onChange","change",null,ir,cr),V.push({event:ir,listeners:mt}))}var La=null,Ba=null;function al(V){Op(V,0)}function Jl(V){var mt=dl(V);if(qs(mt))return V}function mg(V,mt){if(V==="change")return mt}var dp=!1;if(c){var $c;if(c){var Kc="oninput"in document;if(!Kc){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Kc=typeof gp.oninput=="function"}$c=Kc}else $c=!1;dp=$c&&(!document.documentMode||9<document.documentMode)}function hp(){La&&(La.detachEvent("onpropertychange",fp),Ba=La=null)}function fp(V){if(V.propertyName==="value"&&Jl(Ba)){var mt=[];Xl(mt,Ba,V,$i(V)),es(al,mt)}}function _g(V,mt,ir){V==="focusin"?(hp(),La=mt,Ba=ir,La.attachEvent("onpropertychange",fp)):V==="focusout"&&hp()}function yg(V){if(V==="selectionchange"||V==="keyup"||V==="keydown")return Jl(Ba)}function vg(V,mt){if(V==="click")return Jl(mt)}function Eg(V,mt){if(V==="input"||V==="change")return Jl(mt)}function bg(V,mt){return V===mt&&(V!==0||1/V===1/mt)||V!==V&&mt!==mt}var Wo=typeof Object.is=="function"?Object.is:bg;function wl(V,mt){if(Wo(V,mt))return!0;if(typeof V!="object"||V===null||typeof mt!="object"||mt===null)return!1;var ir=Object.keys(V),cr=Object.keys(mt);if(ir.length!==cr.length)return!1;for(cr=0;cr<ir.length;cr++){var pr=ir[cr];if(!w.call(mt,pr)||!Wo(V[pr],mt[pr]))return!1}return!0}function mp(V){for(;V&&V.firstChild;)V=V.firstChild;return V}function _p(V,mt){var ir=mp(V);V=0;for(var cr;ir;){if(ir.nodeType===3){if(cr=V+ir.textContent.length,V<=mt&&cr>=mt)return{node:ir,offset:mt-V};V=cr}e:{for(;ir;){if(ir.nextSibling){ir=ir.nextSibling;break e}ir=ir.parentNode}ir=void 0}ir=mp(ir)}}function yp(V,mt){return V&&mt?V===mt?!0:V&&V.nodeType===3?!1:mt&&mt.nodeType===3?yp(V,mt.parentNode):"contains"in V?V.contains(mt):V.compareDocumentPosition?!!(V.compareDocumentPosition(mt)&16):!1:!1}function vp(){for(var V=window,mt=Un();mt instanceof V.HTMLIFrameElement;){try{var ir=typeof mt.contentWindow.location.href=="string"}catch{ir=!1}if(ir)V=mt.contentWindow;else break;mt=Un(V.document)}return mt}function qc(V){var mt=V&&V.nodeName&&V.nodeName.toLowerCase();return mt&&(mt==="input"&&(V.type==="text"||V.type==="search"||V.type==="tel"||V.type==="url"||V.type==="password")||mt==="textarea"||V.contentEditable==="true")}function Tg(V){var mt=vp(),ir=V.focusedElem,cr=V.selectionRange;if(mt!==ir&&ir&&ir.ownerDocument&&yp(ir.ownerDocument.documentElement,ir)){if(cr!==null&&qc(ir)){if(mt=cr.start,V=cr.end,V===void 0&&(V=mt),"selectionStart"in ir)ir.selectionStart=mt,ir.selectionEnd=Math.min(V,ir.value.length);else if(V=(mt=ir.ownerDocument||document)&&mt.defaultView||window,V.getSelection){V=V.getSelection();var pr=ir.textContent.length,_r=Math.min(cr.start,pr);cr=cr.end===void 0?_r:Math.min(cr.end,pr),!V.extend&&_r>cr&&(pr=cr,cr=_r,_r=pr),pr=_p(ir,_r);var Ir=_p(ir,cr);pr&&Ir&&(V.rangeCount!==1||V.anchorNode!==pr.node||V.anchorOffset!==pr.offset||V.focusNode!==Ir.node||V.focusOffset!==Ir.offset)&&(mt=mt.createRange(),mt.setStart(pr.node,pr.offset),V.removeAllRanges(),_r>cr?(V.addRange(mt),V.extend(Ir.node,Ir.offset)):(mt.setEnd(Ir.node,Ir.offset),V.addRange(mt)))}}for(mt=[],V=ir;V=V.parentNode;)V.nodeType===1&&mt.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof ir.focus=="function"&&ir.focus(),ir=0;ir<mt.length;ir++)V=mt[ir],V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}var Rg=c&&"documentMode"in document&&11>=document.documentMode,ll=null,Yc=null,Ol=null,Qc=!1;function Ep(V,mt,ir){var cr=ir.window===ir?ir.document:ir.nodeType===9?ir:ir.ownerDocument;Qc||ll==null||ll!==Un(cr)||(cr=ll,"selectionStart"in cr&&qc(cr)?cr={start:cr.selectionStart,end:cr.selectionEnd}:(cr=(cr.ownerDocument&&cr.ownerDocument.defaultView||window).getSelection(),cr={anchorNode:cr.anchorNode,anchorOffset:cr.anchorOffset,focusNode:cr.focusNode,focusOffset:cr.focusOffset}),Ol&&wl(Ol,cr)||(Ol=cr,cr=rc(Yc,"onSelect"),0<cr.length&&(mt=new Ls("onSelect","select",null,mt,ir),V.push({event:mt,listeners:cr}),mt.target=ll)))}function Zl(V,mt){var ir={};return ir[V.toLowerCase()]=mt.toLowerCase(),ir["Webkit"+V]="webkit"+mt,ir["Moz"+V]="moz"+mt,ir}var cl={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Xc={},bp={};c&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function ec(V){if(Xc[V])return Xc[V];if(!cl[V])return V;var mt=cl[V],ir;for(ir in mt)if(mt.hasOwnProperty(ir)&&ir in bp)return Xc[V]=mt[ir];return V}var Tp=ec("animationend"),Rp=ec("animationiteration"),Ip=ec("animationstart"),Ap=ec("transitionend"),Sp=new Map,Pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(V,mt){Sp.set(V,mt),s(mt,[V])}for(var Jc=0;Jc<Pp.length;Jc++){var Zc=Pp[Jc],Ig=Zc.toLowerCase(),Ag=Zc[0].toUpperCase()+Zc.slice(1);ua(Ig,"on"+Ag)}ua(Tp,"onAnimationEnd"),ua(Rp,"onAnimationIteration"),ua(Ip,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(Ap,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function wp(V,mt,ir){var cr=V.type||"unknown-event";V.currentTarget=ir,bs(cr,mt,void 0,V),V.currentTarget=null}function Op(V,mt){mt=(mt&4)!==0;for(var ir=0;ir<V.length;ir++){var cr=V[ir],pr=cr.event;cr=cr.listeners;e:{var _r=void 0;if(mt)for(var Ir=cr.length-1;0<=Ir;Ir--){var xr=cr[Ir],Lr=xr.instance,Gr=xr.currentTarget;if(xr=xr.listener,Lr!==_r&&pr.isPropagationStopped())break e;wp(pr,xr,Gr),_r=Lr}else for(Ir=0;Ir<cr.length;Ir++){if(xr=cr[Ir],Lr=xr.instance,Gr=xr.currentTarget,xr=xr.listener,Lr!==_r&&pr.isPropagationStopped())break e;wp(pr,xr,Gr),_r=Lr}}}if(xn)throw V=wi,xn=!1,wi=null,V}function Hn(V,mt){var ir=mt[au];ir===void 0&&(ir=mt[au]=new Set);var cr=V+"__bubble";ir.has(cr)||(Cp(mt,V,2,!1),ir.add(cr))}function eu(V,mt,ir){var cr=0;mt&&(cr|=4),Cp(ir,V,cr,mt)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Ml(V){if(!V[tc]){V[tc]=!0,i.forEach(function(ir){ir!=="selectionchange"&&(Sg.has(ir)||eu(ir,!1,V),eu(ir,!0,V))});var mt=V.nodeType===9?V:V.ownerDocument;mt===null||mt[tc]||(mt[tc]=!0,eu("selectionchange",!1,mt))}}function Cp(V,mt,ir,cr){switch(So(mt)){case 1:var pr=Nn;break;case 4:pr=rl;break;default:pr=Fs}ir=pr.bind(null,mt,ir,V),pr=void 0,!ao||mt!=="touchstart"&&mt!=="touchmove"&&mt!=="wheel"||(pr=!0),cr?pr!==void 0?V.addEventListener(mt,ir,{capture:!0,passive:pr}):V.addEventListener(mt,ir,!0):pr!==void 0?V.addEventListener(mt,ir,{passive:pr}):V.addEventListener(mt,ir,!1)}function tu(V,mt,ir,cr,pr){var _r=cr;if((mt&1)===0&&(mt&2)===0&&cr!==null)e:for(;;){if(cr===null)return;var Ir=cr.tag;if(Ir===3||Ir===4){var xr=cr.stateNode.containerInfo;if(xr===pr||xr.nodeType===8&&xr.parentNode===pr)break;if(Ir===4)for(Ir=cr.return;Ir!==null;){var Lr=Ir.tag;if((Lr===3||Lr===4)&&(Lr=Ir.stateNode.containerInfo,Lr===pr||Lr.nodeType===8&&Lr.parentNode===pr))return;Ir=Ir.return}for(;xr!==null;){if(Ir=Va(xr),Ir===null)return;if(Lr=Ir.tag,Lr===5||Lr===6){cr=_r=Ir;continue e}xr=xr.parentNode}}cr=cr.return}es(function(){var Gr=_r,$r=$i(ir),qr=[];e:{var Hr=Sp.get(V);if(Hr!==void 0){var fn=Ls,vn=V;switch(V){case"keypress":if(Go(ir)===0)break e;case"keydown":case"keyup":fn=lr;break;case"focusin":vn="focus",fn=cs;break;case"focusout":vn="blur",fn=cs;break;case"beforeblur":case"afterblur":fn=cs;break;case"click":if(ir.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=Pr;break;case Tp:case Rp:case Ip:fn=Uo;break;case Ap:fn=zr;break;case"scroll":fn=ka;break;case"wheel":fn=Zr;break;case"copy":case"cut":case"paste":fn=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=yr}var En=(mt&4)!==0,ii=!En&&V==="scroll",Nr=En?Hr!==null?Hr+"Capture":null:Hr;En=[];for(var Br=Gr,jr;Br!==null;){jr=Br;var Qr=jr.stateNode;if(jr.tag===5&&Qr!==null&&(jr=Qr,Nr!==null&&(Qr=Xn(Br,Nr),Qr!=null&&En.push(Fl(Br,Qr,jr)))),ii)break;Br=Br.return}0<En.length&&(Hr=new fn(Hr,vn,null,ir,$r),qr.push({event:Hr,listeners:En}))}}if((mt&7)===0){e:{if(Hr=V==="mouseover"||V==="pointerover",fn=V==="mouseout"||V==="pointerout",Hr&&ir!==Do&&(vn=ir.relatedTarget||ir.fromElement)&&(Va(vn)||vn[js]))break e;if((fn||Hr)&&(Hr=$r.window===$r?$r:(Hr=$r.ownerDocument)?Hr.defaultView||Hr.parentWindow:window,fn?(vn=ir.relatedTarget||ir.toElement,fn=Gr,vn=vn?Va(vn):null,vn!==null&&(ii=Ni(vn),vn!==ii||vn.tag!==5&&vn.tag!==6)&&(vn=null)):(fn=null,vn=Gr),fn!==vn)){if(En=sa,Qr="onMouseLeave",Nr="onMouseEnter",Br="mouse",(V==="pointerout"||V==="pointerover")&&(En=yr,Qr="onPointerLeave",Nr="onPointerEnter",Br="pointer"),ii=fn==null?Hr:dl(fn),jr=vn==null?Hr:dl(vn),Hr=new En(Qr,Br+"leave",fn,ir,$r),Hr.target=ii,Hr.relatedTarget=jr,Qr=null,Va($r)===Gr&&(En=new En(Nr,Br+"enter",vn,ir,$r),En.target=jr,En.relatedTarget=ii,Qr=En),ii=Qr,fn&&vn)t:{for(En=fn,Nr=vn,Br=0,jr=En;jr;jr=ul(jr))Br++;for(jr=0,Qr=Nr;Qr;Qr=ul(Qr))jr++;for(;0<Br-jr;)En=ul(En),Br--;for(;0<jr-Br;)Nr=ul(Nr),jr--;for(;Br--;){if(En===Nr||Nr!==null&&En===Nr.alternate)break t;En=ul(En),Nr=ul(Nr)}En=null}else En=null;fn!==null&&Mp(qr,Hr,fn,En,!1),vn!==null&&ii!==null&&Mp(qr,ii,vn,En,!0)}}e:{if(Hr=Gr?dl(Gr):window,fn=Hr.nodeName&&Hr.nodeName.toLowerCase(),fn==="select"||fn==="input"&&Hr.type==="file")var Tn=mg;else if(Ql(Hr))if(dp)Tn=Eg;else{Tn=yg;var In=_g}else(fn=Hr.nodeName)&&fn.toLowerCase()==="input"&&(Hr.type==="checkbox"||Hr.type==="radio")&&(Tn=vg);if(Tn&&(Tn=Tn(V,Gr))){Xl(qr,Tn,ir,$r);break e}In&&In(V,Hr,Gr),V==="focusout"&&(In=Hr._wrapperState)&&In.controlled&&Hr.type==="number"&&ms(Hr,"number",Hr.value)}switch(In=Gr?dl(Gr):window,V){case"focusin":(Ql(In)||In.contentEditable==="true")&&(ll=In,Yc=Gr,Ol=null);break;case"focusout":Ol=Yc=ll=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Ep(qr,ir,$r);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":Ep(qr,ir,$r)}var An;if(Yr)e:{switch(V){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else Cn?zi(V,ir)&&(wn="onCompositionEnd"):V==="keydown"&&ir.keyCode===229&&(wn="onCompositionStart");wn&&(Dn&&ir.locale!=="ko"&&(Cn||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&Cn&&(An=oa()):(Ci=$r,Ds="value"in Ci?Ci.value:Ci.textContent,Cn=!0)),In=rc(Gr,wn),0<In.length&&(wn=new xa(wn,V,null,ir,$r),qr.push({event:wn,listeners:In}),An?wn.data=An:(An=Ai(ir),An!==null&&(wn.data=An)))),(An=Rn?ci(V,ir):us(V,ir))&&(Gr=rc(Gr,"onBeforeInput"),0<Gr.length&&($r=new xa("onBeforeInput","beforeinput",null,ir,$r),qr.push({event:$r,listeners:Gr}),$r.data=An))}Op(qr,mt)})}function Fl(V,mt,ir){return{instance:V,listener:mt,currentTarget:ir}}function rc(V,mt){for(var ir=mt+"Capture",cr=[];V!==null;){var pr=V,_r=pr.stateNode;pr.tag===5&&_r!==null&&(pr=_r,_r=Xn(V,ir),_r!=null&&cr.unshift(Fl(V,_r,pr)),_r=Xn(V,mt),_r!=null&&cr.push(Fl(V,_r,pr))),V=V.return}return cr}function ul(V){if(V===null)return null;do V=V.return;while(V&&V.tag!==5);return V||null}function Mp(V,mt,ir,cr,pr){for(var _r=mt._reactName,Ir=[];ir!==null&&ir!==cr;){var xr=ir,Lr=xr.alternate,Gr=xr.stateNode;if(Lr!==null&&Lr===cr)break;xr.tag===5&&Gr!==null&&(xr=Gr,pr?(Lr=Xn(ir,_r),Lr!=null&&Ir.unshift(Fl(ir,Lr,xr))):pr||(Lr=Xn(ir,_r),Lr!=null&&Ir.push(Fl(ir,Lr,xr)))),ir=ir.return}Ir.length!==0&&V.push({event:mt,listeners:Ir})}var Pg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function Fp(V){return(typeof V=="string"?V:""+V).replace(Pg,`
`).replace(wg,"")}function nc(V,mt,ir){if(mt=Fp(mt),Fp(V)!==mt&&ir)throw Error(t(425))}function ic(){}var ru=null,nu=null;function iu(V,mt){return V==="textarea"||V==="noscript"||typeof mt.children=="string"||typeof mt.children=="number"||typeof mt.dangerouslySetInnerHTML=="object"&&mt.dangerouslySetInnerHTML!==null&&mt.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,Og=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,Cg=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(V){return kp.resolve(null).then(V).catch(Mg)}:ou;function Mg(V){setTimeout(function(){throw V})}function su(V,mt){var ir=mt,cr=0;do{var pr=ir.nextSibling;if(V.removeChild(ir),pr&&pr.nodeType===8)if(ir=pr.data,ir==="/$"){if(cr===0){V.removeChild(pr),Qi(mt);return}cr--}else ir!=="$"&&ir!=="$?"&&ir!=="$!"||cr++;ir=pr}while(ir);Qi(mt)}function pa(V){for(;V!=null;V=V.nextSibling){var mt=V.nodeType;if(mt===1||mt===3)break;if(mt===8){if(mt=V.data,mt==="$"||mt==="$!"||mt==="$?")break;if(mt==="/$")return null}}return V}function xp(V){V=V.previousSibling;for(var mt=0;V;){if(V.nodeType===8){var ir=V.data;if(ir==="$"||ir==="$!"||ir==="$?"){if(mt===0)return V;mt--}else ir==="/$"&&mt++}V=V.previousSibling}return null}var pl=Math.random().toString(36).slice(2),ps="__reactFiber$"+pl,kl="__reactProps$"+pl,js="__reactContainer$"+pl,au="__reactEvents$"+pl,Fg="__reactListeners$"+pl,kg="__reactHandles$"+pl;function Va(V){var mt=V[ps];if(mt)return mt;for(var ir=V.parentNode;ir;){if(mt=ir[js]||ir[ps]){if(ir=mt.alternate,mt.child!==null||ir!==null&&ir.child!==null)for(V=xp(V);V!==null;){if(ir=V[ps])return ir;V=xp(V)}return mt}V=ir,ir=V.parentNode}return null}function xl(V){return V=V[ps]||V[js],!V||V.tag!==5&&V.tag!==6&&V.tag!==13&&V.tag!==3?null:V}function dl(V){if(V.tag===5||V.tag===6)return V.stateNode;throw Error(t(33))}function oc(V){return V[kl]||null}var lu=[],gl=-1;function da(V){return{current:V}}function $n(V){0>gl||(V.current=lu[gl],lu[gl]=null,gl--)}function Wn(V,mt){gl++,lu[gl]=V.current,V.current=mt}var ga={},Fi=da(ga),Ji=da(!1),Na=ga;function hl(V,mt){var ir=V.type.contextTypes;if(!ir)return ga;var cr=V.stateNode;if(cr&&cr.__reactInternalMemoizedUnmaskedChildContext===mt)return cr.__reactInternalMemoizedMaskedChildContext;var pr={},_r;for(_r in ir)pr[_r]=mt[_r];return cr&&(V=V.stateNode,V.__reactInternalMemoizedUnmaskedChildContext=mt,V.__reactInternalMemoizedMaskedChildContext=pr),pr}function Zi(V){return V=V.childContextTypes,V!=null}function sc(){$n(Ji),$n(Fi)}function Dp(V,mt,ir){if(Fi.current!==ga)throw Error(t(168));Wn(Fi,mt),Wn(Ji,ir)}function Lp(V,mt,ir){var cr=V.stateNode;if(mt=mt.childContextTypes,typeof cr.getChildContext!="function")return ir;cr=cr.getChildContext();for(var pr in cr)if(!(pr in mt))throw Error(t(108,kn(V)||"Unknown",pr));return cn({},ir,cr)}function ac(V){return V=(V=V.stateNode)&&V.__reactInternalMemoizedMergedChildContext||ga,Na=Fi.current,Wn(Fi,V),Wn(Ji,Ji.current),!0}function Bp(V,mt,ir){var cr=V.stateNode;if(!cr)throw Error(t(169));ir?(V=Lp(V,mt,Na),cr.__reactInternalMemoizedMergedChildContext=V,$n(Ji),$n(Fi),Wn(Fi,V)):$n(Ji),Wn(Ji,ir)}var Gs=null,lc=!1,cu=!1;function Vp(V){Gs===null?Gs=[V]:Gs.push(V)}function xg(V){lc=!0,Vp(V)}function ha(){if(!cu&&Gs!==null){cu=!0;var V=0,mt=Mn;try{var ir=Gs;for(Mn=1;V<ir.length;V++){var cr=ir[V];do cr=cr(!0);while(cr!==null)}Gs=null,lc=!1}catch(pr){throw Gs!==null&&(Gs=Gs.slice(V+1)),Rs(rs,ha),pr}finally{Mn=mt,cu=!1}}return null}var fl=[],ml=0,cc=null,uc=0,Po=[],wo=0,ja=null,zs=1,Us="";function Ga(V,mt){fl[ml++]=uc,fl[ml++]=cc,cc=V,uc=mt}function Np(V,mt,ir){Po[wo++]=zs,Po[wo++]=Us,Po[wo++]=ja,ja=V;var cr=zs;V=Us;var pr=32-hi(cr)-1;cr&=~(1<<pr),ir+=1;var _r=32-hi(mt)+pr;if(30<_r){var Ir=pr-pr%5;_r=(cr&(1<<Ir)-1).toString(32),cr>>=Ir,pr-=Ir,zs=1<<32-hi(mt)+pr|ir<<pr|cr,Us=_r+V}else zs=1<<_r|ir<<pr|cr,Us=V}function uu(V){V.return!==null&&(Ga(V,1),Np(V,1,0))}function pu(V){for(;V===cc;)cc=fl[--ml],fl[ml]=null,uc=fl[--ml],fl[ml]=null;for(;V===ja;)ja=Po[--wo],Po[wo]=null,Us=Po[--wo],Po[wo]=null,zs=Po[--wo],Po[wo]=null}var ho=null,fo=null,qn=!1,Ho=null;function jp(V,mt){var ir=Fo(5,null,null,0);ir.elementType="DELETED",ir.stateNode=mt,ir.return=V,mt=V.deletions,mt===null?(V.deletions=[ir],V.flags|=16):mt.push(ir)}function Gp(V,mt){switch(V.tag){case 5:var ir=V.type;return mt=mt.nodeType!==1||ir.toLowerCase()!==mt.nodeName.toLowerCase()?null:mt,mt!==null?(V.stateNode=mt,ho=V,fo=pa(mt.firstChild),!0):!1;case 6:return mt=V.pendingProps===""||mt.nodeType!==3?null:mt,mt!==null?(V.stateNode=mt,ho=V,fo=null,!0):!1;case 13:return mt=mt.nodeType!==8?null:mt,mt!==null?(ir=ja!==null?{id:zs,overflow:Us}:null,V.memoizedState={dehydrated:mt,treeContext:ir,retryLane:1073741824},ir=Fo(18,null,null,0),ir.stateNode=mt,ir.return=V,V.child=ir,ho=V,fo=null,!0):!1;default:return!1}}function du(V){return(V.mode&1)!==0&&(V.flags&128)===0}function gu(V){if(qn){var mt=fo;if(mt){var ir=mt;if(!Gp(V,mt)){if(du(V))throw Error(t(418));mt=pa(ir.nextSibling);var cr=ho;mt&&Gp(V,mt)?jp(cr,ir):(V.flags=V.flags&-4097|2,qn=!1,ho=V)}}else{if(du(V))throw Error(t(418));V.flags=V.flags&-4097|2,qn=!1,ho=V}}}function zp(V){for(V=V.return;V!==null&&V.tag!==5&&V.tag!==3&&V.tag!==13;)V=V.return;ho=V}function pc(V){if(V!==ho)return!1;if(!qn)return zp(V),qn=!0,!1;var mt;if((mt=V.tag!==3)&&!(mt=V.tag!==5)&&(mt=V.type,mt=mt!=="head"&&mt!=="body"&&!iu(V.type,V.memoizedProps)),mt&&(mt=fo)){if(du(V))throw Up(),Error(t(418));for(;mt;)jp(V,mt),mt=pa(mt.nextSibling)}if(zp(V),V.tag===13){if(V=V.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(t(317));e:{for(V=V.nextSibling,mt=0;V;){if(V.nodeType===8){var ir=V.data;if(ir==="/$"){if(mt===0){fo=pa(V.nextSibling);break e}mt--}else ir!=="$"&&ir!=="$!"&&ir!=="$?"||mt++}V=V.nextSibling}fo=null}}else fo=ho?pa(V.stateNode.nextSibling):null;return!0}function Up(){for(var V=fo;V;)V=pa(V.nextSibling)}function _l(){fo=ho=null,qn=!1}function hu(V){Ho===null?Ho=[V]:Ho.push(V)}var Dg=Ar.ReactCurrentBatchConfig;function Dl(V,mt,ir){if(V=ir.ref,V!==null&&typeof V!="function"&&typeof V!="object"){if(ir._owner){if(ir=ir._owner,ir){if(ir.tag!==1)throw Error(t(309));var cr=ir.stateNode}if(!cr)throw Error(t(147,V));var pr=cr,_r=""+V;return mt!==null&&mt.ref!==null&&typeof mt.ref=="function"&&mt.ref._stringRef===_r?mt.ref:(mt=function(Ir){var xr=pr.refs;Ir===null?delete xr[_r]:xr[_r]=Ir},mt._stringRef=_r,mt)}if(typeof V!="string")throw Error(t(284));if(!ir._owner)throw Error(t(290,V))}return V}function dc(V,mt){throw V=Object.prototype.toString.call(mt),Error(t(31,V==="[object Object]"?"object with keys {"+Object.keys(mt).join(", ")+"}":V))}function Wp(V){var mt=V._init;return mt(V._payload)}function Hp(V){function mt(Nr,Br){if(V){var jr=Nr.deletions;jr===null?(Nr.deletions=[Br],Nr.flags|=16):jr.push(Br)}}function ir(Nr,Br){if(!V)return null;for(;Br!==null;)mt(Nr,Br),Br=Br.sibling;return null}function cr(Nr,Br){for(Nr=new Map;Br!==null;)Br.key!==null?Nr.set(Br.key,Br):Nr.set(Br.index,Br),Br=Br.sibling;return Nr}function pr(Nr,Br){return Nr=Ta(Nr,Br),Nr.index=0,Nr.sibling=null,Nr}function _r(Nr,Br,jr){return Nr.index=jr,V?(jr=Nr.alternate,jr!==null?(jr=jr.index,jr<Br?(Nr.flags|=2,Br):jr):(Nr.flags|=2,Br)):(Nr.flags|=1048576,Br)}function Ir(Nr){return V&&Nr.alternate===null&&(Nr.flags|=2),Nr}function xr(Nr,Br,jr,Qr){return Br===null||Br.tag!==6?(Br=op(jr,Nr.mode,Qr),Br.return=Nr,Br):(Br=pr(Br,jr),Br.return=Nr,Br)}function Lr(Nr,Br,jr,Qr){var Tn=jr.type;return Tn===Tr?$r(Nr,Br,jr.props.children,Qr,jr.key):Br!==null&&(Br.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Xr&&Wp(Tn)===Br.type)?(Qr=pr(Br,jr.props),Qr.ref=Dl(Nr,Br,jr),Qr.return=Nr,Qr):(Qr=Lc(jr.type,jr.key,jr.props,null,Nr.mode,Qr),Qr.ref=Dl(Nr,Br,jr),Qr.return=Nr,Qr)}function Gr(Nr,Br,jr,Qr){return Br===null||Br.tag!==4||Br.stateNode.containerInfo!==jr.containerInfo||Br.stateNode.implementation!==jr.implementation?(Br=sp(jr,Nr.mode,Qr),Br.return=Nr,Br):(Br=pr(Br,jr.children||[]),Br.return=Nr,Br)}function $r(Nr,Br,jr,Qr,Tn){return Br===null||Br.tag!==7?(Br=Ya(jr,Nr.mode,Qr,Tn),Br.return=Nr,Br):(Br=pr(Br,jr),Br.return=Nr,Br)}function qr(Nr,Br,jr){if(typeof Br=="string"&&Br!==""||typeof Br=="number")return Br=op(""+Br,Nr.mode,jr),Br.return=Nr,Br;if(typeof Br=="object"&&Br!==null){switch(Br.$$typeof){case Mr:return jr=Lc(Br.type,Br.key,Br.props,null,Nr.mode,jr),jr.ref=Dl(Nr,null,Br),jr.return=Nr,jr;case Fr:return Br=sp(Br,Nr.mode,jr),Br.return=Nr,Br;case Xr:var Qr=Br._init;return qr(Nr,Qr(Br._payload),jr)}if(_o(Br)||Jr(Br))return Br=Ya(Br,Nr.mode,jr,null),Br.return=Nr,Br;dc(Nr,Br)}return null}function Hr(Nr,Br,jr,Qr){var Tn=Br!==null?Br.key:null;if(typeof jr=="string"&&jr!==""||typeof jr=="number")return Tn!==null?null:xr(Nr,Br,""+jr,Qr);if(typeof jr=="object"&&jr!==null){switch(jr.$$typeof){case Mr:return jr.key===Tn?Lr(Nr,Br,jr,Qr):null;case Fr:return jr.key===Tn?Gr(Nr,Br,jr,Qr):null;case Xr:return Tn=jr._init,Hr(Nr,Br,Tn(jr._payload),Qr)}if(_o(jr)||Jr(jr))return Tn!==null?null:$r(Nr,Br,jr,Qr,null);dc(Nr,jr)}return null}function fn(Nr,Br,jr,Qr,Tn){if(typeof Qr=="string"&&Qr!==""||typeof Qr=="number")return Nr=Nr.get(jr)||null,xr(Br,Nr,""+Qr,Tn);if(typeof Qr=="object"&&Qr!==null){switch(Qr.$$typeof){case Mr:return Nr=Nr.get(Qr.key===null?jr:Qr.key)||null,Lr(Br,Nr,Qr,Tn);case Fr:return Nr=Nr.get(Qr.key===null?jr:Qr.key)||null,Gr(Br,Nr,Qr,Tn);case Xr:var In=Qr._init;return fn(Nr,Br,jr,In(Qr._payload),Tn)}if(_o(Qr)||Jr(Qr))return Nr=Nr.get(jr)||null,$r(Br,Nr,Qr,Tn,null);dc(Br,Qr)}return null}function vn(Nr,Br,jr,Qr){for(var Tn=null,In=null,An=Br,wn=Br=0,vi=null;An!==null&&wn<jr.length;wn++){An.index>wn?(vi=An,An=null):vi=An.sibling;var Vn=Hr(Nr,An,jr[wn],Qr);if(Vn===null){An===null&&(An=vi);break}V&&An&&Vn.alternate===null&&mt(Nr,An),Br=_r(Vn,Br,wn),In===null?Tn=Vn:In.sibling=Vn,In=Vn,An=vi}if(wn===jr.length)return ir(Nr,An),qn&&Ga(Nr,wn),Tn;if(An===null){for(;wn<jr.length;wn++)An=qr(Nr,jr[wn],Qr),An!==null&&(Br=_r(An,Br,wn),In===null?Tn=An:In.sibling=An,In=An);return qn&&Ga(Nr,wn),Tn}for(An=cr(Nr,An);wn<jr.length;wn++)vi=fn(An,Nr,wn,jr[wn],Qr),vi!==null&&(V&&vi.alternate!==null&&An.delete(vi.key===null?wn:vi.key),Br=_r(vi,Br,wn),In===null?Tn=vi:In.sibling=vi,In=vi);return V&&An.forEach(function(Ra){return mt(Nr,Ra)}),qn&&Ga(Nr,wn),Tn}function En(Nr,Br,jr,Qr){var Tn=Jr(jr);if(typeof Tn!="function")throw Error(t(150));if(jr=Tn.call(jr),jr==null)throw Error(t(151));for(var In=Tn=null,An=Br,wn=Br=0,vi=null,Vn=jr.next();An!==null&&!Vn.done;wn++,Vn=jr.next()){An.index>wn?(vi=An,An=null):vi=An.sibling;var Ra=Hr(Nr,An,Vn.value,Qr);if(Ra===null){An===null&&(An=vi);break}V&&An&&Ra.alternate===null&&mt(Nr,An),Br=_r(Ra,Br,wn),In===null?Tn=Ra:In.sibling=Ra,In=Ra,An=vi}if(Vn.done)return ir(Nr,An),qn&&Ga(Nr,wn),Tn;if(An===null){for(;!Vn.done;wn++,Vn=jr.next())Vn=qr(Nr,Vn.value,Qr),Vn!==null&&(Br=_r(Vn,Br,wn),In===null?Tn=Vn:In.sibling=Vn,In=Vn);return qn&&Ga(Nr,wn),Tn}for(An=cr(Nr,An);!Vn.done;wn++,Vn=jr.next())Vn=fn(An,Nr,wn,Vn.value,Qr),Vn!==null&&(V&&Vn.alternate!==null&&An.delete(Vn.key===null?wn:Vn.key),Br=_r(Vn,Br,wn),In===null?Tn=Vn:In.sibling=Vn,In=Vn);return V&&An.forEach(function(hh){return mt(Nr,hh)}),qn&&Ga(Nr,wn),Tn}function ii(Nr,Br,jr,Qr){if(typeof jr=="object"&&jr!==null&&jr.type===Tr&&jr.key===null&&(jr=jr.props.children),typeof jr=="object"&&jr!==null){switch(jr.$$typeof){case Mr:e:{for(var Tn=jr.key,In=Br;In!==null;){if(In.key===Tn){if(Tn=jr.type,Tn===Tr){if(In.tag===7){ir(Nr,In.sibling),Br=pr(In,jr.props.children),Br.return=Nr,Nr=Br;break e}}else if(In.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Xr&&Wp(Tn)===In.type){ir(Nr,In.sibling),Br=pr(In,jr.props),Br.ref=Dl(Nr,In,jr),Br.return=Nr,Nr=Br;break e}ir(Nr,In);break}else mt(Nr,In);In=In.sibling}jr.type===Tr?(Br=Ya(jr.props.children,Nr.mode,Qr,jr.key),Br.return=Nr,Nr=Br):(Qr=Lc(jr.type,jr.key,jr.props,null,Nr.mode,Qr),Qr.ref=Dl(Nr,Br,jr),Qr.return=Nr,Nr=Qr)}return Ir(Nr);case Fr:e:{for(In=jr.key;Br!==null;){if(Br.key===In)if(Br.tag===4&&Br.stateNode.containerInfo===jr.containerInfo&&Br.stateNode.implementation===jr.implementation){ir(Nr,Br.sibling),Br=pr(Br,jr.children||[]),Br.return=Nr,Nr=Br;break e}else{ir(Nr,Br);break}else mt(Nr,Br);Br=Br.sibling}Br=sp(jr,Nr.mode,Qr),Br.return=Nr,Nr=Br}return Ir(Nr);case Xr:return In=jr._init,ii(Nr,Br,In(jr._payload),Qr)}if(_o(jr))return vn(Nr,Br,jr,Qr);if(Jr(jr))return En(Nr,Br,jr,Qr);dc(Nr,jr)}return typeof jr=="string"&&jr!==""||typeof jr=="number"?(jr=""+jr,Br!==null&&Br.tag===6?(ir(Nr,Br.sibling),Br=pr(Br,jr),Br.return=Nr,Nr=Br):(ir(Nr,Br),Br=op(jr,Nr.mode,Qr),Br.return=Nr,Nr=Br),Ir(Nr)):ir(Nr,Br)}return ii}var yl=Hp(!0),$p=Hp(!1),gc=da(null),hc=null,vl=null,fu=null;function mu(){fu=vl=hc=null}function _u(V){var mt=gc.current;$n(gc),V._currentValue=mt}function yu(V,mt,ir){for(;V!==null;){var cr=V.alternate;if((V.childLanes&mt)!==mt?(V.childLanes|=mt,cr!==null&&(cr.childLanes|=mt)):cr!==null&&(cr.childLanes&mt)!==mt&&(cr.childLanes|=mt),V===ir)break;V=V.return}}function El(V,mt){hc=V,fu=vl=null,V=V.dependencies,V!==null&&V.firstContext!==null&&((V.lanes&mt)!==0&&(eo=!0),V.firstContext=null)}function Oo(V){var mt=V._currentValue;if(fu!==V)if(V={context:V,memoizedValue:mt,next:null},vl===null){if(hc===null)throw Error(t(308));vl=V,hc.dependencies={lanes:0,firstContext:V}}else vl=vl.next=V;return mt}var za=null;function vu(V){za===null?za=[V]:za.push(V)}function Kp(V,mt,ir,cr){var pr=mt.interleaved;return pr===null?(ir.next=ir,vu(mt)):(ir.next=pr.next,pr.next=ir),mt.interleaved=ir,Ws(V,cr)}function Ws(V,mt){V.lanes|=mt;var ir=V.alternate;for(ir!==null&&(ir.lanes|=mt),ir=V,V=V.return;V!==null;)V.childLanes|=mt,ir=V.alternate,ir!==null&&(ir.childLanes|=mt),ir=V,V=V.return;return ir.tag===3?ir.stateNode:null}var fa=!1;function Eu(V){V.updateQueue={baseState:V.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(V,mt){V=V.updateQueue,mt.updateQueue===V&&(mt.updateQueue={baseState:V.baseState,firstBaseUpdate:V.firstBaseUpdate,lastBaseUpdate:V.lastBaseUpdate,shared:V.shared,effects:V.effects})}function Hs(V,mt){return{eventTime:V,lane:mt,tag:0,payload:null,callback:null,next:null}}function ma(V,mt,ir){var cr=V.updateQueue;if(cr===null)return null;if(cr=cr.shared,(Bn&2)!==0){var pr=cr.pending;return pr===null?mt.next=mt:(mt.next=pr.next,pr.next=mt),cr.pending=mt,Ws(V,ir)}return pr=cr.interleaved,pr===null?(mt.next=mt,vu(cr)):(mt.next=pr.next,pr.next=mt),cr.interleaved=mt,Ws(V,ir)}function fc(V,mt,ir){if(mt=mt.updateQueue,mt!==null&&(mt=mt.shared,(ir&4194240)!==0)){var cr=mt.lanes;cr&=V.pendingLanes,ir|=cr,mt.lanes=ir,is(V,ir)}}function Yp(V,mt){var ir=V.updateQueue,cr=V.alternate;if(cr!==null&&(cr=cr.updateQueue,ir===cr)){var pr=null,_r=null;if(ir=ir.firstBaseUpdate,ir!==null){do{var Ir={eventTime:ir.eventTime,lane:ir.lane,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null};_r===null?pr=_r=Ir:_r=_r.next=Ir,ir=ir.next}while(ir!==null);_r===null?pr=_r=mt:_r=_r.next=mt}else pr=_r=mt;ir={baseState:cr.baseState,firstBaseUpdate:pr,lastBaseUpdate:_r,shared:cr.shared,effects:cr.effects},V.updateQueue=ir;return}V=ir.lastBaseUpdate,V===null?ir.firstBaseUpdate=mt:V.next=mt,ir.lastBaseUpdate=mt}function mc(V,mt,ir,cr){var pr=V.updateQueue;fa=!1;var _r=pr.firstBaseUpdate,Ir=pr.lastBaseUpdate,xr=pr.shared.pending;if(xr!==null){pr.shared.pending=null;var Lr=xr,Gr=Lr.next;Lr.next=null,Ir===null?_r=Gr:Ir.next=Gr,Ir=Lr;var $r=V.alternate;$r!==null&&($r=$r.updateQueue,xr=$r.lastBaseUpdate,xr!==Ir&&(xr===null?$r.firstBaseUpdate=Gr:xr.next=Gr,$r.lastBaseUpdate=Lr))}if(_r!==null){var qr=pr.baseState;Ir=0,$r=Gr=Lr=null,xr=_r;do{var Hr=xr.lane,fn=xr.eventTime;if((cr&Hr)===Hr){$r!==null&&($r=$r.next={eventTime:fn,lane:0,tag:xr.tag,payload:xr.payload,callback:xr.callback,next:null});e:{var vn=V,En=xr;switch(Hr=mt,fn=ir,En.tag){case 1:if(vn=En.payload,typeof vn=="function"){qr=vn.call(fn,qr,Hr);break e}qr=vn;break e;case 3:vn.flags=vn.flags&-65537|128;case 0:if(vn=En.payload,Hr=typeof vn=="function"?vn.call(fn,qr,Hr):vn,Hr==null)break e;qr=cn({},qr,Hr);break e;case 2:fa=!0}}xr.callback!==null&&xr.lane!==0&&(V.flags|=64,Hr=pr.effects,Hr===null?pr.effects=[xr]:Hr.push(xr))}else fn={eventTime:fn,lane:Hr,tag:xr.tag,payload:xr.payload,callback:xr.callback,next:null},$r===null?(Gr=$r=fn,Lr=qr):$r=$r.next=fn,Ir|=Hr;if(xr=xr.next,xr===null){if(xr=pr.shared.pending,xr===null)break;Hr=xr,xr=Hr.next,Hr.next=null,pr.lastBaseUpdate=Hr,pr.shared.pending=null}}while(!0);if($r===null&&(Lr=qr),pr.baseState=Lr,pr.firstBaseUpdate=Gr,pr.lastBaseUpdate=$r,mt=pr.shared.interleaved,mt!==null){pr=mt;do Ir|=pr.lane,pr=pr.next;while(pr!==mt)}else _r===null&&(pr.shared.lanes=0);Ha|=Ir,V.lanes=Ir,V.memoizedState=qr}}function Qp(V,mt,ir){if(V=mt.effects,mt.effects=null,V!==null)for(mt=0;mt<V.length;mt++){var cr=V[mt],pr=cr.callback;if(pr!==null){if(cr.callback=null,cr=ir,typeof pr!="function")throw Error(t(191,pr));pr.call(cr)}}}var Ll={},ds=da(Ll),Bl=da(Ll),Vl=da(Ll);function Ua(V){if(V===Ll)throw Error(t(174));return V}function bu(V,mt){switch(Wn(Vl,mt),Wn(Bl,V),Wn(ds,Ll),V=mt.nodeType,V){case 9:case 11:mt=(mt=mt.documentElement)?mt.namespaceURI:Qn(null,"");break;default:V=V===8?mt.parentNode:mt,mt=V.namespaceURI||null,V=V.tagName,mt=Qn(mt,V)}$n(ds),Wn(ds,mt)}function bl(){$n(ds),$n(Bl),$n(Vl)}function Xp(V){Ua(Vl.current);var mt=Ua(ds.current),ir=Qn(mt,V.type);mt!==ir&&(Wn(Bl,V),Wn(ds,ir))}function Tu(V){Bl.current===V&&($n(ds),$n(Bl))}var Zn=da(0);function _c(V){for(var mt=V;mt!==null;){if(mt.tag===13){var ir=mt.memoizedState;if(ir!==null&&(ir=ir.dehydrated,ir===null||ir.data==="$?"||ir.data==="$!"))return mt}else if(mt.tag===19&&mt.memoizedProps.revealOrder!==void 0){if((mt.flags&128)!==0)return mt}else if(mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===V)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===V)return null;mt=mt.return}mt.sibling.return=mt.return,mt=mt.sibling}return null}var Ru=[];function Iu(){for(var V=0;V<Ru.length;V++)Ru[V]._workInProgressVersionPrimary=null;Ru.length=0}var yc=Ar.ReactCurrentDispatcher,Au=Ar.ReactCurrentBatchConfig,Wa=0,ei=null,ui=null,_i=null,vc=!1,Nl=!1,jl=0,Lg=0;function ki(){throw Error(t(321))}function Su(V,mt){if(mt===null)return!1;for(var ir=0;ir<mt.length&&ir<V.length;ir++)if(!Wo(V[ir],mt[ir]))return!1;return!0}function Pu(V,mt,ir,cr,pr,_r){if(Wa=_r,ei=mt,mt.memoizedState=null,mt.updateQueue=null,mt.lanes=0,yc.current=V===null||V.memoizedState===null?jg:Gg,V=ir(cr,pr),Nl){_r=0;do{if(Nl=!1,jl=0,25<=_r)throw Error(t(301));_r+=1,_i=ui=null,mt.updateQueue=null,yc.current=zg,V=ir(cr,pr)}while(Nl)}if(yc.current=Tc,mt=ui!==null&&ui.next!==null,Wa=0,_i=ui=ei=null,vc=!1,mt)throw Error(t(300));return V}function wu(){var V=jl!==0;return jl=0,V}function gs(){var V={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?ei.memoizedState=_i=V:_i=_i.next=V,_i}function Co(){if(ui===null){var V=ei.alternate;V=V!==null?V.memoizedState:null}else V=ui.next;var mt=_i===null?ei.memoizedState:_i.next;if(mt!==null)_i=mt,ui=V;else{if(V===null)throw Error(t(310));ui=V,V={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},_i===null?ei.memoizedState=_i=V:_i=_i.next=V}return _i}function Gl(V,mt){return typeof mt=="function"?mt(V):mt}function Ou(V){var mt=Co(),ir=mt.queue;if(ir===null)throw Error(t(311));ir.lastRenderedReducer=V;var cr=ui,pr=cr.baseQueue,_r=ir.pending;if(_r!==null){if(pr!==null){var Ir=pr.next;pr.next=_r.next,_r.next=Ir}cr.baseQueue=pr=_r,ir.pending=null}if(pr!==null){_r=pr.next,cr=cr.baseState;var xr=Ir=null,Lr=null,Gr=_r;do{var $r=Gr.lane;if((Wa&$r)===$r)Lr!==null&&(Lr=Lr.next={lane:0,action:Gr.action,hasEagerState:Gr.hasEagerState,eagerState:Gr.eagerState,next:null}),cr=Gr.hasEagerState?Gr.eagerState:V(cr,Gr.action);else{var qr={lane:$r,action:Gr.action,hasEagerState:Gr.hasEagerState,eagerState:Gr.eagerState,next:null};Lr===null?(xr=Lr=qr,Ir=cr):Lr=Lr.next=qr,ei.lanes|=$r,Ha|=$r}Gr=Gr.next}while(Gr!==null&&Gr!==_r);Lr===null?Ir=cr:Lr.next=xr,Wo(cr,mt.memoizedState)||(eo=!0),mt.memoizedState=cr,mt.baseState=Ir,mt.baseQueue=Lr,ir.lastRenderedState=cr}if(V=ir.interleaved,V!==null){pr=V;do _r=pr.lane,ei.lanes|=_r,Ha|=_r,pr=pr.next;while(pr!==V)}else pr===null&&(ir.lanes=0);return[mt.memoizedState,ir.dispatch]}function Cu(V){var mt=Co(),ir=mt.queue;if(ir===null)throw Error(t(311));ir.lastRenderedReducer=V;var cr=ir.dispatch,pr=ir.pending,_r=mt.memoizedState;if(pr!==null){ir.pending=null;var Ir=pr=pr.next;do _r=V(_r,Ir.action),Ir=Ir.next;while(Ir!==pr);Wo(_r,mt.memoizedState)||(eo=!0),mt.memoizedState=_r,mt.baseQueue===null&&(mt.baseState=_r),ir.lastRenderedState=_r}return[_r,cr]}function Jp(){}function Zp(V,mt){var ir=ei,cr=Co(),pr=mt(),_r=!Wo(cr.memoizedState,pr);if(_r&&(cr.memoizedState=pr,eo=!0),cr=cr.queue,Mu(rd.bind(null,ir,cr,V),[V]),cr.getSnapshot!==mt||_r||_i!==null&&_i.memoizedState.tag&1){if(ir.flags|=2048,zl(9,td.bind(null,ir,cr,pr,mt),void 0,null),yi===null)throw Error(t(349));(Wa&30)!==0||ed(ir,mt,pr)}return pr}function ed(V,mt,ir){V.flags|=16384,V={getSnapshot:mt,value:ir},mt=ei.updateQueue,mt===null?(mt={lastEffect:null,stores:null},ei.updateQueue=mt,mt.stores=[V]):(ir=mt.stores,ir===null?mt.stores=[V]:ir.push(V))}function td(V,mt,ir,cr){mt.value=ir,mt.getSnapshot=cr,nd(mt)&&id(V)}function rd(V,mt,ir){return ir(function(){nd(mt)&&id(V)})}function nd(V){var mt=V.getSnapshot;V=V.value;try{var ir=mt();return!Wo(V,ir)}catch{return!0}}function id(V){var mt=Ws(V,1);mt!==null&&Yo(mt,V,1,-1)}function od(V){var mt=gs();return typeof V=="function"&&(V=V()),mt.memoizedState=mt.baseState=V,V={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:V},mt.queue=V,V=V.dispatch=Ng.bind(null,ei,V),[mt.memoizedState,V]}function zl(V,mt,ir,cr){return V={tag:V,create:mt,destroy:ir,deps:cr,next:null},mt=ei.updateQueue,mt===null?(mt={lastEffect:null,stores:null},ei.updateQueue=mt,mt.lastEffect=V.next=V):(ir=mt.lastEffect,ir===null?mt.lastEffect=V.next=V:(cr=ir.next,ir.next=V,V.next=cr,mt.lastEffect=V)),V}function sd(){return Co().memoizedState}function Ec(V,mt,ir,cr){var pr=gs();ei.flags|=V,pr.memoizedState=zl(1|mt,ir,void 0,cr===void 0?null:cr)}function bc(V,mt,ir,cr){var pr=Co();cr=cr===void 0?null:cr;var _r=void 0;if(ui!==null){var Ir=ui.memoizedState;if(_r=Ir.destroy,cr!==null&&Su(cr,Ir.deps)){pr.memoizedState=zl(mt,ir,_r,cr);return}}ei.flags|=V,pr.memoizedState=zl(1|mt,ir,_r,cr)}function ad(V,mt){return Ec(8390656,8,V,mt)}function Mu(V,mt){return bc(2048,8,V,mt)}function ld(V,mt){return bc(4,2,V,mt)}function cd(V,mt){return bc(4,4,V,mt)}function ud(V,mt){if(typeof mt=="function")return V=V(),mt(V),function(){mt(null)};if(mt!=null)return V=V(),mt.current=V,function(){mt.current=null}}function pd(V,mt,ir){return ir=ir!=null?ir.concat([V]):null,bc(4,4,ud.bind(null,mt,V),ir)}function Fu(){}function dd(V,mt){var ir=Co();mt=mt===void 0?null:mt;var cr=ir.memoizedState;return cr!==null&&mt!==null&&Su(mt,cr[1])?cr[0]:(ir.memoizedState=[V,mt],V)}function gd(V,mt){var ir=Co();mt=mt===void 0?null:mt;var cr=ir.memoizedState;return cr!==null&&mt!==null&&Su(mt,cr[1])?cr[0]:(V=V(),ir.memoizedState=[V,mt],V)}function hd(V,mt,ir){return(Wa&21)===0?(V.baseState&&(V.baseState=!1,eo=!0),V.memoizedState=ir):(Wo(ir,mt)||(ir=To(),ei.lanes|=ir,Ha|=ir,V.baseState=!0),mt)}function Bg(V,mt){var ir=Mn;Mn=ir!==0&&4>ir?ir:4,V(!0);var cr=Au.transition;Au.transition={};try{V(!1),mt()}finally{Mn=ir,Au.transition=cr}}function fd(){return Co().memoizedState}function Vg(V,mt,ir){var cr=Ea(V);if(ir={lane:cr,action:ir,hasEagerState:!1,eagerState:null,next:null},md(V))_d(mt,ir);else if(ir=Kp(V,mt,ir,cr),ir!==null){var pr=Wi();Yo(ir,V,cr,pr),yd(ir,mt,cr)}}function Ng(V,mt,ir){var cr=Ea(V),pr={lane:cr,action:ir,hasEagerState:!1,eagerState:null,next:null};if(md(V))_d(mt,pr);else{var _r=V.alternate;if(V.lanes===0&&(_r===null||_r.lanes===0)&&(_r=mt.lastRenderedReducer,_r!==null))try{var Ir=mt.lastRenderedState,xr=_r(Ir,ir);if(pr.hasEagerState=!0,pr.eagerState=xr,Wo(xr,Ir)){var Lr=mt.interleaved;Lr===null?(pr.next=pr,vu(mt)):(pr.next=Lr.next,Lr.next=pr),mt.interleaved=pr;return}}catch{}finally{}ir=Kp(V,mt,pr,cr),ir!==null&&(pr=Wi(),Yo(ir,V,cr,pr),yd(ir,mt,cr))}}function md(V){var mt=V.alternate;return V===ei||mt!==null&&mt===ei}function _d(V,mt){Nl=vc=!0;var ir=V.pending;ir===null?mt.next=mt:(mt.next=ir.next,ir.next=mt),V.pending=mt}function yd(V,mt,ir){if((ir&4194240)!==0){var cr=mt.lanes;cr&=V.pendingLanes,ir|=cr,mt.lanes=ir,is(V,ir)}}var Tc={readContext:Oo,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},jg={readContext:Oo,useCallback:function(V,mt){return gs().memoizedState=[V,mt===void 0?null:mt],V},useContext:Oo,useEffect:ad,useImperativeHandle:function(V,mt,ir){return ir=ir!=null?ir.concat([V]):null,Ec(4194308,4,ud.bind(null,mt,V),ir)},useLayoutEffect:function(V,mt){return Ec(4194308,4,V,mt)},useInsertionEffect:function(V,mt){return Ec(4,2,V,mt)},useMemo:function(V,mt){var ir=gs();return mt=mt===void 0?null:mt,V=V(),ir.memoizedState=[V,mt],V},useReducer:function(V,mt,ir){var cr=gs();return mt=ir!==void 0?ir(mt):mt,cr.memoizedState=cr.baseState=mt,V={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V,lastRenderedState:mt},cr.queue=V,V=V.dispatch=Vg.bind(null,ei,V),[cr.memoizedState,V]},useRef:function(V){var mt=gs();return V={current:V},mt.memoizedState=V},useState:od,useDebugValue:Fu,useDeferredValue:function(V){return gs().memoizedState=V},useTransition:function(){var V=od(!1),mt=V[0];return V=Bg.bind(null,V[1]),gs().memoizedState=V,[mt,V]},useMutableSource:function(){},useSyncExternalStore:function(V,mt,ir){var cr=ei,pr=gs();if(qn){if(ir===void 0)throw Error(t(407));ir=ir()}else{if(ir=mt(),yi===null)throw Error(t(349));(Wa&30)!==0||ed(cr,mt,ir)}pr.memoizedState=ir;var _r={value:ir,getSnapshot:mt};return pr.queue=_r,ad(rd.bind(null,cr,_r,V),[V]),cr.flags|=2048,zl(9,td.bind(null,cr,_r,ir,mt),void 0,null),ir},useId:function(){var V=gs(),mt=yi.identifierPrefix;if(qn){var ir=Us,cr=zs;ir=(cr&~(1<<32-hi(cr)-1)).toString(32)+ir,mt=":"+mt+"R"+ir,ir=jl++,0<ir&&(mt+="H"+ir.toString(32)),mt+=":"}else ir=Lg++,mt=":"+mt+"r"+ir.toString(32)+":";return V.memoizedState=mt},unstable_isNewReconciler:!1},Gg={readContext:Oo,useCallback:dd,useContext:Oo,useEffect:Mu,useImperativeHandle:pd,useInsertionEffect:ld,useLayoutEffect:cd,useMemo:gd,useReducer:Ou,useRef:sd,useState:function(){return Ou(Gl)},useDebugValue:Fu,useDeferredValue:function(V){var mt=Co();return hd(mt,ui.memoizedState,V)},useTransition:function(){var V=Ou(Gl)[0],mt=Co().memoizedState;return[V,mt]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:fd,unstable_isNewReconciler:!1},zg={readContext:Oo,useCallback:dd,useContext:Oo,useEffect:Mu,useImperativeHandle:pd,useInsertionEffect:ld,useLayoutEffect:cd,useMemo:gd,useReducer:Cu,useRef:sd,useState:function(){return Cu(Gl)},useDebugValue:Fu,useDeferredValue:function(V){var mt=Co();return ui===null?mt.memoizedState=V:hd(mt,ui.memoizedState,V)},useTransition:function(){var V=Cu(Gl)[0],mt=Co().memoizedState;return[V,mt]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:fd,unstable_isNewReconciler:!1};function $o(V,mt){if(V&&V.defaultProps){mt=cn({},mt),V=V.defaultProps;for(var ir in V)mt[ir]===void 0&&(mt[ir]=V[ir]);return mt}return mt}function ku(V,mt,ir,cr){mt=V.memoizedState,ir=ir(cr,mt),ir=ir==null?mt:cn({},mt,ir),V.memoizedState=ir,V.lanes===0&&(V.updateQueue.baseState=ir)}var Rc={isMounted:function(V){return(V=V._reactInternals)?Ni(V)===V:!1},enqueueSetState:function(V,mt,ir){V=V._reactInternals;var cr=Wi(),pr=Ea(V),_r=Hs(cr,pr);_r.payload=mt,ir!=null&&(_r.callback=ir),mt=ma(V,_r,pr),mt!==null&&(Yo(mt,V,pr,cr),fc(mt,V,pr))},enqueueReplaceState:function(V,mt,ir){V=V._reactInternals;var cr=Wi(),pr=Ea(V),_r=Hs(cr,pr);_r.tag=1,_r.payload=mt,ir!=null&&(_r.callback=ir),mt=ma(V,_r,pr),mt!==null&&(Yo(mt,V,pr,cr),fc(mt,V,pr))},enqueueForceUpdate:function(V,mt){V=V._reactInternals;var ir=Wi(),cr=Ea(V),pr=Hs(ir,cr);pr.tag=2,mt!=null&&(pr.callback=mt),mt=ma(V,pr,cr),mt!==null&&(Yo(mt,V,cr,ir),fc(mt,V,cr))}};function vd(V,mt,ir,cr,pr,_r,Ir){return V=V.stateNode,typeof V.shouldComponentUpdate=="function"?V.shouldComponentUpdate(cr,_r,Ir):mt.prototype&&mt.prototype.isPureReactComponent?!wl(ir,cr)||!wl(pr,_r):!0}function Ed(V,mt,ir){var cr=!1,pr=ga,_r=mt.contextType;return typeof _r=="object"&&_r!==null?_r=Oo(_r):(pr=Zi(mt)?Na:Fi.current,cr=mt.contextTypes,_r=(cr=cr!=null)?hl(V,pr):ga),mt=new mt(ir,_r),V.memoizedState=mt.state!==null&&mt.state!==void 0?mt.state:null,mt.updater=Rc,V.stateNode=mt,mt._reactInternals=V,cr&&(V=V.stateNode,V.__reactInternalMemoizedUnmaskedChildContext=pr,V.__reactInternalMemoizedMaskedChildContext=_r),mt}function bd(V,mt,ir,cr){V=mt.state,typeof mt.componentWillReceiveProps=="function"&&mt.componentWillReceiveProps(ir,cr),typeof mt.UNSAFE_componentWillReceiveProps=="function"&&mt.UNSAFE_componentWillReceiveProps(ir,cr),mt.state!==V&&Rc.enqueueReplaceState(mt,mt.state,null)}function xu(V,mt,ir,cr){var pr=V.stateNode;pr.props=ir,pr.state=V.memoizedState,pr.refs={},Eu(V);var _r=mt.contextType;typeof _r=="object"&&_r!==null?pr.context=Oo(_r):(_r=Zi(mt)?Na:Fi.current,pr.context=hl(V,_r)),pr.state=V.memoizedState,_r=mt.getDerivedStateFromProps,typeof _r=="function"&&(ku(V,mt,_r,ir),pr.state=V.memoizedState),typeof mt.getDerivedStateFromProps=="function"||typeof pr.getSnapshotBeforeUpdate=="function"||typeof pr.UNSAFE_componentWillMount!="function"&&typeof pr.componentWillMount!="function"||(mt=pr.state,typeof pr.componentWillMount=="function"&&pr.componentWillMount(),typeof pr.UNSAFE_componentWillMount=="function"&&pr.UNSAFE_componentWillMount(),mt!==pr.state&&Rc.enqueueReplaceState(pr,pr.state,null),mc(V,ir,pr,cr),pr.state=V.memoizedState),typeof pr.componentDidMount=="function"&&(V.flags|=4194308)}function Tl(V,mt){try{var ir="",cr=mt;do ir+=Pn(cr),cr=cr.return;while(cr);var pr=ir}catch(_r){pr=`
Error generating stack: `+_r.message+`
`+_r.stack}return{value:V,source:mt,stack:pr,digest:null}}function Du(V,mt,ir){return{value:V,source:null,stack:ir??null,digest:mt??null}}function Lu(V,mt){try{console.error(mt.value)}catch(ir){setTimeout(function(){throw ir})}}var Ug=typeof WeakMap=="function"?WeakMap:Map;function Td(V,mt,ir){ir=Hs(-1,ir),ir.tag=3,ir.payload={element:null};var cr=mt.value;return ir.callback=function(){Cc||(Cc=!0,Xu=cr),Lu(V,mt)},ir}function Rd(V,mt,ir){ir=Hs(-1,ir),ir.tag=3;var cr=V.type.getDerivedStateFromError;if(typeof cr=="function"){var pr=mt.value;ir.payload=function(){return cr(pr)},ir.callback=function(){Lu(V,mt)}}var _r=V.stateNode;return _r!==null&&typeof _r.componentDidCatch=="function"&&(ir.callback=function(){Lu(V,mt),typeof cr!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var Ir=mt.stack;this.componentDidCatch(mt.value,{componentStack:Ir!==null?Ir:""})}),ir}function Id(V,mt,ir){var cr=V.pingCache;if(cr===null){cr=V.pingCache=new Ug;var pr=new Set;cr.set(mt,pr)}else pr=cr.get(mt),pr===void 0&&(pr=new Set,cr.set(mt,pr));pr.has(ir)||(pr.add(ir),V=nh.bind(null,V,mt,ir),mt.then(V,V))}function Ad(V){do{var mt;if((mt=V.tag===13)&&(mt=V.memoizedState,mt=mt!==null?mt.dehydrated!==null:!0),mt)return V;V=V.return}while(V!==null);return null}function Sd(V,mt,ir,cr,pr){return(V.mode&1)===0?(V===mt?V.flags|=65536:(V.flags|=128,ir.flags|=131072,ir.flags&=-52805,ir.tag===1&&(ir.alternate===null?ir.tag=17:(mt=Hs(-1,1),mt.tag=2,ma(ir,mt,1))),ir.lanes|=1),V):(V.flags|=65536,V.lanes=pr,V)}var Wg=Ar.ReactCurrentOwner,eo=!1;function Ui(V,mt,ir,cr){mt.child=V===null?$p(mt,null,ir,cr):yl(mt,V.child,ir,cr)}function Pd(V,mt,ir,cr,pr){ir=ir.render;var _r=mt.ref;return El(mt,pr),cr=Pu(V,mt,ir,cr,_r,pr),ir=wu(),V!==null&&!eo?(mt.updateQueue=V.updateQueue,mt.flags&=-2053,V.lanes&=~pr,$s(V,mt,pr)):(qn&&ir&&uu(mt),mt.flags|=1,Ui(V,mt,cr,pr),mt.child)}function wd(V,mt,ir,cr,pr){if(V===null){var _r=ir.type;return typeof _r=="function"&&!ip(_r)&&_r.defaultProps===void 0&&ir.compare===null&&ir.defaultProps===void 0?(mt.tag=15,mt.type=_r,Od(V,mt,_r,cr,pr)):(V=Lc(ir.type,null,cr,mt,mt.mode,pr),V.ref=mt.ref,V.return=mt,mt.child=V)}if(_r=V.child,(V.lanes&pr)===0){var Ir=_r.memoizedProps;if(ir=ir.compare,ir=ir!==null?ir:wl,ir(Ir,cr)&&V.ref===mt.ref)return $s(V,mt,pr)}return mt.flags|=1,V=Ta(_r,cr),V.ref=mt.ref,V.return=mt,mt.child=V}function Od(V,mt,ir,cr,pr){if(V!==null){var _r=V.memoizedProps;if(wl(_r,cr)&&V.ref===mt.ref)if(eo=!1,mt.pendingProps=cr=_r,(V.lanes&pr)!==0)(V.flags&131072)!==0&&(eo=!0);else return mt.lanes=V.lanes,$s(V,mt,pr)}return Bu(V,mt,ir,cr,pr)}function Cd(V,mt,ir){var cr=mt.pendingProps,pr=cr.children,_r=V!==null?V.memoizedState:null;if(cr.mode==="hidden")if((mt.mode&1)===0)mt.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Il,mo),mo|=ir;else{if((ir&1073741824)===0)return V=_r!==null?_r.baseLanes|ir:ir,mt.lanes=mt.childLanes=1073741824,mt.memoizedState={baseLanes:V,cachePool:null,transitions:null},mt.updateQueue=null,Wn(Il,mo),mo|=V,null;mt.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr=_r!==null?_r.baseLanes:ir,Wn(Il,mo),mo|=cr}else _r!==null?(cr=_r.baseLanes|ir,mt.memoizedState=null):cr=ir,Wn(Il,mo),mo|=cr;return Ui(V,mt,pr,ir),mt.child}function Md(V,mt){var ir=mt.ref;(V===null&&ir!==null||V!==null&&V.ref!==ir)&&(mt.flags|=512,mt.flags|=2097152)}function Bu(V,mt,ir,cr,pr){var _r=Zi(ir)?Na:Fi.current;return _r=hl(mt,_r),El(mt,pr),ir=Pu(V,mt,ir,cr,_r,pr),cr=wu(),V!==null&&!eo?(mt.updateQueue=V.updateQueue,mt.flags&=-2053,V.lanes&=~pr,$s(V,mt,pr)):(qn&&cr&&uu(mt),mt.flags|=1,Ui(V,mt,ir,pr),mt.child)}function Fd(V,mt,ir,cr,pr){if(Zi(ir)){var _r=!0;ac(mt)}else _r=!1;if(El(mt,pr),mt.stateNode===null)Ac(V,mt),Ed(mt,ir,cr),xu(mt,ir,cr,pr),cr=!0;else if(V===null){var Ir=mt.stateNode,xr=mt.memoizedProps;Ir.props=xr;var Lr=Ir.context,Gr=ir.contextType;typeof Gr=="object"&&Gr!==null?Gr=Oo(Gr):(Gr=Zi(ir)?Na:Fi.current,Gr=hl(mt,Gr));var $r=ir.getDerivedStateFromProps,qr=typeof $r=="function"||typeof Ir.getSnapshotBeforeUpdate=="function";qr||typeof Ir.UNSAFE_componentWillReceiveProps!="function"&&typeof Ir.componentWillReceiveProps!="function"||(xr!==cr||Lr!==Gr)&&bd(mt,Ir,cr,Gr),fa=!1;var Hr=mt.memoizedState;Ir.state=Hr,mc(mt,cr,Ir,pr),Lr=mt.memoizedState,xr!==cr||Hr!==Lr||Ji.current||fa?(typeof $r=="function"&&(ku(mt,ir,$r,cr),Lr=mt.memoizedState),(xr=fa||vd(mt,ir,xr,cr,Hr,Lr,Gr))?(qr||typeof Ir.UNSAFE_componentWillMount!="function"&&typeof Ir.componentWillMount!="function"||(typeof Ir.componentWillMount=="function"&&Ir.componentWillMount(),typeof Ir.UNSAFE_componentWillMount=="function"&&Ir.UNSAFE_componentWillMount()),typeof Ir.componentDidMount=="function"&&(mt.flags|=4194308)):(typeof Ir.componentDidMount=="function"&&(mt.flags|=4194308),mt.memoizedProps=cr,mt.memoizedState=Lr),Ir.props=cr,Ir.state=Lr,Ir.context=Gr,cr=xr):(typeof Ir.componentDidMount=="function"&&(mt.flags|=4194308),cr=!1)}else{Ir=mt.stateNode,qp(V,mt),xr=mt.memoizedProps,Gr=mt.type===mt.elementType?xr:$o(mt.type,xr),Ir.props=Gr,qr=mt.pendingProps,Hr=Ir.context,Lr=ir.contextType,typeof Lr=="object"&&Lr!==null?Lr=Oo(Lr):(Lr=Zi(ir)?Na:Fi.current,Lr=hl(mt,Lr));var fn=ir.getDerivedStateFromProps;($r=typeof fn=="function"||typeof Ir.getSnapshotBeforeUpdate=="function")||typeof Ir.UNSAFE_componentWillReceiveProps!="function"&&typeof Ir.componentWillReceiveProps!="function"||(xr!==qr||Hr!==Lr)&&bd(mt,Ir,cr,Lr),fa=!1,Hr=mt.memoizedState,Ir.state=Hr,mc(mt,cr,Ir,pr);var vn=mt.memoizedState;xr!==qr||Hr!==vn||Ji.current||fa?(typeof fn=="function"&&(ku(mt,ir,fn,cr),vn=mt.memoizedState),(Gr=fa||vd(mt,ir,Gr,cr,Hr,vn,Lr)||!1)?($r||typeof Ir.UNSAFE_componentWillUpdate!="function"&&typeof Ir.componentWillUpdate!="function"||(typeof Ir.componentWillUpdate=="function"&&Ir.componentWillUpdate(cr,vn,Lr),typeof Ir.UNSAFE_componentWillUpdate=="function"&&Ir.UNSAFE_componentWillUpdate(cr,vn,Lr)),typeof Ir.componentDidUpdate=="function"&&(mt.flags|=4),typeof Ir.getSnapshotBeforeUpdate=="function"&&(mt.flags|=1024)):(typeof Ir.componentDidUpdate!="function"||xr===V.memoizedProps&&Hr===V.memoizedState||(mt.flags|=4),typeof Ir.getSnapshotBeforeUpdate!="function"||xr===V.memoizedProps&&Hr===V.memoizedState||(mt.flags|=1024),mt.memoizedProps=cr,mt.memoizedState=vn),Ir.props=cr,Ir.state=vn,Ir.context=Lr,cr=Gr):(typeof Ir.componentDidUpdate!="function"||xr===V.memoizedProps&&Hr===V.memoizedState||(mt.flags|=4),typeof Ir.getSnapshotBeforeUpdate!="function"||xr===V.memoizedProps&&Hr===V.memoizedState||(mt.flags|=1024),cr=!1)}return Vu(V,mt,ir,cr,_r,pr)}function Vu(V,mt,ir,cr,pr,_r){Md(V,mt);var Ir=(mt.flags&128)!==0;if(!cr&&!Ir)return pr&&Bp(mt,ir,!1),$s(V,mt,_r);cr=mt.stateNode,Wg.current=mt;var xr=Ir&&typeof ir.getDerivedStateFromError!="function"?null:cr.render();return mt.flags|=1,V!==null&&Ir?(mt.child=yl(mt,V.child,null,_r),mt.child=yl(mt,null,xr,_r)):Ui(V,mt,xr,_r),mt.memoizedState=cr.state,pr&&Bp(mt,ir,!0),mt.child}function kd(V){var mt=V.stateNode;mt.pendingContext?Dp(V,mt.pendingContext,mt.pendingContext!==mt.context):mt.context&&Dp(V,mt.context,!1),bu(V,mt.containerInfo)}function xd(V,mt,ir,cr,pr){return _l(),hu(pr),mt.flags|=256,Ui(V,mt,ir,cr),mt.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function ju(V){return{baseLanes:V,cachePool:null,transitions:null}}function Dd(V,mt,ir){var cr=mt.pendingProps,pr=Zn.current,_r=!1,Ir=(mt.flags&128)!==0,xr;if((xr=Ir)||(xr=V!==null&&V.memoizedState===null?!1:(pr&2)!==0),xr?(_r=!0,mt.flags&=-129):(V===null||V.memoizedState!==null)&&(pr|=1),Wn(Zn,pr&1),V===null)return gu(mt),V=mt.memoizedState,V!==null&&(V=V.dehydrated,V!==null)?((mt.mode&1)===0?mt.lanes=1:V.data==="$!"?mt.lanes=8:mt.lanes=1073741824,null):(Ir=cr.children,V=cr.fallback,_r?(cr=mt.mode,_r=mt.child,Ir={mode:"hidden",children:Ir},(cr&1)===0&&_r!==null?(_r.childLanes=0,_r.pendingProps=Ir):_r=Bc(Ir,cr,0,null),V=Ya(V,cr,ir,null),_r.return=mt,V.return=mt,_r.sibling=V,mt.child=_r,mt.child.memoizedState=ju(ir),mt.memoizedState=Nu,V):Gu(mt,Ir));if(pr=V.memoizedState,pr!==null&&(xr=pr.dehydrated,xr!==null))return Hg(V,mt,Ir,cr,xr,pr,ir);if(_r){_r=cr.fallback,Ir=mt.mode,pr=V.child,xr=pr.sibling;var Lr={mode:"hidden",children:cr.children};return(Ir&1)===0&&mt.child!==pr?(cr=mt.child,cr.childLanes=0,cr.pendingProps=Lr,mt.deletions=null):(cr=Ta(pr,Lr),cr.subtreeFlags=pr.subtreeFlags&14680064),xr!==null?_r=Ta(xr,_r):(_r=Ya(_r,Ir,ir,null),_r.flags|=2),_r.return=mt,cr.return=mt,cr.sibling=_r,mt.child=cr,cr=_r,_r=mt.child,Ir=V.child.memoizedState,Ir=Ir===null?ju(ir):{baseLanes:Ir.baseLanes|ir,cachePool:null,transitions:Ir.transitions},_r.memoizedState=Ir,_r.childLanes=V.childLanes&~ir,mt.memoizedState=Nu,cr}return _r=V.child,V=_r.sibling,cr=Ta(_r,{mode:"visible",children:cr.children}),(mt.mode&1)===0&&(cr.lanes=ir),cr.return=mt,cr.sibling=null,V!==null&&(ir=mt.deletions,ir===null?(mt.deletions=[V],mt.flags|=16):ir.push(V)),mt.child=cr,mt.memoizedState=null,cr}function Gu(V,mt){return mt=Bc({mode:"visible",children:mt},V.mode,0,null),mt.return=V,V.child=mt}function Ic(V,mt,ir,cr){return cr!==null&&hu(cr),yl(mt,V.child,null,ir),V=Gu(mt,mt.pendingProps.children),V.flags|=2,mt.memoizedState=null,V}function Hg(V,mt,ir,cr,pr,_r,Ir){if(ir)return mt.flags&256?(mt.flags&=-257,cr=Du(Error(t(422))),Ic(V,mt,Ir,cr)):mt.memoizedState!==null?(mt.child=V.child,mt.flags|=128,null):(_r=cr.fallback,pr=mt.mode,cr=Bc({mode:"visible",children:cr.children},pr,0,null),_r=Ya(_r,pr,Ir,null),_r.flags|=2,cr.return=mt,_r.return=mt,cr.sibling=_r,mt.child=cr,(mt.mode&1)!==0&&yl(mt,V.child,null,Ir),mt.child.memoizedState=ju(Ir),mt.memoizedState=Nu,_r);if((mt.mode&1)===0)return Ic(V,mt,Ir,null);if(pr.data==="$!"){if(cr=pr.nextSibling&&pr.nextSibling.dataset,cr)var xr=cr.dgst;return cr=xr,_r=Error(t(419)),cr=Du(_r,cr,void 0),Ic(V,mt,Ir,cr)}if(xr=(Ir&V.childLanes)!==0,eo||xr){if(cr=yi,cr!==null){switch(Ir&-Ir){case 4:pr=2;break;case 16:pr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pr=32;break;case 536870912:pr=268435456;break;default:pr=0}pr=(pr&(cr.suspendedLanes|Ir))!==0?0:pr,pr!==0&&pr!==_r.retryLane&&(_r.retryLane=pr,Ws(V,pr),Yo(cr,V,pr,-1))}return np(),cr=Du(Error(t(421))),Ic(V,mt,Ir,cr)}return pr.data==="$?"?(mt.flags|=128,mt.child=V.child,mt=ih.bind(null,V),pr._reactRetry=mt,null):(V=_r.treeContext,fo=pa(pr.nextSibling),ho=mt,qn=!0,Ho=null,V!==null&&(Po[wo++]=zs,Po[wo++]=Us,Po[wo++]=ja,zs=V.id,Us=V.overflow,ja=mt),mt=Gu(mt,cr.children),mt.flags|=4096,mt)}function Ld(V,mt,ir){V.lanes|=mt;var cr=V.alternate;cr!==null&&(cr.lanes|=mt),yu(V.return,mt,ir)}function zu(V,mt,ir,cr,pr){var _r=V.memoizedState;_r===null?V.memoizedState={isBackwards:mt,rendering:null,renderingStartTime:0,last:cr,tail:ir,tailMode:pr}:(_r.isBackwards=mt,_r.rendering=null,_r.renderingStartTime=0,_r.last=cr,_r.tail=ir,_r.tailMode=pr)}function Bd(V,mt,ir){var cr=mt.pendingProps,pr=cr.revealOrder,_r=cr.tail;if(Ui(V,mt,cr.children,ir),cr=Zn.current,(cr&2)!==0)cr=cr&1|2,mt.flags|=128;else{if(V!==null&&(V.flags&128)!==0)e:for(V=mt.child;V!==null;){if(V.tag===13)V.memoizedState!==null&&Ld(V,ir,mt);else if(V.tag===19)Ld(V,ir,mt);else if(V.child!==null){V.child.return=V,V=V.child;continue}if(V===mt)break e;for(;V.sibling===null;){if(V.return===null||V.return===mt)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}cr&=1}if(Wn(Zn,cr),(mt.mode&1)===0)mt.memoizedState=null;else switch(pr){case"forwards":for(ir=mt.child,pr=null;ir!==null;)V=ir.alternate,V!==null&&_c(V)===null&&(pr=ir),ir=ir.sibling;ir=pr,ir===null?(pr=mt.child,mt.child=null):(pr=ir.sibling,ir.sibling=null),zu(mt,!1,pr,ir,_r);break;case"backwards":for(ir=null,pr=mt.child,mt.child=null;pr!==null;){if(V=pr.alternate,V!==null&&_c(V)===null){mt.child=pr;break}V=pr.sibling,pr.sibling=ir,ir=pr,pr=V}zu(mt,!0,ir,null,_r);break;case"together":zu(mt,!1,null,null,void 0);break;default:mt.memoizedState=null}return mt.child}function Ac(V,mt){(mt.mode&1)===0&&V!==null&&(V.alternate=null,mt.alternate=null,mt.flags|=2)}function $s(V,mt,ir){if(V!==null&&(mt.dependencies=V.dependencies),Ha|=mt.lanes,(ir&mt.childLanes)===0)return null;if(V!==null&&mt.child!==V.child)throw Error(t(153));if(mt.child!==null){for(V=mt.child,ir=Ta(V,V.pendingProps),mt.child=ir,ir.return=mt;V.sibling!==null;)V=V.sibling,ir=ir.sibling=Ta(V,V.pendingProps),ir.return=mt;ir.sibling=null}return mt.child}function $g(V,mt,ir){switch(mt.tag){case 3:kd(mt),_l();break;case 5:Xp(mt);break;case 1:Zi(mt.type)&&ac(mt);break;case 4:bu(mt,mt.stateNode.containerInfo);break;case 10:var cr=mt.type._context,pr=mt.memoizedProps.value;Wn(gc,cr._currentValue),cr._currentValue=pr;break;case 13:if(cr=mt.memoizedState,cr!==null)return cr.dehydrated!==null?(Wn(Zn,Zn.current&1),mt.flags|=128,null):(ir&mt.child.childLanes)!==0?Dd(V,mt,ir):(Wn(Zn,Zn.current&1),V=$s(V,mt,ir),V!==null?V.sibling:null);Wn(Zn,Zn.current&1);break;case 19:if(cr=(ir&mt.childLanes)!==0,(V.flags&128)!==0){if(cr)return Bd(V,mt,ir);mt.flags|=128}if(pr=mt.memoizedState,pr!==null&&(pr.rendering=null,pr.tail=null,pr.lastEffect=null),Wn(Zn,Zn.current),cr)break;return null;case 22:case 23:return mt.lanes=0,Cd(V,mt,ir)}return $s(V,mt,ir)}var Vd,Uu,Nd,jd;Vd=function(V,mt){for(var ir=mt.child;ir!==null;){if(ir.tag===5||ir.tag===6)V.appendChild(ir.stateNode);else if(ir.tag!==4&&ir.child!==null){ir.child.return=ir,ir=ir.child;continue}if(ir===mt)break;for(;ir.sibling===null;){if(ir.return===null||ir.return===mt)return;ir=ir.return}ir.sibling.return=ir.return,ir=ir.sibling}},Uu=function(){},Nd=function(V,mt,ir,cr){var pr=V.memoizedProps;if(pr!==cr){V=mt.stateNode,Ua(ds.current);var _r=null;switch(ir){case"input":pr=Yn(V,pr),cr=Yn(V,cr),_r=[];break;case"select":pr=cn({},pr,{value:void 0}),cr=cn({},cr,{value:void 0}),_r=[];break;case"textarea":pr=_s(V,pr),cr=_s(V,cr),_r=[];break;default:typeof pr.onClick!="function"&&typeof cr.onClick=="function"&&(V.onclick=ic)}Pa(ir,cr);var Ir;ir=null;for(Gr in pr)if(!cr.hasOwnProperty(Gr)&&pr.hasOwnProperty(Gr)&&pr[Gr]!=null)if(Gr==="style"){var xr=pr[Gr];for(Ir in xr)xr.hasOwnProperty(Ir)&&(ir||(ir={}),ir[Ir]="")}else Gr!=="dangerouslySetInnerHTML"&&Gr!=="children"&&Gr!=="suppressContentEditableWarning"&&Gr!=="suppressHydrationWarning"&&Gr!=="autoFocus"&&(o.hasOwnProperty(Gr)?_r||(_r=[]):(_r=_r||[]).push(Gr,null));for(Gr in cr){var Lr=cr[Gr];if(xr=pr!=null?pr[Gr]:void 0,cr.hasOwnProperty(Gr)&&Lr!==xr&&(Lr!=null||xr!=null))if(Gr==="style")if(xr){for(Ir in xr)!xr.hasOwnProperty(Ir)||Lr&&Lr.hasOwnProperty(Ir)||(ir||(ir={}),ir[Ir]="");for(Ir in Lr)Lr.hasOwnProperty(Ir)&&xr[Ir]!==Lr[Ir]&&(ir||(ir={}),ir[Ir]=Lr[Ir])}else ir||(_r||(_r=[]),_r.push(Gr,ir)),ir=Lr;else Gr==="dangerouslySetInnerHTML"?(Lr=Lr?Lr.__html:void 0,xr=xr?xr.__html:void 0,Lr!=null&&xr!==Lr&&(_r=_r||[]).push(Gr,Lr)):Gr==="children"?typeof Lr!="string"&&typeof Lr!="number"||(_r=_r||[]).push(Gr,""+Lr):Gr!=="suppressContentEditableWarning"&&Gr!=="suppressHydrationWarning"&&(o.hasOwnProperty(Gr)?(Lr!=null&&Gr==="onScroll"&&Hn("scroll",V),_r||xr===Lr||(_r=[])):(_r=_r||[]).push(Gr,Lr))}ir&&(_r=_r||[]).push("style",ir);var Gr=_r;(mt.updateQueue=Gr)&&(mt.flags|=4)}},jd=function(V,mt,ir,cr){ir!==cr&&(mt.flags|=4)};function Ul(V,mt){if(!qn)switch(V.tailMode){case"hidden":mt=V.tail;for(var ir=null;mt!==null;)mt.alternate!==null&&(ir=mt),mt=mt.sibling;ir===null?V.tail=null:ir.sibling=null;break;case"collapsed":ir=V.tail;for(var cr=null;ir!==null;)ir.alternate!==null&&(cr=ir),ir=ir.sibling;cr===null?mt||V.tail===null?V.tail=null:V.tail.sibling=null:cr.sibling=null}}function xi(V){var mt=V.alternate!==null&&V.alternate.child===V.child,ir=0,cr=0;if(mt)for(var pr=V.child;pr!==null;)ir|=pr.lanes|pr.childLanes,cr|=pr.subtreeFlags&14680064,cr|=pr.flags&14680064,pr.return=V,pr=pr.sibling;else for(pr=V.child;pr!==null;)ir|=pr.lanes|pr.childLanes,cr|=pr.subtreeFlags,cr|=pr.flags,pr.return=V,pr=pr.sibling;return V.subtreeFlags|=cr,V.childLanes=ir,mt}function Kg(V,mt,ir){var cr=mt.pendingProps;switch(pu(mt),mt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(mt),null;case 1:return Zi(mt.type)&&sc(),xi(mt),null;case 3:return cr=mt.stateNode,bl(),$n(Ji),$n(Fi),Iu(),cr.pendingContext&&(cr.context=cr.pendingContext,cr.pendingContext=null),(V===null||V.child===null)&&(pc(mt)?mt.flags|=4:V===null||V.memoizedState.isDehydrated&&(mt.flags&256)===0||(mt.flags|=1024,Ho!==null&&(ep(Ho),Ho=null))),Uu(V,mt),xi(mt),null;case 5:Tu(mt);var pr=Ua(Vl.current);if(ir=mt.type,V!==null&&mt.stateNode!=null)Nd(V,mt,ir,cr,pr),V.ref!==mt.ref&&(mt.flags|=512,mt.flags|=2097152);else{if(!cr){if(mt.stateNode===null)throw Error(t(166));return xi(mt),null}if(V=Ua(ds.current),pc(mt)){cr=mt.stateNode,ir=mt.type;var _r=mt.memoizedProps;switch(cr[ps]=mt,cr[kl]=_r,V=(mt.mode&1)!==0,ir){case"dialog":Hn("cancel",cr),Hn("close",cr);break;case"iframe":case"object":case"embed":Hn("load",cr);break;case"video":case"audio":for(pr=0;pr<Cl.length;pr++)Hn(Cl[pr],cr);break;case"source":Hn("error",cr);break;case"img":case"image":case"link":Hn("error",cr),Hn("load",cr);break;case"details":Hn("toggle",cr);break;case"input":fs(cr,_r),Hn("invalid",cr);break;case"select":cr._wrapperState={wasMultiple:!!_r.multiple},Hn("invalid",cr);break;case"textarea":ys(cr,_r),Hn("invalid",cr)}Pa(ir,_r),pr=null;for(var Ir in _r)if(_r.hasOwnProperty(Ir)){var xr=_r[Ir];Ir==="children"?typeof xr=="string"?cr.textContent!==xr&&(_r.suppressHydrationWarning!==!0&&nc(cr.textContent,xr,V),pr=["children",xr]):typeof xr=="number"&&cr.textContent!==""+xr&&(_r.suppressHydrationWarning!==!0&&nc(cr.textContent,xr,V),pr=["children",""+xr]):o.hasOwnProperty(Ir)&&xr!=null&&Ir==="onScroll"&&Hn("scroll",cr)}switch(ir){case"input":Li(cr),Sa(cr,_r,!0);break;case"textarea":Li(cr),Qs(cr);break;case"select":case"option":break;default:typeof _r.onClick=="function"&&(cr.onclick=ic)}cr=pr,mt.updateQueue=cr,cr!==null&&(mt.flags|=4)}else{Ir=pr.nodeType===9?pr:pr.ownerDocument,V==="http://www.w3.org/1999/xhtml"&&(V=Kn(ir)),V==="http://www.w3.org/1999/xhtml"?ir==="script"?(V=Ir.createElement("div"),V.innerHTML="<script><\/script>",V=V.removeChild(V.firstChild)):typeof cr.is=="string"?V=Ir.createElement(ir,{is:cr.is}):(V=Ir.createElement(ir),ir==="select"&&(Ir=V,cr.multiple?Ir.multiple=!0:cr.size&&(Ir.size=cr.size))):V=Ir.createElementNS(V,ir),V[ps]=mt,V[kl]=cr,Vd(V,mt,!1,!1),mt.stateNode=V;e:{switch(Ir=Zs(ir,cr),ir){case"dialog":Hn("cancel",V),Hn("close",V),pr=cr;break;case"iframe":case"object":case"embed":Hn("load",V),pr=cr;break;case"video":case"audio":for(pr=0;pr<Cl.length;pr++)Hn(Cl[pr],V);pr=cr;break;case"source":Hn("error",V),pr=cr;break;case"img":case"image":case"link":Hn("error",V),Hn("load",V),pr=cr;break;case"details":Hn("toggle",V),pr=cr;break;case"input":fs(V,cr),pr=Yn(V,cr),Hn("invalid",V);break;case"option":pr=cr;break;case"select":V._wrapperState={wasMultiple:!!cr.multiple},pr=cn({},cr,{value:void 0}),Hn("invalid",V);break;case"textarea":ys(V,cr),pr=_s(V,cr),Hn("invalid",V);break;default:pr=cr}Pa(ir,pr),xr=pr;for(_r in xr)if(xr.hasOwnProperty(_r)){var Lr=xr[_r];_r==="style"?vs(V,Lr):_r==="dangerouslySetInnerHTML"?(Lr=Lr?Lr.__html:void 0,Lr!=null&&Xs(V,Lr)):_r==="children"?typeof Lr=="string"?(ir!=="textarea"||Lr!=="")&&Qo(V,Lr):typeof Lr=="number"&&Qo(V,""+Lr):_r!=="suppressContentEditableWarning"&&_r!=="suppressHydrationWarning"&&_r!=="autoFocus"&&(o.hasOwnProperty(_r)?Lr!=null&&_r==="onScroll"&&Hn("scroll",V):Lr!=null&&Sr(V,_r,Lr,Ir))}switch(ir){case"input":Li(V),Sa(V,cr,!1);break;case"textarea":Li(V),Qs(V);break;case"option":cr.value!=null&&V.setAttribute("value",""+Fn(cr.value));break;case"select":V.multiple=!!cr.multiple,_r=cr.value,_r!=null?yo(V,!!cr.multiple,_r,!1):cr.defaultValue!=null&&yo(V,!!cr.multiple,cr.defaultValue,!0);break;default:typeof pr.onClick=="function"&&(V.onclick=ic)}switch(ir){case"button":case"input":case"select":case"textarea":cr=!!cr.autoFocus;break e;case"img":cr=!0;break e;default:cr=!1}}cr&&(mt.flags|=4)}mt.ref!==null&&(mt.flags|=512,mt.flags|=2097152)}return xi(mt),null;case 6:if(V&&mt.stateNode!=null)jd(V,mt,V.memoizedProps,cr);else{if(typeof cr!="string"&&mt.stateNode===null)throw Error(t(166));if(ir=Ua(Vl.current),Ua(ds.current),pc(mt)){if(cr=mt.stateNode,ir=mt.memoizedProps,cr[ps]=mt,(_r=cr.nodeValue!==ir)&&(V=ho,V!==null))switch(V.tag){case 3:nc(cr.nodeValue,ir,(V.mode&1)!==0);break;case 5:V.memoizedProps.suppressHydrationWarning!==!0&&nc(cr.nodeValue,ir,(V.mode&1)!==0)}_r&&(mt.flags|=4)}else cr=(ir.nodeType===9?ir:ir.ownerDocument).createTextNode(cr),cr[ps]=mt,mt.stateNode=cr}return xi(mt),null;case 13:if($n(Zn),cr=mt.memoizedState,V===null||V.memoizedState!==null&&V.memoizedState.dehydrated!==null){if(qn&&fo!==null&&(mt.mode&1)!==0&&(mt.flags&128)===0)Up(),_l(),mt.flags|=98560,_r=!1;else if(_r=pc(mt),cr!==null&&cr.dehydrated!==null){if(V===null){if(!_r)throw Error(t(318));if(_r=mt.memoizedState,_r=_r!==null?_r.dehydrated:null,!_r)throw Error(t(317));_r[ps]=mt}else _l(),(mt.flags&128)===0&&(mt.memoizedState=null),mt.flags|=4;xi(mt),_r=!1}else Ho!==null&&(ep(Ho),Ho=null),_r=!0;if(!_r)return mt.flags&65536?mt:null}return(mt.flags&128)!==0?(mt.lanes=ir,mt):(cr=cr!==null,cr!==(V!==null&&V.memoizedState!==null)&&cr&&(mt.child.flags|=8192,(mt.mode&1)!==0&&(V===null||(Zn.current&1)!==0?pi===0&&(pi=3):np())),mt.updateQueue!==null&&(mt.flags|=4),xi(mt),null);case 4:return bl(),Uu(V,mt),V===null&&Ml(mt.stateNode.containerInfo),xi(mt),null;case 10:return _u(mt.type._context),xi(mt),null;case 17:return Zi(mt.type)&&sc(),xi(mt),null;case 19:if($n(Zn),_r=mt.memoizedState,_r===null)return xi(mt),null;if(cr=(mt.flags&128)!==0,Ir=_r.rendering,Ir===null)if(cr)Ul(_r,!1);else{if(pi!==0||V!==null&&(V.flags&128)!==0)for(V=mt.child;V!==null;){if(Ir=_c(V),Ir!==null){for(mt.flags|=128,Ul(_r,!1),cr=Ir.updateQueue,cr!==null&&(mt.updateQueue=cr,mt.flags|=4),mt.subtreeFlags=0,cr=ir,ir=mt.child;ir!==null;)_r=ir,V=cr,_r.flags&=14680066,Ir=_r.alternate,Ir===null?(_r.childLanes=0,_r.lanes=V,_r.child=null,_r.subtreeFlags=0,_r.memoizedProps=null,_r.memoizedState=null,_r.updateQueue=null,_r.dependencies=null,_r.stateNode=null):(_r.childLanes=Ir.childLanes,_r.lanes=Ir.lanes,_r.child=Ir.child,_r.subtreeFlags=0,_r.deletions=null,_r.memoizedProps=Ir.memoizedProps,_r.memoizedState=Ir.memoizedState,_r.updateQueue=Ir.updateQueue,_r.type=Ir.type,V=Ir.dependencies,_r.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),ir=ir.sibling;return Wn(Zn,Zn.current&1|2),mt.child}V=V.sibling}_r.tail!==null&&jn()>Al&&(mt.flags|=128,cr=!0,Ul(_r,!1),mt.lanes=4194304)}else{if(!cr)if(V=_c(Ir),V!==null){if(mt.flags|=128,cr=!0,ir=V.updateQueue,ir!==null&&(mt.updateQueue=ir,mt.flags|=4),Ul(_r,!0),_r.tail===null&&_r.tailMode==="hidden"&&!Ir.alternate&&!qn)return xi(mt),null}else 2*jn()-_r.renderingStartTime>Al&&ir!==1073741824&&(mt.flags|=128,cr=!0,Ul(_r,!1),mt.lanes=4194304);_r.isBackwards?(Ir.sibling=mt.child,mt.child=Ir):(ir=_r.last,ir!==null?ir.sibling=Ir:mt.child=Ir,_r.last=Ir)}return _r.tail!==null?(mt=_r.tail,_r.rendering=mt,_r.tail=mt.sibling,_r.renderingStartTime=jn(),mt.sibling=null,ir=Zn.current,Wn(Zn,cr?ir&1|2:ir&1),mt):(xi(mt),null);case 22:case 23:return rp(),cr=mt.memoizedState!==null,V!==null&&V.memoizedState!==null!==cr&&(mt.flags|=8192),cr&&(mt.mode&1)!==0?(mo&1073741824)!==0&&(xi(mt),mt.subtreeFlags&6&&(mt.flags|=8192)):xi(mt),null;case 24:return null;case 25:return null}throw Error(t(156,mt.tag))}function qg(V,mt){switch(pu(mt),mt.tag){case 1:return Zi(mt.type)&&sc(),V=mt.flags,V&65536?(mt.flags=V&-65537|128,mt):null;case 3:return bl(),$n(Ji),$n(Fi),Iu(),V=mt.flags,(V&65536)!==0&&(V&128)===0?(mt.flags=V&-65537|128,mt):null;case 5:return Tu(mt),null;case 13:if($n(Zn),V=mt.memoizedState,V!==null&&V.dehydrated!==null){if(mt.alternate===null)throw Error(t(340));_l()}return V=mt.flags,V&65536?(mt.flags=V&-65537|128,mt):null;case 19:return $n(Zn),null;case 4:return bl(),null;case 10:return _u(mt.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var Sc=!1,Di=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,yn=null;function Rl(V,mt){var ir=V.ref;if(ir!==null)if(typeof ir=="function")try{ir(null)}catch(cr){ri(V,mt,cr)}else ir.current=null}function Wu(V,mt,ir){try{ir()}catch(cr){ri(V,mt,cr)}}var Gd=!1;function Qg(V,mt){if(ru=Ao,V=vp(),qc(V)){if("selectionStart"in V)var ir={start:V.selectionStart,end:V.selectionEnd};else e:{ir=(ir=V.ownerDocument)&&ir.defaultView||window;var cr=ir.getSelection&&ir.getSelection();if(cr&&cr.rangeCount!==0){ir=cr.anchorNode;var pr=cr.anchorOffset,_r=cr.focusNode;cr=cr.focusOffset;try{ir.nodeType,_r.nodeType}catch{ir=null;break e}var Ir=0,xr=-1,Lr=-1,Gr=0,$r=0,qr=V,Hr=null;t:for(;;){for(var fn;qr!==ir||pr!==0&&qr.nodeType!==3||(xr=Ir+pr),qr!==_r||cr!==0&&qr.nodeType!==3||(Lr=Ir+cr),qr.nodeType===3&&(Ir+=qr.nodeValue.length),(fn=qr.firstChild)!==null;)Hr=qr,qr=fn;for(;;){if(qr===V)break t;if(Hr===ir&&++Gr===pr&&(xr=Ir),Hr===_r&&++$r===cr&&(Lr=Ir),(fn=qr.nextSibling)!==null)break;qr=Hr,Hr=qr.parentNode}qr=fn}ir=xr===-1||Lr===-1?null:{start:xr,end:Lr}}else ir=null}ir=ir||{start:0,end:0}}else ir=null;for(nu={focusedElem:V,selectionRange:ir},Ao=!1,yn=mt;yn!==null;)if(mt=yn,V=mt.child,(mt.subtreeFlags&1028)!==0&&V!==null)V.return=mt,yn=V;else for(;yn!==null;){mt=yn;try{var vn=mt.alternate;if((mt.flags&1024)!==0)switch(mt.tag){case 0:case 11:case 15:break;case 1:if(vn!==null){var En=vn.memoizedProps,ii=vn.memoizedState,Nr=mt.stateNode,Br=Nr.getSnapshotBeforeUpdate(mt.elementType===mt.type?En:$o(mt.type,En),ii);Nr.__reactInternalSnapshotBeforeUpdate=Br}break;case 3:var jr=mt.stateNode.containerInfo;jr.nodeType===1?jr.textContent="":jr.nodeType===9&&jr.documentElement&&jr.removeChild(jr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Qr){ri(mt,mt.return,Qr)}if(V=mt.sibling,V!==null){V.return=mt.return,yn=V;break}yn=mt.return}return vn=Gd,Gd=!1,vn}function Wl(V,mt,ir){var cr=mt.updateQueue;if(cr=cr!==null?cr.lastEffect:null,cr!==null){var pr=cr=cr.next;do{if((pr.tag&V)===V){var _r=pr.destroy;pr.destroy=void 0,_r!==void 0&&Wu(mt,ir,_r)}pr=pr.next}while(pr!==cr)}}function Pc(V,mt){if(mt=mt.updateQueue,mt=mt!==null?mt.lastEffect:null,mt!==null){var ir=mt=mt.next;do{if((ir.tag&V)===V){var cr=ir.create;ir.destroy=cr()}ir=ir.next}while(ir!==mt)}}function Hu(V){var mt=V.ref;if(mt!==null){var ir=V.stateNode;switch(V.tag){case 5:V=ir;break;default:V=ir}typeof mt=="function"?mt(V):mt.current=V}}function zd(V){var mt=V.alternate;mt!==null&&(V.alternate=null,zd(mt)),V.child=null,V.deletions=null,V.sibling=null,V.tag===5&&(mt=V.stateNode,mt!==null&&(delete mt[ps],delete mt[kl],delete mt[au],delete mt[Fg],delete mt[kg])),V.stateNode=null,V.return=null,V.dependencies=null,V.memoizedProps=null,V.memoizedState=null,V.pendingProps=null,V.stateNode=null,V.updateQueue=null}function Ud(V){return V.tag===5||V.tag===3||V.tag===4}function Wd(V){e:for(;;){for(;V.sibling===null;){if(V.return===null||Ud(V.return))return null;V=V.return}for(V.sibling.return=V.return,V=V.sibling;V.tag!==5&&V.tag!==6&&V.tag!==18;){if(V.flags&2||V.child===null||V.tag===4)continue e;V.child.return=V,V=V.child}if(!(V.flags&2))return V.stateNode}}function $u(V,mt,ir){var cr=V.tag;if(cr===5||cr===6)V=V.stateNode,mt?ir.nodeType===8?ir.parentNode.insertBefore(V,mt):ir.insertBefore(V,mt):(ir.nodeType===8?(mt=ir.parentNode,mt.insertBefore(V,ir)):(mt=ir,mt.appendChild(V)),ir=ir._reactRootContainer,ir!=null||mt.onclick!==null||(mt.onclick=ic));else if(cr!==4&&(V=V.child,V!==null))for($u(V,mt,ir),V=V.sibling;V!==null;)$u(V,mt,ir),V=V.sibling}function Ku(V,mt,ir){var cr=V.tag;if(cr===5||cr===6)V=V.stateNode,mt?ir.insertBefore(V,mt):ir.appendChild(V);else if(cr!==4&&(V=V.child,V!==null))for(Ku(V,mt,ir),V=V.sibling;V!==null;)Ku(V,mt,ir),V=V.sibling}var Si=null,Ko=!1;function _a(V,mt,ir){for(ir=ir.child;ir!==null;)Hd(V,mt,ir),ir=ir.sibling}function Hd(V,mt,ir){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(di,ir)}catch{}switch(ir.tag){case 5:Di||Rl(ir,mt);case 6:var cr=Si,pr=Ko;Si=null,_a(V,mt,ir),Si=cr,Ko=pr,Si!==null&&(Ko?(V=Si,ir=ir.stateNode,V.nodeType===8?V.parentNode.removeChild(ir):V.removeChild(ir)):Si.removeChild(ir.stateNode));break;case 18:Si!==null&&(Ko?(V=Si,ir=ir.stateNode,V.nodeType===8?su(V.parentNode,ir):V.nodeType===1&&su(V,ir),Qi(V)):su(Si,ir.stateNode));break;case 4:cr=Si,pr=Ko,Si=ir.stateNode.containerInfo,Ko=!0,_a(V,mt,ir),Si=cr,Ko=pr;break;case 0:case 11:case 14:case 15:if(!Di&&(cr=ir.updateQueue,cr!==null&&(cr=cr.lastEffect,cr!==null))){pr=cr=cr.next;do{var _r=pr,Ir=_r.destroy;_r=_r.tag,Ir!==void 0&&((_r&2)!==0||(_r&4)!==0)&&Wu(ir,mt,Ir),pr=pr.next}while(pr!==cr)}_a(V,mt,ir);break;case 1:if(!Di&&(Rl(ir,mt),cr=ir.stateNode,typeof cr.componentWillUnmount=="function"))try{cr.props=ir.memoizedProps,cr.state=ir.memoizedState,cr.componentWillUnmount()}catch(xr){ri(ir,mt,xr)}_a(V,mt,ir);break;case 21:_a(V,mt,ir);break;case 22:ir.mode&1?(Di=(cr=Di)||ir.memoizedState!==null,_a(V,mt,ir),Di=cr):_a(V,mt,ir);break;default:_a(V,mt,ir)}}function $d(V){var mt=V.updateQueue;if(mt!==null){V.updateQueue=null;var ir=V.stateNode;ir===null&&(ir=V.stateNode=new Yg),mt.forEach(function(cr){var pr=oh.bind(null,V,cr);ir.has(cr)||(ir.add(cr),cr.then(pr,pr))})}}function qo(V,mt){var ir=mt.deletions;if(ir!==null)for(var cr=0;cr<ir.length;cr++){var pr=ir[cr];try{var _r=V,Ir=mt,xr=Ir;e:for(;xr!==null;){switch(xr.tag){case 5:Si=xr.stateNode,Ko=!1;break e;case 3:Si=xr.stateNode.containerInfo,Ko=!0;break e;case 4:Si=xr.stateNode.containerInfo,Ko=!0;break e}xr=xr.return}if(Si===null)throw Error(t(160));Hd(_r,Ir,pr),Si=null,Ko=!1;var Lr=pr.alternate;Lr!==null&&(Lr.return=null),pr.return=null}catch(Gr){ri(pr,mt,Gr)}}if(mt.subtreeFlags&12854)for(mt=mt.child;mt!==null;)Kd(mt,V),mt=mt.sibling}function Kd(V,mt){var ir=V.alternate,cr=V.flags;switch(V.tag){case 0:case 11:case 14:case 15:if(qo(mt,V),hs(V),cr&4){try{Wl(3,V,V.return),Pc(3,V)}catch(En){ri(V,V.return,En)}try{Wl(5,V,V.return)}catch(En){ri(V,V.return,En)}}break;case 1:qo(mt,V),hs(V),cr&512&&ir!==null&&Rl(ir,ir.return);break;case 5:if(qo(mt,V),hs(V),cr&512&&ir!==null&&Rl(ir,ir.return),V.flags&32){var pr=V.stateNode;try{Qo(pr,"")}catch(En){ri(V,V.return,En)}}if(cr&4&&(pr=V.stateNode,pr!=null)){var _r=V.memoizedProps,Ir=ir!==null?ir.memoizedProps:_r,xr=V.type,Lr=V.updateQueue;if(V.updateQueue=null,Lr!==null)try{xr==="input"&&_r.type==="radio"&&_r.name!=null&&Aa(pr,_r),Zs(xr,Ir);var Gr=Zs(xr,_r);for(Ir=0;Ir<Lr.length;Ir+=2){var $r=Lr[Ir],qr=Lr[Ir+1];$r==="style"?vs(pr,qr):$r==="dangerouslySetInnerHTML"?Xs(pr,qr):$r==="children"?Qo(pr,qr):Sr(pr,$r,qr,Gr)}switch(xr){case"input":Ys(pr,_r);break;case"textarea":Hi(pr,_r);break;case"select":var Hr=pr._wrapperState.wasMultiple;pr._wrapperState.wasMultiple=!!_r.multiple;var fn=_r.value;fn!=null?yo(pr,!!_r.multiple,fn,!1):Hr!==!!_r.multiple&&(_r.defaultValue!=null?yo(pr,!!_r.multiple,_r.defaultValue,!0):yo(pr,!!_r.multiple,_r.multiple?[]:"",!1))}pr[kl]=_r}catch(En){ri(V,V.return,En)}}break;case 6:if(qo(mt,V),hs(V),cr&4){if(V.stateNode===null)throw Error(t(162));pr=V.stateNode,_r=V.memoizedProps;try{pr.nodeValue=_r}catch(En){ri(V,V.return,En)}}break;case 3:if(qo(mt,V),hs(V),cr&4&&ir!==null&&ir.memoizedState.isDehydrated)try{Qi(mt.containerInfo)}catch(En){ri(V,V.return,En)}break;case 4:qo(mt,V),hs(V);break;case 13:qo(mt,V),hs(V),pr=V.child,pr.flags&8192&&(_r=pr.memoizedState!==null,pr.stateNode.isHidden=_r,!_r||pr.alternate!==null&&pr.alternate.memoizedState!==null||(Qu=jn())),cr&4&&$d(V);break;case 22:if($r=ir!==null&&ir.memoizedState!==null,V.mode&1?(Di=(Gr=Di)||$r,qo(mt,V),Di=Gr):qo(mt,V),hs(V),cr&8192){if(Gr=V.memoizedState!==null,(V.stateNode.isHidden=Gr)&&!$r&&(V.mode&1)!==0)for(yn=V,$r=V.child;$r!==null;){for(qr=yn=$r;yn!==null;){switch(Hr=yn,fn=Hr.child,Hr.tag){case 0:case 11:case 14:case 15:Wl(4,Hr,Hr.return);break;case 1:Rl(Hr,Hr.return);var vn=Hr.stateNode;if(typeof vn.componentWillUnmount=="function"){cr=Hr,ir=Hr.return;try{mt=cr,vn.props=mt.memoizedProps,vn.state=mt.memoizedState,vn.componentWillUnmount()}catch(En){ri(cr,ir,En)}}break;case 5:Rl(Hr,Hr.return);break;case 22:if(Hr.memoizedState!==null){Qd(qr);continue}}fn!==null?(fn.return=Hr,yn=fn):Qd(qr)}$r=$r.sibling}e:for($r=null,qr=V;;){if(qr.tag===5){if($r===null){$r=qr;try{pr=qr.stateNode,Gr?(_r=pr.style,typeof _r.setProperty=="function"?_r.setProperty("display","none","important"):_r.display="none"):(xr=qr.stateNode,Lr=qr.memoizedProps.style,Ir=Lr!=null&&Lr.hasOwnProperty("display")?Lr.display:null,xr.style.display=xo("display",Ir))}catch(En){ri(V,V.return,En)}}}else if(qr.tag===6){if($r===null)try{qr.stateNode.nodeValue=Gr?"":qr.memoizedProps}catch(En){ri(V,V.return,En)}}else if((qr.tag!==22&&qr.tag!==23||qr.memoizedState===null||qr===V)&&qr.child!==null){qr.child.return=qr,qr=qr.child;continue}if(qr===V)break e;for(;qr.sibling===null;){if(qr.return===null||qr.return===V)break e;$r===qr&&($r=null),qr=qr.return}$r===qr&&($r=null),qr.sibling.return=qr.return,qr=qr.sibling}}break;case 19:qo(mt,V),hs(V),cr&4&&$d(V);break;case 21:break;default:qo(mt,V),hs(V)}}function hs(V){var mt=V.flags;if(mt&2){try{e:{for(var ir=V.return;ir!==null;){if(Ud(ir)){var cr=ir;break e}ir=ir.return}throw Error(t(160))}switch(cr.tag){case 5:var pr=cr.stateNode;cr.flags&32&&(Qo(pr,""),cr.flags&=-33);var _r=Wd(V);Ku(V,_r,pr);break;case 3:case 4:var Ir=cr.stateNode.containerInfo,xr=Wd(V);$u(V,xr,Ir);break;default:throw Error(t(161))}}catch(Lr){ri(V,V.return,Lr)}V.flags&=-3}mt&4096&&(V.flags&=-4097)}function Xg(V,mt,ir){yn=V,qd(V)}function qd(V,mt,ir){for(var cr=(V.mode&1)!==0;yn!==null;){var pr=yn,_r=pr.child;if(pr.tag===22&&cr){var Ir=pr.memoizedState!==null||Sc;if(!Ir){var xr=pr.alternate,Lr=xr!==null&&xr.memoizedState!==null||Di;xr=Sc;var Gr=Di;if(Sc=Ir,(Di=Lr)&&!Gr)for(yn=pr;yn!==null;)Ir=yn,Lr=Ir.child,Ir.tag===22&&Ir.memoizedState!==null?Xd(pr):Lr!==null?(Lr.return=Ir,yn=Lr):Xd(pr);for(;_r!==null;)yn=_r,qd(_r),_r=_r.sibling;yn=pr,Sc=xr,Di=Gr}Yd(V)}else(pr.subtreeFlags&8772)!==0&&_r!==null?(_r.return=pr,yn=_r):Yd(V)}}function Yd(V){for(;yn!==null;){var mt=yn;if((mt.flags&8772)!==0){var ir=mt.alternate;try{if((mt.flags&8772)!==0)switch(mt.tag){case 0:case 11:case 15:Di||Pc(5,mt);break;case 1:var cr=mt.stateNode;if(mt.flags&4&&!Di)if(ir===null)cr.componentDidMount();else{var pr=mt.elementType===mt.type?ir.memoizedProps:$o(mt.type,ir.memoizedProps);cr.componentDidUpdate(pr,ir.memoizedState,cr.__reactInternalSnapshotBeforeUpdate)}var _r=mt.updateQueue;_r!==null&&Qp(mt,_r,cr);break;case 3:var Ir=mt.updateQueue;if(Ir!==null){if(ir=null,mt.child!==null)switch(mt.child.tag){case 5:ir=mt.child.stateNode;break;case 1:ir=mt.child.stateNode}Qp(mt,Ir,ir)}break;case 5:var xr=mt.stateNode;if(ir===null&&mt.flags&4){ir=xr;var Lr=mt.memoizedProps;switch(mt.type){case"button":case"input":case"select":case"textarea":Lr.autoFocus&&ir.focus();break;case"img":Lr.src&&(ir.src=Lr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(mt.memoizedState===null){var Gr=mt.alternate;if(Gr!==null){var $r=Gr.memoizedState;if($r!==null){var qr=$r.dehydrated;qr!==null&&Qi(qr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Di||mt.flags&512&&Hu(mt)}catch(Hr){ri(mt,mt.return,Hr)}}if(mt===V){yn=null;break}if(ir=mt.sibling,ir!==null){ir.return=mt.return,yn=ir;break}yn=mt.return}}function Qd(V){for(;yn!==null;){var mt=yn;if(mt===V){yn=null;break}var ir=mt.sibling;if(ir!==null){ir.return=mt.return,yn=ir;break}yn=mt.return}}function Xd(V){for(;yn!==null;){var mt=yn;try{switch(mt.tag){case 0:case 11:case 15:var ir=mt.return;try{Pc(4,mt)}catch(Lr){ri(mt,ir,Lr)}break;case 1:var cr=mt.stateNode;if(typeof cr.componentDidMount=="function"){var pr=mt.return;try{cr.componentDidMount()}catch(Lr){ri(mt,pr,Lr)}}var _r=mt.return;try{Hu(mt)}catch(Lr){ri(mt,_r,Lr)}break;case 5:var Ir=mt.return;try{Hu(mt)}catch(Lr){ri(mt,Ir,Lr)}}}catch(Lr){ri(mt,mt.return,Lr)}if(mt===V){yn=null;break}var xr=mt.sibling;if(xr!==null){xr.return=mt.return,yn=xr;break}yn=mt.return}}var Jg=Math.ceil,wc=Ar.ReactCurrentDispatcher,qu=Ar.ReactCurrentOwner,Mo=Ar.ReactCurrentBatchConfig,Bn=0,yi=null,ai=null,Pi=0,mo=0,Il=da(0),pi=0,Hl=null,Ha=0,Oc=0,Yu=0,$l=null,ro=null,Qu=0,Al=1/0,Ks=null,Cc=!1,Xu=null,ya=null,Mc=!1,va=null,Fc=0,Kl=0,Ju=null,kc=-1,xc=0;function Wi(){return(Bn&6)!==0?jn():kc!==-1?kc:kc=jn()}function Ea(V){return(V.mode&1)===0?1:(Bn&2)!==0&&Pi!==0?Pi&-Pi:Dg.transition!==null?(xc===0&&(xc=To()),xc):(V=Mn,V!==0||(V=window.event,V=V===void 0?16:So(V.type)),V)}function Yo(V,mt,ir,cr){if(50<Kl)throw Kl=0,Ju=null,Error(t(185));No(V,ir,cr),((Bn&2)===0||V!==yi)&&(V===yi&&((Bn&2)===0&&(Oc|=ir),pi===4&&ba(V,Pi)),no(V,cr),ir===1&&Bn===0&&(mt.mode&1)===0&&(Al=jn()+500,lc&&ha()))}function no(V,mt){var ir=V.callbackNode;bo(V,mt);var cr=ns(V,V===yi?Pi:0);if(cr===0)ir!==null&&Ti(ir),V.callbackNode=null,V.callbackPriority=0;else if(mt=cr&-cr,V.callbackPriority!==mt){if(ir!=null&&Ti(ir),mt===1)V.tag===0?xg(Zd.bind(null,V)):Vp(Zd.bind(null,V)),Cg(function(){(Bn&6)===0&&ha()}),ir=null;else{switch(jo(cr)){case 1:ir=rs;break;case 4:ir=co;break;case 16:ir=Jn;break;case 536870912:ir=As;break;default:ir=Jn}ir=ag(ir,Jd.bind(null,V))}V.callbackPriority=mt,V.callbackNode=ir}}function Jd(V,mt){if(kc=-1,xc=0,(Bn&6)!==0)throw Error(t(327));var ir=V.callbackNode;if(Sl()&&V.callbackNode!==ir)return null;var cr=ns(V,V===yi?Pi:0);if(cr===0)return null;if((cr&30)!==0||(cr&V.expiredLanes)!==0||mt)mt=Dc(V,cr);else{mt=cr;var pr=Bn;Bn|=2;var _r=tg();(yi!==V||Pi!==mt)&&(Ks=null,Al=jn()+500,Ka(V,mt));do try{th();break}catch(xr){eg(V,xr)}while(!0);mu(),wc.current=_r,Bn=pr,ai!==null?mt=0:(yi=null,Pi=0,mt=pi)}if(mt!==0){if(mt===2&&(pr=Oi(V),pr!==0&&(cr=pr,mt=Zu(V,pr))),mt===1)throw ir=Hl,Ka(V,0),ba(V,cr),no(V,jn()),ir;if(mt===6)ba(V,cr);else{if(pr=V.current.alternate,(cr&30)===0&&!Zg(pr)&&(mt=Dc(V,cr),mt===2&&(_r=Oi(V),_r!==0&&(cr=_r,mt=Zu(V,_r))),mt===1))throw ir=Hl,Ka(V,0),ba(V,cr),no(V,jn()),ir;switch(V.finishedWork=pr,V.finishedLanes=cr,mt){case 0:case 1:throw Error(t(345));case 2:qa(V,ro,Ks);break;case 3:if(ba(V,cr),(cr&130023424)===cr&&(mt=Qu+500-jn(),10<mt)){if(ns(V,0)!==0)break;if(pr=V.suspendedLanes,(pr&cr)!==cr){Wi(),V.pingedLanes|=V.suspendedLanes&pr;break}V.timeoutHandle=ou(qa.bind(null,V,ro,Ks),mt);break}qa(V,ro,Ks);break;case 4:if(ba(V,cr),(cr&4194240)===cr)break;for(mt=V.eventTimes,pr=-1;0<cr;){var Ir=31-hi(cr);_r=1<<Ir,Ir=mt[Ir],Ir>pr&&(pr=Ir),cr&=~_r}if(cr=pr,cr=jn()-cr,cr=(120>cr?120:480>cr?480:1080>cr?1080:1920>cr?1920:3e3>cr?3e3:4320>cr?4320:1960*Jg(cr/1960))-cr,10<cr){V.timeoutHandle=ou(qa.bind(null,V,ro,Ks),cr);break}qa(V,ro,Ks);break;case 5:qa(V,ro,Ks);break;default:throw Error(t(329))}}}return no(V,jn()),V.callbackNode===ir?Jd.bind(null,V):null}function Zu(V,mt){var ir=$l;return V.current.memoizedState.isDehydrated&&(Ka(V,mt).flags|=256),V=Dc(V,mt),V!==2&&(mt=ro,ro=ir,mt!==null&&ep(mt)),V}function ep(V){ro===null?ro=V:ro.push.apply(ro,V)}function Zg(V){for(var mt=V;;){if(mt.flags&16384){var ir=mt.updateQueue;if(ir!==null&&(ir=ir.stores,ir!==null))for(var cr=0;cr<ir.length;cr++){var pr=ir[cr],_r=pr.getSnapshot;pr=pr.value;try{if(!Wo(_r(),pr))return!1}catch{return!1}}}if(ir=mt.child,mt.subtreeFlags&16384&&ir!==null)ir.return=mt,mt=ir;else{if(mt===V)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===V)return!0;mt=mt.return}mt.sibling.return=mt.return,mt=mt.sibling}}return!0}function ba(V,mt){for(mt&=~Yu,mt&=~Oc,V.suspendedLanes|=mt,V.pingedLanes&=~mt,V=V.expirationTimes;0<mt;){var ir=31-hi(mt),cr=1<<ir;V[ir]=-1,mt&=~cr}}function Zd(V){if((Bn&6)!==0)throw Error(t(327));Sl();var mt=ns(V,0);if((mt&1)===0)return no(V,jn()),null;var ir=Dc(V,mt);if(V.tag!==0&&ir===2){var cr=Oi(V);cr!==0&&(mt=cr,ir=Zu(V,cr))}if(ir===1)throw ir=Hl,Ka(V,0),ba(V,mt),no(V,jn()),ir;if(ir===6)throw Error(t(345));return V.finishedWork=V.current.alternate,V.finishedLanes=mt,qa(V,ro,Ks),no(V,jn()),null}function tp(V,mt){var ir=Bn;Bn|=1;try{return V(mt)}finally{Bn=ir,Bn===0&&(Al=jn()+500,lc&&ha())}}function $a(V){va!==null&&va.tag===0&&(Bn&6)===0&&Sl();var mt=Bn;Bn|=1;var ir=Mo.transition,cr=Mn;try{if(Mo.transition=null,Mn=1,V)return V()}finally{Mn=cr,Mo.transition=ir,Bn=mt,(Bn&6)===0&&ha()}}function rp(){mo=Il.current,$n(Il)}function Ka(V,mt){V.finishedWork=null,V.finishedLanes=0;var ir=V.timeoutHandle;if(ir!==-1&&(V.timeoutHandle=-1,Og(ir)),ai!==null)for(ir=ai.return;ir!==null;){var cr=ir;switch(pu(cr),cr.tag){case 1:cr=cr.type.childContextTypes,cr!=null&&sc();break;case 3:bl(),$n(Ji),$n(Fi),Iu();break;case 5:Tu(cr);break;case 4:bl();break;case 13:$n(Zn);break;case 19:$n(Zn);break;case 10:_u(cr.type._context);break;case 22:case 23:rp()}ir=ir.return}if(yi=V,ai=V=Ta(V.current,null),Pi=mo=mt,pi=0,Hl=null,Yu=Oc=Ha=0,ro=$l=null,za!==null){for(mt=0;mt<za.length;mt++)if(ir=za[mt],cr=ir.interleaved,cr!==null){ir.interleaved=null;var pr=cr.next,_r=ir.pending;if(_r!==null){var Ir=_r.next;_r.next=pr,cr.next=Ir}ir.pending=cr}za=null}return V}function eg(V,mt){do{var ir=ai;try{if(mu(),yc.current=Tc,vc){for(var cr=ei.memoizedState;cr!==null;){var pr=cr.queue;pr!==null&&(pr.pending=null),cr=cr.next}vc=!1}if(Wa=0,_i=ui=ei=null,Nl=!1,jl=0,qu.current=null,ir===null||ir.return===null){pi=1,Hl=mt,ai=null;break}e:{var _r=V,Ir=ir.return,xr=ir,Lr=mt;if(mt=Pi,xr.flags|=32768,Lr!==null&&typeof Lr=="object"&&typeof Lr.then=="function"){var Gr=Lr,$r=xr,qr=$r.tag;if(($r.mode&1)===0&&(qr===0||qr===11||qr===15)){var Hr=$r.alternate;Hr?($r.updateQueue=Hr.updateQueue,$r.memoizedState=Hr.memoizedState,$r.lanes=Hr.lanes):($r.updateQueue=null,$r.memoizedState=null)}var fn=Ad(Ir);if(fn!==null){fn.flags&=-257,Sd(fn,Ir,xr,_r,mt),fn.mode&1&&Id(_r,Gr,mt),mt=fn,Lr=Gr;var vn=mt.updateQueue;if(vn===null){var En=new Set;En.add(Lr),mt.updateQueue=En}else vn.add(Lr);break e}else{if((mt&1)===0){Id(_r,Gr,mt),np();break e}Lr=Error(t(426))}}else if(qn&&xr.mode&1){var ii=Ad(Ir);if(ii!==null){(ii.flags&65536)===0&&(ii.flags|=256),Sd(ii,Ir,xr,_r,mt),hu(Tl(Lr,xr));break e}}_r=Lr=Tl(Lr,xr),pi!==4&&(pi=2),$l===null?$l=[_r]:$l.push(_r),_r=Ir;do{switch(_r.tag){case 3:_r.flags|=65536,mt&=-mt,_r.lanes|=mt;var Nr=Td(_r,Lr,mt);Yp(_r,Nr);break e;case 1:xr=Lr;var Br=_r.type,jr=_r.stateNode;if((_r.flags&128)===0&&(typeof Br.getDerivedStateFromError=="function"||jr!==null&&typeof jr.componentDidCatch=="function"&&(ya===null||!ya.has(jr)))){_r.flags|=65536,mt&=-mt,_r.lanes|=mt;var Qr=Rd(_r,xr,mt);Yp(_r,Qr);break e}}_r=_r.return}while(_r!==null)}ng(ir)}catch(Tn){mt=Tn,ai===ir&&ir!==null&&(ai=ir=ir.return);continue}break}while(!0)}function tg(){var V=wc.current;return wc.current=Tc,V===null?Tc:V}function np(){(pi===0||pi===3||pi===2)&&(pi=4),yi===null||(Ha&268435455)===0&&(Oc&268435455)===0||ba(yi,Pi)}function Dc(V,mt){var ir=Bn;Bn|=2;var cr=tg();(yi!==V||Pi!==mt)&&(Ks=null,Ka(V,mt));do try{eh();break}catch(pr){eg(V,pr)}while(!0);if(mu(),Bn=ir,wc.current=cr,ai!==null)throw Error(t(261));return yi=null,Pi=0,pi}function eh(){for(;ai!==null;)rg(ai)}function th(){for(;ai!==null&&!ji();)rg(ai)}function rg(V){var mt=sg(V.alternate,V,mo);V.memoizedProps=V.pendingProps,mt===null?ng(V):ai=mt,qu.current=null}function ng(V){var mt=V;do{var ir=mt.alternate;if(V=mt.return,(mt.flags&32768)===0){if(ir=Kg(ir,mt,mo),ir!==null){ai=ir;return}}else{if(ir=qg(ir,mt),ir!==null){ir.flags&=32767,ai=ir;return}if(V!==null)V.flags|=32768,V.subtreeFlags=0,V.deletions=null;else{pi=6,ai=null;return}}if(mt=mt.sibling,mt!==null){ai=mt;return}ai=mt=V}while(mt!==null);pi===0&&(pi=5)}function qa(V,mt,ir){var cr=Mn,pr=Mo.transition;try{Mo.transition=null,Mn=1,rh(V,mt,ir,cr)}finally{Mo.transition=pr,Mn=cr}return null}function rh(V,mt,ir,cr){do Sl();while(va!==null);if((Bn&6)!==0)throw Error(t(327));ir=V.finishedWork;var pr=V.finishedLanes;if(ir===null)return null;if(V.finishedWork=null,V.finishedLanes=0,ir===V.current)throw Error(t(177));V.callbackNode=null,V.callbackPriority=0;var _r=ir.lanes|ir.childLanes;if(zn(V,_r),V===yi&&(ai=yi=null,Pi=0),(ir.subtreeFlags&2064)===0&&(ir.flags&2064)===0||Mc||(Mc=!0,ag(Jn,function(){return Sl(),null})),_r=(ir.flags&15990)!==0,(ir.subtreeFlags&15990)!==0||_r){_r=Mo.transition,Mo.transition=null;var Ir=Mn;Mn=1;var xr=Bn;Bn|=4,qu.current=null,Qg(V,ir),Kd(ir,V),Tg(nu),Ao=!!ru,nu=ru=null,V.current=ir,Xg(ir),Is(),Bn=xr,Mn=Ir,Mo.transition=_r}else V.current=ir;if(Mc&&(Mc=!1,va=V,Fc=pr),_r=V.pendingLanes,_r===0&&(ya=null),Qa(ir.stateNode),no(V,jn()),mt!==null)for(cr=V.onRecoverableError,ir=0;ir<mt.length;ir++)pr=mt[ir],cr(pr.value,{componentStack:pr.stack,digest:pr.digest});if(Cc)throw Cc=!1,V=Xu,Xu=null,V;return(Fc&1)!==0&&V.tag!==0&&Sl(),_r=V.pendingLanes,(_r&1)!==0?V===Ju?Kl++:(Kl=0,Ju=V):Kl=0,ha(),null}function Sl(){if(va!==null){var V=jo(Fc),mt=Mo.transition,ir=Mn;try{if(Mo.transition=null,Mn=16>V?16:V,va===null)var cr=!1;else{if(V=va,va=null,Fc=0,(Bn&6)!==0)throw Error(t(331));var pr=Bn;for(Bn|=4,yn=V.current;yn!==null;){var _r=yn,Ir=_r.child;if((yn.flags&16)!==0){var xr=_r.deletions;if(xr!==null){for(var Lr=0;Lr<xr.length;Lr++){var Gr=xr[Lr];for(yn=Gr;yn!==null;){var $r=yn;switch($r.tag){case 0:case 11:case 15:Wl(8,$r,_r)}var qr=$r.child;if(qr!==null)qr.return=$r,yn=qr;else for(;yn!==null;){$r=yn;var Hr=$r.sibling,fn=$r.return;if(zd($r),$r===Gr){yn=null;break}if(Hr!==null){Hr.return=fn,yn=Hr;break}yn=fn}}}var vn=_r.alternate;if(vn!==null){var En=vn.child;if(En!==null){vn.child=null;do{var ii=En.sibling;En.sibling=null,En=ii}while(En!==null)}}yn=_r}}if((_r.subtreeFlags&2064)!==0&&Ir!==null)Ir.return=_r,yn=Ir;else e:for(;yn!==null;){if(_r=yn,(_r.flags&2048)!==0)switch(_r.tag){case 0:case 11:case 15:Wl(9,_r,_r.return)}var Nr=_r.sibling;if(Nr!==null){Nr.return=_r.return,yn=Nr;break e}yn=_r.return}}var Br=V.current;for(yn=Br;yn!==null;){Ir=yn;var jr=Ir.child;if((Ir.subtreeFlags&2064)!==0&&jr!==null)jr.return=Ir,yn=jr;else e:for(Ir=Br;yn!==null;){if(xr=yn,(xr.flags&2048)!==0)try{switch(xr.tag){case 0:case 11:case 15:Pc(9,xr)}}catch(Tn){ri(xr,xr.return,Tn)}if(xr===Ir){yn=null;break e}var Qr=xr.sibling;if(Qr!==null){Qr.return=xr.return,yn=Qr;break e}yn=xr.return}}if(Bn=pr,ha(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(di,V)}catch{}cr=!0}return cr}finally{Mn=ir,Mo.transition=mt}}return!1}function ig(V,mt,ir){mt=Tl(ir,mt),mt=Td(V,mt,1),V=ma(V,mt,1),mt=Wi(),V!==null&&(No(V,1,mt),no(V,mt))}function ri(V,mt,ir){if(V.tag===3)ig(V,V,ir);else for(;mt!==null;){if(mt.tag===3){ig(mt,V,ir);break}else if(mt.tag===1){var cr=mt.stateNode;if(typeof mt.type.getDerivedStateFromError=="function"||typeof cr.componentDidCatch=="function"&&(ya===null||!ya.has(cr))){V=Tl(ir,V),V=Rd(mt,V,1),mt=ma(mt,V,1),V=Wi(),mt!==null&&(No(mt,1,V),no(mt,V));break}}mt=mt.return}}function nh(V,mt,ir){var cr=V.pingCache;cr!==null&&cr.delete(mt),mt=Wi(),V.pingedLanes|=V.suspendedLanes&ir,yi===V&&(Pi&ir)===ir&&(pi===4||pi===3&&(Pi&130023424)===Pi&&500>jn()-Qu?Ka(V,0):Yu|=ir),no(V,mt)}function og(V,mt){mt===0&&((V.mode&1)===0?mt=1:(mt=ws,ws<<=1,(ws&130023424)===0&&(ws=4194304)));var ir=Wi();V=Ws(V,mt),V!==null&&(No(V,mt,ir),no(V,ir))}function ih(V){var mt=V.memoizedState,ir=0;mt!==null&&(ir=mt.retryLane),og(V,ir)}function oh(V,mt){var ir=0;switch(V.tag){case 13:var cr=V.stateNode,pr=V.memoizedState;pr!==null&&(ir=pr.retryLane);break;case 19:cr=V.stateNode;break;default:throw Error(t(314))}cr!==null&&cr.delete(mt),og(V,ir)}var sg;sg=function(V,mt,ir){if(V!==null)if(V.memoizedProps!==mt.pendingProps||Ji.current)eo=!0;else{if((V.lanes&ir)===0&&(mt.flags&128)===0)return eo=!1,$g(V,mt,ir);eo=(V.flags&131072)!==0}else eo=!1,qn&&(mt.flags&1048576)!==0&&Np(mt,uc,mt.index);switch(mt.lanes=0,mt.tag){case 2:var cr=mt.type;Ac(V,mt),V=mt.pendingProps;var pr=hl(mt,Fi.current);El(mt,ir),pr=Pu(null,mt,cr,V,pr,ir);var _r=wu();return mt.flags|=1,typeof pr=="object"&&pr!==null&&typeof pr.render=="function"&&pr.$$typeof===void 0?(mt.tag=1,mt.memoizedState=null,mt.updateQueue=null,Zi(cr)?(_r=!0,ac(mt)):_r=!1,mt.memoizedState=pr.state!==null&&pr.state!==void 0?pr.state:null,Eu(mt),pr.updater=Rc,mt.stateNode=pr,pr._reactInternals=mt,xu(mt,cr,V,ir),mt=Vu(null,mt,cr,!0,_r,ir)):(mt.tag=0,qn&&_r&&uu(mt),Ui(null,mt,pr,ir),mt=mt.child),mt;case 16:cr=mt.elementType;e:{switch(Ac(V,mt),V=mt.pendingProps,pr=cr._init,cr=pr(cr._payload),mt.type=cr,pr=mt.tag=ah(cr),V=$o(cr,V),pr){case 0:mt=Bu(null,mt,cr,V,ir);break e;case 1:mt=Fd(null,mt,cr,V,ir);break e;case 11:mt=Pd(null,mt,cr,V,ir);break e;case 14:mt=wd(null,mt,cr,$o(cr.type,V),ir);break e}throw Error(t(306,cr,""))}return mt;case 0:return cr=mt.type,pr=mt.pendingProps,pr=mt.elementType===cr?pr:$o(cr,pr),Bu(V,mt,cr,pr,ir);case 1:return cr=mt.type,pr=mt.pendingProps,pr=mt.elementType===cr?pr:$o(cr,pr),Fd(V,mt,cr,pr,ir);case 3:e:{if(kd(mt),V===null)throw Error(t(387));cr=mt.pendingProps,_r=mt.memoizedState,pr=_r.element,qp(V,mt),mc(mt,cr,null,ir);var Ir=mt.memoizedState;if(cr=Ir.element,_r.isDehydrated)if(_r={element:cr,isDehydrated:!1,cache:Ir.cache,pendingSuspenseBoundaries:Ir.pendingSuspenseBoundaries,transitions:Ir.transitions},mt.updateQueue.baseState=_r,mt.memoizedState=_r,mt.flags&256){pr=Tl(Error(t(423)),mt),mt=xd(V,mt,cr,ir,pr);break e}else if(cr!==pr){pr=Tl(Error(t(424)),mt),mt=xd(V,mt,cr,ir,pr);break e}else for(fo=pa(mt.stateNode.containerInfo.firstChild),ho=mt,qn=!0,Ho=null,ir=$p(mt,null,cr,ir),mt.child=ir;ir;)ir.flags=ir.flags&-3|4096,ir=ir.sibling;else{if(_l(),cr===pr){mt=$s(V,mt,ir);break e}Ui(V,mt,cr,ir)}mt=mt.child}return mt;case 5:return Xp(mt),V===null&&gu(mt),cr=mt.type,pr=mt.pendingProps,_r=V!==null?V.memoizedProps:null,Ir=pr.children,iu(cr,pr)?Ir=null:_r!==null&&iu(cr,_r)&&(mt.flags|=32),Md(V,mt),Ui(V,mt,Ir,ir),mt.child;case 6:return V===null&&gu(mt),null;case 13:return Dd(V,mt,ir);case 4:return bu(mt,mt.stateNode.containerInfo),cr=mt.pendingProps,V===null?mt.child=yl(mt,null,cr,ir):Ui(V,mt,cr,ir),mt.child;case 11:return cr=mt.type,pr=mt.pendingProps,pr=mt.elementType===cr?pr:$o(cr,pr),Pd(V,mt,cr,pr,ir);case 7:return Ui(V,mt,mt.pendingProps,ir),mt.child;case 8:return Ui(V,mt,mt.pendingProps.children,ir),mt.child;case 12:return Ui(V,mt,mt.pendingProps.children,ir),mt.child;case 10:e:{if(cr=mt.type._context,pr=mt.pendingProps,_r=mt.memoizedProps,Ir=pr.value,Wn(gc,cr._currentValue),cr._currentValue=Ir,_r!==null)if(Wo(_r.value,Ir)){if(_r.children===pr.children&&!Ji.current){mt=$s(V,mt,ir);break e}}else for(_r=mt.child,_r!==null&&(_r.return=mt);_r!==null;){var xr=_r.dependencies;if(xr!==null){Ir=_r.child;for(var Lr=xr.firstContext;Lr!==null;){if(Lr.context===cr){if(_r.tag===1){Lr=Hs(-1,ir&-ir),Lr.tag=2;var Gr=_r.updateQueue;if(Gr!==null){Gr=Gr.shared;var $r=Gr.pending;$r===null?Lr.next=Lr:(Lr.next=$r.next,$r.next=Lr),Gr.pending=Lr}}_r.lanes|=ir,Lr=_r.alternate,Lr!==null&&(Lr.lanes|=ir),yu(_r.return,ir,mt),xr.lanes|=ir;break}Lr=Lr.next}}else if(_r.tag===10)Ir=_r.type===mt.type?null:_r.child;else if(_r.tag===18){if(Ir=_r.return,Ir===null)throw Error(t(341));Ir.lanes|=ir,xr=Ir.alternate,xr!==null&&(xr.lanes|=ir),yu(Ir,ir,mt),Ir=_r.sibling}else Ir=_r.child;if(Ir!==null)Ir.return=_r;else for(Ir=_r;Ir!==null;){if(Ir===mt){Ir=null;break}if(_r=Ir.sibling,_r!==null){_r.return=Ir.return,Ir=_r;break}Ir=Ir.return}_r=Ir}Ui(V,mt,pr.children,ir),mt=mt.child}return mt;case 9:return pr=mt.type,cr=mt.pendingProps.children,El(mt,ir),pr=Oo(pr),cr=cr(pr),mt.flags|=1,Ui(V,mt,cr,ir),mt.child;case 14:return cr=mt.type,pr=$o(cr,mt.pendingProps),pr=$o(cr.type,pr),wd(V,mt,cr,pr,ir);case 15:return Od(V,mt,mt.type,mt.pendingProps,ir);case 17:return cr=mt.type,pr=mt.pendingProps,pr=mt.elementType===cr?pr:$o(cr,pr),Ac(V,mt),mt.tag=1,Zi(cr)?(V=!0,ac(mt)):V=!1,El(mt,ir),Ed(mt,cr,pr),xu(mt,cr,pr,ir),Vu(null,mt,cr,!0,V,ir);case 19:return Bd(V,mt,ir);case 22:return Cd(V,mt,ir)}throw Error(t(156,mt.tag))};function ag(V,mt){return Rs(V,mt)}function sh(V,mt,ir,cr){this.tag=V,this.key=ir,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=mt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=cr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fo(V,mt,ir,cr){return new sh(V,mt,ir,cr)}function ip(V){return V=V.prototype,!(!V||!V.isReactComponent)}function ah(V){if(typeof V=="function")return ip(V)?1:0;if(V!=null){if(V=V.$$typeof,V===kr)return 11;if(V===hn)return 14}return 2}function Ta(V,mt){var ir=V.alternate;return ir===null?(ir=Fo(V.tag,mt,V.key,V.mode),ir.elementType=V.elementType,ir.type=V.type,ir.stateNode=V.stateNode,ir.alternate=V,V.alternate=ir):(ir.pendingProps=mt,ir.type=V.type,ir.flags=0,ir.subtreeFlags=0,ir.deletions=null),ir.flags=V.flags&14680064,ir.childLanes=V.childLanes,ir.lanes=V.lanes,ir.child=V.child,ir.memoizedProps=V.memoizedProps,ir.memoizedState=V.memoizedState,ir.updateQueue=V.updateQueue,mt=V.dependencies,ir.dependencies=mt===null?null:{lanes:mt.lanes,firstContext:mt.firstContext},ir.sibling=V.sibling,ir.index=V.index,ir.ref=V.ref,ir}function Lc(V,mt,ir,cr,pr,_r){var Ir=2;if(cr=V,typeof V=="function")ip(V)&&(Ir=1);else if(typeof V=="string")Ir=5;else e:switch(V){case Tr:return Ya(ir.children,pr,_r,mt);case Er:Ir=8,pr|=8;break;case Rr:return V=Fo(12,ir,mt,pr|2),V.elementType=Rr,V.lanes=_r,V;case Cr:return V=Fo(13,ir,mt,pr),V.elementType=Cr,V.lanes=_r,V;case gn:return V=Fo(19,ir,mt,pr),V.elementType=gn,V.lanes=_r,V;case dn:return Bc(ir,pr,_r,mt);default:if(typeof V=="object"&&V!==null)switch(V.$$typeof){case wr:Ir=10;break e;case Or:Ir=9;break e;case kr:Ir=11;break e;case hn:Ir=14;break e;case Xr:Ir=16,cr=null;break e}throw Error(t(130,V==null?V:typeof V,""))}return mt=Fo(Ir,ir,mt,pr),mt.elementType=V,mt.type=cr,mt.lanes=_r,mt}function Ya(V,mt,ir,cr){return V=Fo(7,V,cr,mt),V.lanes=ir,V}function Bc(V,mt,ir,cr){return V=Fo(22,V,cr,mt),V.elementType=dn,V.lanes=ir,V.stateNode={isHidden:!1},V}function op(V,mt,ir){return V=Fo(6,V,null,mt),V.lanes=ir,V}function sp(V,mt,ir){return mt=Fo(4,V.children!==null?V.children:[],V.key,mt),mt.lanes=ir,mt.stateNode={containerInfo:V.containerInfo,pendingChildren:null,implementation:V.implementation},mt}function lh(V,mt,ir,cr,pr){this.tag=mt,this.containerInfo=V,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=cr,this.onRecoverableError=pr,this.mutableSourceEagerHydrationData=null}function ap(V,mt,ir,cr,pr,_r,Ir,xr,Lr){return V=new lh(V,mt,ir,xr,Lr),mt===1?(mt=1,_r===!0&&(mt|=8)):mt=0,_r=Fo(3,null,null,mt),V.current=_r,_r.stateNode=V,_r.memoizedState={element:cr,isDehydrated:ir,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(_r),V}function ch(V,mt,ir){var cr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:cr==null?null:""+cr,children:V,containerInfo:mt,implementation:ir}}function lg(V){if(!V)return ga;V=V._reactInternals;e:{if(Ni(V)!==V||V.tag!==1)throw Error(t(170));var mt=V;do{switch(mt.tag){case 3:mt=mt.stateNode.context;break e;case 1:if(Zi(mt.type)){mt=mt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}mt=mt.return}while(mt!==null);throw Error(t(171))}if(V.tag===1){var ir=V.type;if(Zi(ir))return Lp(V,ir,mt)}return mt}function cg(V,mt,ir,cr,pr,_r,Ir,xr,Lr){return V=ap(ir,cr,!0,V,pr,_r,Ir,xr,Lr),V.context=lg(null),ir=V.current,cr=Wi(),pr=Ea(ir),_r=Hs(cr,pr),_r.callback=mt??null,ma(ir,_r,pr),V.current.lanes=pr,No(V,pr,cr),no(V,cr),V}function Vc(V,mt,ir,cr){var pr=mt.current,_r=Wi(),Ir=Ea(pr);return ir=lg(ir),mt.context===null?mt.context=ir:mt.pendingContext=ir,mt=Hs(_r,Ir),mt.payload={element:V},cr=cr===void 0?null:cr,cr!==null&&(mt.callback=cr),V=ma(pr,mt,Ir),V!==null&&(Yo(V,pr,Ir,_r),fc(V,pr,Ir)),Ir}function Nc(V){if(V=V.current,!V.child)return null;switch(V.child.tag){case 5:return V.child.stateNode;default:return V.child.stateNode}}function ug(V,mt){if(V=V.memoizedState,V!==null&&V.dehydrated!==null){var ir=V.retryLane;V.retryLane=ir!==0&&ir<mt?ir:mt}}function lp(V,mt){ug(V,mt),(V=V.alternate)&&ug(V,mt)}function uh(){return null}var pg=typeof reportError=="function"?reportError:function(V){console.error(V)};function cp(V){this._internalRoot=V}jc.prototype.render=cp.prototype.render=function(V){var mt=this._internalRoot;if(mt===null)throw Error(t(409));Vc(V,mt,null,null)},jc.prototype.unmount=cp.prototype.unmount=function(){var V=this._internalRoot;if(V!==null){this._internalRoot=null;var mt=V.containerInfo;$a(function(){Vc(null,V,null,null)}),mt[js]=null}};function jc(V){this._internalRoot=V}jc.prototype.unstable_scheduleHydration=function(V){if(V){var mt=os();V={blockedOn:null,target:V,priority:mt};for(var ir=0;ir<Io.length&&mt!==0&&mt<Io[ir].priority;ir++);Io.splice(ir,0,V),ir===0&&as(V)}};function up(V){return!(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)}function Gc(V){return!(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11&&(V.nodeType!==8||V.nodeValue!==" react-mount-point-unstable "))}function dg(){}function ph(V,mt,ir,cr,pr){if(pr){if(typeof cr=="function"){var _r=cr;cr=function(){var Gr=Nc(Ir);_r.call(Gr)}}var Ir=cg(mt,cr,V,0,null,!1,!1,"",dg);return V._reactRootContainer=Ir,V[js]=Ir.current,Ml(V.nodeType===8?V.parentNode:V),$a(),Ir}for(;pr=V.lastChild;)V.removeChild(pr);if(typeof cr=="function"){var xr=cr;cr=function(){var Gr=Nc(Lr);xr.call(Gr)}}var Lr=ap(V,0,!1,null,null,!1,!1,"",dg);return V._reactRootContainer=Lr,V[js]=Lr.current,Ml(V.nodeType===8?V.parentNode:V),$a(function(){Vc(mt,Lr,ir,cr)}),Lr}function zc(V,mt,ir,cr,pr){var _r=ir._reactRootContainer;if(_r){var Ir=_r;if(typeof pr=="function"){var xr=pr;pr=function(){var Lr=Nc(Ir);xr.call(Lr)}}Vc(mt,Ir,V,pr)}else Ir=ph(ir,mt,V,pr,cr);return Nc(Ir)}Os=function(V){switch(V.tag){case 3:var mt=V.stateNode;if(mt.current.memoizedState.isDehydrated){var ir=Bo(mt.pendingLanes);ir!==0&&(is(mt,ir|1),no(mt,jn()),(Bn&6)===0&&(Al=jn()+500,ha()))}break;case 13:$a(function(){var cr=Ws(V,1);if(cr!==null){var pr=Wi();Yo(cr,V,1,pr)}}),lp(V,1)}},Cs=function(V){if(V.tag===13){var mt=Ws(V,134217728);if(mt!==null){var ir=Wi();Yo(mt,V,134217728,ir)}lp(V,134217728)}},Ca=function(V){if(V.tag===13){var mt=Ea(V),ir=Ws(V,mt);if(ir!==null){var cr=Wi();Yo(ir,V,mt,cr)}lp(V,mt)}},os=function(){return Mn},Za=function(V,mt){var ir=Mn;try{return Mn=V,mt()}finally{Mn=ir}},vo=function(V,mt,ir){switch(mt){case"input":if(Ys(V,ir),mt=ir.name,ir.type==="radio"&&mt!=null){for(ir=V;ir.parentNode;)ir=ir.parentNode;for(ir=ir.querySelectorAll("input[name="+JSON.stringify(""+mt)+'][type="radio"]'),mt=0;mt<ir.length;mt++){var cr=ir[mt];if(cr!==V&&cr.form===V.form){var pr=oc(cr);if(!pr)throw Error(t(90));qs(cr),Ys(cr,pr)}}}break;case"textarea":Hi(V,ir);break;case"select":mt=ir.value,mt!=null&&yo(V,!!ir.multiple,mt,!1)}},Lo=tp,ea=$a;var dh={usingClientEntryPoint:!1,Events:[xl,dl,oc,oo,so,tp]},ql={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gh={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(V){return V=Ts(V),V===null?null:V.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||uh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{di=Uc.inject(gh),gi=Uc}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dh,reactDom_production_min.createPortal=function(V,mt){var ir=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(mt))throw Error(t(200));return ch(V,mt,null,ir)},reactDom_production_min.createRoot=function(V,mt){if(!up(V))throw Error(t(299));var ir=!1,cr="",pr=pg;return mt!=null&&(mt.unstable_strictMode===!0&&(ir=!0),mt.identifierPrefix!==void 0&&(cr=mt.identifierPrefix),mt.onRecoverableError!==void 0&&(pr=mt.onRecoverableError)),mt=ap(V,1,!1,null,null,ir,!1,cr,pr),V[js]=mt.current,Ml(V.nodeType===8?V.parentNode:V),new cp(mt)},reactDom_production_min.findDOMNode=function(V){if(V==null)return null;if(V.nodeType===1)return V;var mt=V._reactInternals;if(mt===void 0)throw typeof V.render=="function"?Error(t(188)):(V=Object.keys(V).join(","),Error(t(268,V)));return V=Ts(mt),V=V===null?null:V.stateNode,V},reactDom_production_min.flushSync=function(V){return $a(V)},reactDom_production_min.hydrate=function(V,mt,ir){if(!Gc(mt))throw Error(t(200));return zc(null,V,mt,!0,ir)},reactDom_production_min.hydrateRoot=function(V,mt,ir){if(!up(V))throw Error(t(405));var cr=ir!=null&&ir.hydratedSources||null,pr=!1,_r="",Ir=pg;if(ir!=null&&(ir.unstable_strictMode===!0&&(pr=!0),ir.identifierPrefix!==void 0&&(_r=ir.identifierPrefix),ir.onRecoverableError!==void 0&&(Ir=ir.onRecoverableError)),mt=cg(mt,null,V,1,ir??null,pr,!1,_r,Ir),V[js]=mt.current,Ml(V),cr)for(V=0;V<cr.length;V++)ir=cr[V],pr=ir._getVersion,pr=pr(ir._source),mt.mutableSourceEagerHydrationData==null?mt.mutableSourceEagerHydrationData=[ir,pr]:mt.mutableSourceEagerHydrationData.push(ir,pr);return new jc(mt)},reactDom_production_min.render=function(V,mt,ir){if(!Gc(mt))throw Error(t(200));return zc(null,V,mt,!1,ir)},reactDom_production_min.unmountComponentAtNode=function(V){if(!Gc(V))throw Error(t(40));return V._reactRootContainer?($a(function(){zc(null,null,V,!1,function(){V._reactRootContainer=null,V[js]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=tp,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(V,mt,ir,cr){if(!Gc(ir))throw Error(t(200));if(V==null||V._reactInternals===void 0)throw Error(t(38));return zc(V,mt,ir,!1,cr)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var n=requireReactDom();return client.createRoot=n.createRoot,client.hydrateRoot=n.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_extends$3.apply(this,arguments)}var Action;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(n){n===void 0&&(n={});function e(i,o){let{pathname:s,search:l,hash:c}=i.location;return createLocation("",{pathname:s,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(e,t,null,n)}function invariant(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function warning(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(n,e){return{usr:n.state,key:n.key,idx:e}}function createLocation(n,e,t,i){return t===void 0&&(t=null),_extends$3({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:t,key:e&&e.key||i||createKey()})}function createPath(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function parsePath(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function getUrlBasedHistory(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,l=o.history,c=Action.Pop,w=null,er=nr();er==null&&(er=0,l.replaceState(_extends$3({},l.state,{idx:er}),""));function nr(){return(l.state||{idx:null}).idx}function rr(){c=Action.Pop;let gr=nr(),mr=gr==null?null:gr-er;er=gr,w&&w({action:c,location:hr.location,delta:mr})}function or(gr,mr){c=Action.Push;let vr=createLocation(hr.location,gr,mr);er=nr()+1;let Sr=getHistoryState(vr,er),Ar=hr.createHref(vr);try{l.pushState(Sr,"",Ar)}catch(Mr){if(Mr instanceof DOMException&&Mr.name==="DataCloneError")throw Mr;o.location.assign(Ar)}s&&w&&w({action:c,location:hr.location,delta:1})}function sr(gr,mr){c=Action.Replace;let vr=createLocation(hr.location,gr,mr);er=nr();let Sr=getHistoryState(vr,er),Ar=hr.createHref(vr);l.replaceState(Sr,"",Ar),s&&w&&w({action:c,location:hr.location,delta:0})}function dr(gr){let mr=o.location.origin!=="null"?o.location.origin:o.location.href,vr=typeof gr=="string"?gr:createPath(gr);return vr=vr.replace(/ $/,"%20"),invariant(mr,"No window.location.(origin|href) available to create URL for href: "+vr),new URL(vr,mr)}let hr={get action(){return c},get location(){return n(o,l)},listen(gr){if(w)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,rr),w=gr,()=>{o.removeEventListener(PopStateEventType,rr),w=null}},createHref(gr){return e(o,gr)},createURL:dr,encodeLocation(gr){let mr=dr(gr);return{pathname:mr.pathname,search:mr.search,hash:mr.hash}},push:or,replace:sr,go(gr){return l.go(gr)}};return hr}var ResultType;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ResultType||(ResultType={}));function matchRoutes(n,e,t){return t===void 0&&(t="/"),matchRoutesImpl(n,e,t)}function matchRoutesImpl(n,e,t,i){let o=typeof e=="string"?parsePath(e):e,s=stripBasename(o.pathname||"/",t);if(s==null)return null;let l=flattenRoutes(n);rankRouteBranches(l);let c=null;for(let w=0;c==null&&w<l.length;++w){let er=decodePath(s);c=matchRouteBranch(l[w],er)}return c}function flattenRoutes(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(s,l,c)=>{let w={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};w.relativePath.startsWith("/")&&(invariant(w.relativePath.startsWith(i),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(i.length));let er=joinPaths([i,w.relativePath]),nr=t.concat(w);s.children&&s.children.length>0&&(invariant(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+er+'".')),flattenRoutes(s.children,e,nr,er)),!(s.path==null&&!s.index)&&e.push({path:er,score:computeScore(er,s.index),routesMeta:nr})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))o(s,l);else for(let w of explodeOptionalSegments(s.path))o(s,l,w)}),e}function explodeOptionalSegments(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let l=explodeOptionalSegments(i.join("/")),c=[];return c.push(...l.map(w=>w===""?s:[s,w].join("/"))),o&&c.push(...l),c.map(w=>n.startsWith("/")&&w===""?"/":w)}function rankRouteBranches(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:compareIndexes(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=n=>n==="*";function computeScore(n,e){let t=n.split("/"),i=t.length;return t.some(isSplat)&&(i+=splatPenalty),e&&(i+=indexRouteValue),t.filter(o=>!isSplat(o)).reduce((o,s)=>o+(paramRe.test(s)?dynamicSegmentValue:s===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function matchRouteBranch(n,e,t){let{routesMeta:i}=n,o={},s="/",l=[];for(let c=0;c<i.length;++c){let w=i[c],er=c===i.length-1,nr=s==="/"?e:e.slice(s.length)||"/",rr=matchPath({path:w.relativePath,caseSensitive:w.caseSensitive,end:er},nr),or=w.route;if(!rr)return null;Object.assign(o,rr.params),l.push({params:o,pathname:joinPaths([s,rr.pathname]),pathnameBase:normalizePathname(joinPaths([s,rr.pathnameBase])),route:or}),rr.pathnameBase!=="/"&&(s=joinPaths([s,rr.pathnameBase]))}return l}function matchPath(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=compilePath(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((er,nr,rr)=>{let{paramName:or,isOptional:sr}=nr;if(or==="*"){let hr=c[rr]||"";l=s.slice(0,s.length-hr.length).replace(/(.)\/+$/,"$1")}const dr=c[rr];return sr&&!dr?er[or]=void 0:er[or]=(dr||"").replace(/%2F/g,"/"),er},{}),pathname:s,pathnameBase:l,pattern:n}}function compilePath(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),warning(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,w)=>(i.push({paramName:c,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function decodePath(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function stripBasename(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function resolvePath(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?parsePath(n):n;return{pathname:t?t.startsWith("/")?t:resolvePathname(t,e):e,search:normalizeSearch(i),hash:normalizeHash(o)}}function resolvePathname(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function getInvalidPathError(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(n,e){let t=getPathContributingMatches(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function resolveTo(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=parsePath(n):(o=_extends$3({},n),invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let s=n===""||o.pathname==="",l=s?"/":o.pathname,c;if(l==null)c=t;else{let rr=e.length-1;if(!i&&l.startsWith("..")){let or=l.split("/");for(;or[0]==="..";)or.shift(),rr-=1;o.pathname=or.join("/")}c=rr>=0?e[rr]:"/"}let w=resolvePath(o,c),er=l&&l!=="/"&&l.endsWith("/"),nr=(s||l===".")&&t.endsWith("/");return!w.pathname.endsWith("/")&&(er||nr)&&(w.pathname+="/"),w}const joinPaths=n=>n.join("/").replace(/\/\/+/g,"/"),normalizePathname=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,normalizeHash=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function isRouteErrorResponse(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(n,e){let{relative:t}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:i,navigator:o}=reactExports.useContext(NavigationContext),{hash:s,pathname:l,search:c}=useResolvedPath(n,{relative:t}),w=l;return i!=="/"&&(w=l==="/"?i:joinPaths([i,l])),o.createHref({pathname:w,search:c,hash:s})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(n){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(n)}function useNavigate(){let{isDataRoute:n}=reactExports.useContext(RouteContext);return n?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let n=reactExports.useContext(DataRouterContext),{basename:e,future:t,navigator:i}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),l=JSON.stringify(getResolveToMatches(o,t.v7_relativeSplatPath)),c=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{c.current=!0}),reactExports.useCallback(function(er,nr){if(nr===void 0&&(nr={}),!c.current)return;if(typeof er=="number"){i.go(er);return}let rr=resolveTo(er,JSON.parse(l),s,nr.relative==="path");n==null&&e!=="/"&&(rr.pathname=rr.pathname==="/"?e:joinPaths([e,rr.pathname])),(nr.replace?i.replace:i.push)(rr,nr.state,nr)},[e,i,l,s,n])}function useResolvedPath(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),l=JSON.stringify(getResolveToMatches(o,i.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(n,JSON.parse(l),s,t==="path"),[n,l,s,t])}function useRoutes(n,e){return useRoutesImpl(n,e)}function useRoutesImpl(n,e,t,i){useInRouterContext()||invariant(!1);let{navigator:o,static:s}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),c=l[l.length-1],w=c?c.params:{};c&&c.pathname;let er=c?c.pathnameBase:"/";c&&c.route;let nr=useLocation(),rr;if(e){var or;let mr=typeof e=="string"?parsePath(e):e;er==="/"||(or=mr.pathname)!=null&&or.startsWith(er)||invariant(!1),rr=mr}else rr=nr;let sr=rr.pathname||"/",dr=sr;if(er!=="/"){let mr=er.replace(/^\//,"").split("/");dr="/"+sr.replace(/^\//,"").split("/").slice(mr.length).join("/")}let hr=matchRoutes(n,{pathname:dr}),gr=_renderMatches(hr&&hr.map(mr=>Object.assign({},mr,{params:Object.assign({},w,mr.params),pathname:joinPaths([er,o.encodeLocation?o.encodeLocation(mr.pathname).pathname:mr.pathname]),pathnameBase:mr.pathnameBase==="/"?er:joinPaths([er,o.encodeLocation?o.encodeLocation(mr.pathnameBase).pathname:mr.pathnameBase])})),l,t,i);return e&&gr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},rr),navigationType:Action.Pop}},gr):gr}function DefaultErrorComponent(){let n=useRouteError(),e=isRouteErrorResponse(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),t?reactExports.createElement("pre",{style:o},t):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(n){let{routeContext:e,match:t,children:i}=n,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:e},i)}function _renderMatches(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(o=t)==null?void 0:o.errors;if(c!=null){let nr=l.findIndex(rr=>rr.route.id&&(c==null?void 0:c[rr.route.id])!==void 0);nr>=0||invariant(!1),l=l.slice(0,Math.min(l.length,nr+1))}let w=!1,er=-1;if(t&&i&&i.v7_partialHydration)for(let nr=0;nr<l.length;nr++){let rr=l[nr];if((rr.route.HydrateFallback||rr.route.hydrateFallbackElement)&&(er=nr),rr.route.id){let{loaderData:or,errors:sr}=t,dr=rr.route.loader&&or[rr.route.id]===void 0&&(!sr||sr[rr.route.id]===void 0);if(rr.route.lazy||dr){w=!0,er>=0?l=l.slice(0,er+1):l=[l[0]];break}}}return l.reduceRight((nr,rr,or)=>{let sr,dr=!1,hr=null,gr=null;t&&(sr=c&&rr.route.id?c[rr.route.id]:void 0,hr=rr.route.errorElement||defaultErrorElement,w&&(er<0&&or===0?(warningOnce("route-fallback"),dr=!0,gr=null):er===or&&(dr=!0,gr=rr.route.hydrateFallbackElement||null)));let mr=e.concat(l.slice(0,or+1)),vr=()=>{let Sr;return sr?Sr=hr:dr?Sr=gr:rr.route.Component?Sr=reactExports.createElement(rr.route.Component,null):rr.route.element?Sr=rr.route.element:Sr=nr,reactExports.createElement(RenderedRoute,{match:rr,routeContext:{outlet:nr,matches:mr,isDataRoute:t!=null},children:Sr})};return t&&(rr.route.ErrorBoundary||rr.route.errorElement||or===0)?reactExports.createElement(RenderErrorBoundary,{location:t.location,revalidation:t.revalidation,component:hr,error:sr,children:vr(),routeContext:{outlet:null,matches:mr,isDataRoute:!0}}):vr()},null)}var DataRouterHook$1=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(DataRouterHook$1||{}),DataRouterStateHook$1=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DataRouterStateHook$1||{});function useDataRouterContext(n){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(n){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(n){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(n){let e=useRouteContext(),t=e.matches[e.matches.length-1];return t.route.id||invariant(!1),t.route.id}function useRouteError(){var n;let e=reactExports.useContext(RouteErrorContext),t=useDataRouterState(),i=useCurrentRouteId();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function useNavigateStable(){let{router:n}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),t=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{t.current=!0}),reactExports.useCallback(function(o,s){s===void 0&&(s={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,_extends$2({fromRouteId:e},s)))},[n,e])}const alreadyWarned$1={};function warningOnce(n,e,t){alreadyWarned$1[n]||(alreadyWarned$1[n]=!0)}function logV6DeprecationWarnings(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Route(n){invariant(!1)}function Router(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Action.Pop,navigator:s,static:l=!1,future:c}=n;useInRouterContext()&&invariant(!1);let w=e.replace(/^\/*/,"/"),er=reactExports.useMemo(()=>({basename:w,navigator:s,static:l,future:_extends$2({v7_relativeSplatPath:!1},c)}),[w,c,s,l]);typeof i=="string"&&(i=parsePath(i));let{pathname:nr="/",search:rr="",hash:or="",state:sr=null,key:dr="default"}=i,hr=reactExports.useMemo(()=>{let gr=stripBasename(nr,w);return gr==null?null:{location:{pathname:gr,search:rr,hash:or,state:sr,key:dr},navigationType:o}},[w,nr,rr,or,sr,dr,o]);return hr==null?null:reactExports.createElement(NavigationContext.Provider,{value:er},reactExports.createElement(LocationContext.Provider,{children:t,value:hr}))}function Routes(n){let{children:e,location:t}=n;return useRoutes(createRoutesFromChildren(e),t)}new Promise(()=>{});function createRoutesFromChildren(n,e){e===void 0&&(e=[]);let t=[];return reactExports.Children.forEach(n,(i,o)=>{if(!reactExports.isValidElement(i))return;let s=[...e,o];if(i.type===reactExports.Fragment){t.push.apply(t,createRoutesFromChildren(i.props.children,s));return}i.type!==Route&&invariant(!1),!i.props.index||!i.props.children||invariant(!1);let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=createRoutesFromChildren(i.props.children,s)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function isModifiedEvent(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function shouldProcessLinkClick(n,e){return n.button===0&&(!e||e==="_self")&&!isModifiedEvent(n)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(n){let{basename:e,children:t,future:i,window:o}=n,s=reactExports.useRef();s.current==null&&(s.current=createBrowserHistory({window:o,v5Compat:!0}));let l=s.current,[c,w]=reactExports.useState({action:l.action,location:l.location}),{v7_startTransition:er}=i||{},nr=reactExports.useCallback(rr=>{er&&startTransitionImpl?startTransitionImpl(()=>w(rr)):w(rr)},[w,er]);return reactExports.useLayoutEffect(()=>l.listen(nr),[l,nr]),reactExports.useEffect(()=>logV6DeprecationWarnings(i),[i]),reactExports.createElement(Router,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:i})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:s,replace:l,state:c,target:w,to:er,preventScrollReset:nr,viewTransition:rr}=e,or=_objectWithoutPropertiesLoose$1(e,_excluded$1),{basename:sr}=reactExports.useContext(NavigationContext),dr,hr=!1;if(typeof er=="string"&&ABSOLUTE_URL_REGEX.test(er)&&(dr=er,isBrowser$1))try{let Sr=new URL(window.location.href),Ar=er.startsWith("//")?new URL(Sr.protocol+er):new URL(er),Mr=stripBasename(Ar.pathname,sr);Ar.origin===Sr.origin&&Mr!=null?er=Mr+Ar.search+Ar.hash:hr=!0}catch{}let gr=useHref(er,{relative:o}),mr=useLinkClickHandler(er,{replace:l,state:c,target:w,preventScrollReset:nr,relative:o,viewTransition:rr});function vr(Sr){i&&i(Sr),Sr.defaultPrevented||mr(Sr)}return reactExports.createElement("a",_extends$1({},or,{href:dr||gr,onClick:hr||s?i:vr,ref:t,target:w}))});var DataRouterHook;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(n,e){let{target:t,replace:i,state:o,preventScrollReset:s,relative:l,viewTransition:c}=e===void 0?{}:e,w=useNavigate(),er=useLocation(),nr=useResolvedPath(n,{relative:l});return reactExports.useCallback(rr=>{if(shouldProcessLinkClick(rr,t)){rr.preventDefault();let or=i!==void 0?i:createPath(er)===createPath(nr);w(n,{replace:or,state:o,preventScrollReset:s,relative:l,viewTransition:c})}},[er,w,nr,i,o,t,n,s,l,c])}const logo$1="/assets/logo2-Ckez0u8l.png";var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(n,e){if(n==null)return{};var t=_objectWithoutPropertiesLoose(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_extends.apply(this,arguments)}function ownKeys(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(i){_defineProperty(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _defineProperty(n,e,t){return e=_toPropertyKey(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _toPropertyKey(n){var e=_toPrimitive(n,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Tree2Element(n){return n&&n.map((e,t)=>React.createElement(e.tag,_objectSpread({key:t},e.attr),Tree2Element(e.child)))}function GenIcon(n){return e=>React.createElement(IconBase,_extends({attr:_objectSpread({},n.attr)},e),Tree2Element(n.child))}function IconBase(n){var e=t=>{var{attr:i,size:o,title:s}=n,l=_objectWithoutProperties(n,_excluded),c=o||t.size||"1em",w;return t.className&&(w=t.className),n.className&&(w=(w?w+" ":"")+n.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:w,style:_objectSpread(_objectSpread({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&React.createElement("title",null,s),n.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,t=>e(t)):e(DefaultContext)}function RiCloseLine(n){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(n)}function RiMenu3Line(n){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"},child:[]}]})(n)}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var n=requireReact();function e(w,er){return w===er&&(w!==0||1/w===1/er)||w!==w&&er!==er}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(w,er,nr,rr,or){var sr=o(null);if(sr.current===null){var dr={hasValue:!1,value:null};sr.current=dr}else dr=sr.current;sr=l(function(){function gr(Mr){if(!mr){if(mr=!0,vr=Mr,Mr=rr(Mr),or!==void 0&&dr.hasValue){var Fr=dr.value;if(or(Fr,Mr))return Sr=Fr}return Sr=Mr}if(Fr=Sr,t(vr,Mr))return Fr;var Tr=rr(Mr);return or!==void 0&&or(Fr,Tr)?(vr=Mr,Fr):(vr=Mr,Sr=Tr)}var mr=!1,vr,Sr,Ar=nr===void 0?null:nr;return[function(){return gr(er())},Ar===null?void 0:function(){return gr(Ar())}]},[er,nr,rr,or]);var hr=i(w,sr[0],sr[1]);return s(function(){dr.hasValue=!0,dr.value=hr},[hr]),c(hr),hr},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();function defaultNoopBatch(n){n()}function createListenerCollection(){let n=null,e=null;return{clear(){n=null,e=null},notify(){defaultNoopBatch(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(n,e){let t,i=nullListeners,o=0,s=!1;function l(hr){nr();const gr=i.subscribe(hr);let mr=!1;return()=>{mr||(mr=!0,gr(),rr())}}function c(){i.notify()}function w(){dr.onStateChange&&dr.onStateChange()}function er(){return s}function nr(){o++,t||(t=n.subscribe(w),i=createListenerCollection())}function rr(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=nullListeners)}function or(){s||(s=!0,nr())}function sr(){s&&(s=!1,rr())}const dr={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:w,isSubscribed:er,trySubscribe:or,tryUnsubscribe:sr,getListeners:()=>i};return dr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative$1=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative$1?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const n=gT[ContextKey]??(gT[ContextKey]=new Map);let e=n.get(reactExports.createContext);return e||(e=reactExports.createContext(null),n.set(reactExports.createContext,e)),e}var ReactReduxContext=getContext();function Provider$1(n){const{children:e,context:t,serverState:i,store:o}=n,s=reactExports.useMemo(()=>{const w=createSubscription(o);return{store:o,subscription:w,getServerState:i?()=>i:void 0}},[o,i]),l=reactExports.useMemo(()=>o.getState(),[o]);useIsomorphicLayoutEffect(()=>{const{subscription:w}=s;return w.onStateChange=w.notifyNestedSubs,w.trySubscribe(),l!==o.getState()&&w.notifyNestedSubs(),()=>{w.tryUnsubscribe(),w.onStateChange=void 0}},[s,l]);const c=t||ReactReduxContext;return reactExports.createElement(c.Provider,{value:s},e)}var Provider_default=Provider$1;function createReduxContextHook(n=ReactReduxContext){return function(){return reactExports.useContext(n)}}var useReduxContext=createReduxContextHook();function createStoreHook(n=ReactReduxContext){const e=n===ReactReduxContext?useReduxContext:createReduxContextHook(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var useStore=createStoreHook();function createDispatchHook(n=ReactReduxContext){const e=n===ReactReduxContext?useStore:createStoreHook(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var useDispatch=createDispatchHook(),refEquality=(n,e)=>n===e;function createSelectorHook(n=ReactReduxContext){const e=n===ReactReduxContext?useReduxContext:createReduxContextHook(n),t=(i,o={})=>{const{equalityFn:s=refEquality}=typeof o=="function"?{equalityFn:o}:o,l=e(),{store:c,subscription:w,getServerState:er}=l;reactExports.useRef(!0);const nr=reactExports.useCallback({[i.name](or){return i(or)}}[i.name],[i]),rr=withSelectorExports.useSyncExternalStoreWithSelector(w.addNestedSub,c.getState,er||c.getState,nr,s);return reactExports.useDebugValue(rr),rr};return Object.assign(t,{withTypes:()=>t}),t}var useSelector=createSelectorHook();const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},byteArrayToString=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const s=n[t++];e[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=n[t++],l=n[t++],c=n[t++],w=((o&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(w>>10)),e[i++]=String.fromCharCode(56320+(w&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|l&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const s=n[o],l=o+1<n.length,c=l?n[o+1]:0,w=o+2<n.length,er=w?n[o+2]:0,nr=s>>2,rr=(s&3)<<4|c>>4;let or=(c&15)<<2|er>>6,sr=er&63;w||(sr=64,l||(or=64)),i.push(t[nr],t[rr],t[or],t[sr])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(stringToByteArray$1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):byteArrayToString(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const s=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const er=o<n.length?t[n.charAt(o)]:64;++o;const rr=o<n.length?t[n.charAt(o)]:64;if(++o,s==null||c==null||er==null||rr==null)throw new DecodeBase64StringError;const or=s<<2|c>>4;if(i.push(or),er!==64){const sr=c<<4&240|er>>2;if(i.push(sr),rr!==64){const dr=er<<6&192|rr;i.push(dr)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(n){const e=stringToByteArray$1(n);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(n){return base64Encode(n).replace(/\./g,"")},base64Decode=function(n){try{return base64.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function deepExtend(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!isValidKey$1(t)||(n[t]=deepExtend(n[t],e[t]));return n}function isValidKey$1(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const n=define_process_env_default.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&base64Decode(n[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},getDefaultAppConfig=()=>{var n;return(n=getDefaults())===null||n===void 0?void 0:n.config},getExperimentalSetting=n=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[base64urlEncodeWithoutPadding(JSON.stringify(t)),base64urlEncodeWithoutPadding(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var n;const e=(n=getDefaults())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowser(){return typeof window<"u"||isWebWorker()}function isWebWorker(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const n=getUA();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,s=this.errors[e],l=s?replaceTemplate(s,i):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new FirebaseError(o,c,i)}}function replaceTemplate(n,e){return n.replace(PATTERN,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function isEmpty$1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function deepEqual(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const s=n[o],l=e[o];if(isObject$1(s)&&isObject$1(l)){if(!deepEqual(s,l))return!1}else if(s!==l)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function isObject$1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function querystringDecode(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,s]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(s)}}),e}function extractQuerystring(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function createSubscribe(n,e){const t=new ObserverProxy(n,e);return t.subscribe.bind(t)}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");implementsAnyMethods$1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=noop$1),o.error===void 0&&(o.error=noop$1),o.complete===void 0&&(o.complete=noop$1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods$1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(n){return n.endsWith(".cloudworkstations.dev")}async function pingServer(n){return(await fetch(n,{credentials:"include"})).ok}class Component{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Deferred;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&l.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(o,s);const l=this.instances.get(o);return l&&e(l,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(n){return n===DEFAULT_ENTRY_NAME$1?void 0:n}function isComponentEager(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instances$1=[];var LogLevel;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ConsoleMethod[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances$1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}function setLogLevel$3(n){instances$1.forEach(e=>{e.setLogLevel(n)})}function setUserLogHandler(n,e){for(const t of instances$1){let i=null;e&&e.level&&(i=levelStringToEnum[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(o,s,...l)=>{const c=l.map(w=>{if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(w=>w).join(" ");s>=(i??o.logLevel)&&n({level:LogLevel[s].toLowerCase(),message:c,args:l,type:o.name})}}}const instanceOfAny=(n,e)=>e.some(t=>n instanceof t);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(wrap(n.result)),o()},l=()=>{i(n.error),o()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&cursorRequestMap.set(t,n)}).catch(()=>{}),reverseTransformCache.set(e,n),e}function cacheDonePromiseForTransaction(n){if(transactionDoneMap.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),o()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});transactionDoneMap.set(n,e)}let idbProxyTraps={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||transactionStoreNamesMap.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wrap(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function replaceTraps(n){idbProxyTraps=n(idbProxyTraps)}function wrapFunction(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(unwrap$1(this),e,...t);return transactionStoreNamesMap.set(i,e.sort?e.sort():[e]),wrap(i)}:getCursorAdvanceMethods().includes(n)?function(...e){return n.apply(unwrap$1(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(n.apply(unwrap$1(this),e))}}function transformCachableValue(n){return typeof n=="function"?wrapFunction(n):(n instanceof IDBTransaction&&cacheDonePromiseForTransaction(n),instanceOfAny(n,getIdbProxyableTypes())?new Proxy(n,idbProxyTraps):n)}function wrap(n){if(n instanceof IDBRequest)return promisifyRequest(n);if(transformCache.has(n))return transformCache.get(n);const e=transformCachableValue(n);return e!==n&&(transformCache.set(n,e),reverseTransformCache.set(e,n)),e}const unwrap$1=n=>reverseTransformCache.get(n);function openDB(n,e,{blocked:t,upgrade:i,blocking:o,terminated:s}={}){const l=indexedDB.open(n,e),c=wrap(l);return i&&l.addEventListener("upgradeneeded",w=>{i(wrap(l.result),w.oldVersion,w.newVersion,wrap(l.transaction),w)}),t&&l.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),c.then(w=>{s&&w.addEventListener("close",()=>s()),o&&w.addEventListener("versionchange",er=>o(er.oldVersion,er.newVersion,er))}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=writeMethods.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(t)))return;const s=async function(l,...c){const w=this.transaction(l,o?"readwrite":"readonly");let er=w.store;return i&&(er=er.index(c.shift())),(await Promise.all([er[t](...c),o&&w.done]))[0]};return cachedMethods.set(e,s),s}replaceTraps(n=>({...n,get:(e,t,i)=>getMethod(e,t)||n.get(e,t,i),has:(e,t)=>!!getMethod(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(isVersionServiceProvider(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function isVersionServiceProvider(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$6="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(n,e){try{n.container.addComponent(e)}catch(t){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _addOrOverwriteComponent(n,e){n.container.addOrOverwriteComponent(e)}function _registerComponent(n){const e=n.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,n);for(const t of _apps.values())_addComponent(t,n);for(const t of _serverApps.values())_addComponent(t,n);return!0}function _getProvider(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _removeServiceInstance(n,e,t=DEFAULT_ENTRY_NAME){_getProvider(n,e).clearInstance(t)}function _isFirebaseApp(n){return n.options!==void 0}function _isFirebaseServerApp(n){return n==null?!1:n.settings!==void 0}function _clearComponents(){_components.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$1=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl$1=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$1.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateTokenTTL(n,e){const t=base64Decode(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const o=JSON.parse(t).exp*1e3,s=new Date().getTime();o-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class FirebaseServerAppImpl extends FirebaseAppImpl$1{constructor(e,t,i,o){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:i,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,o);else{const c=e;super(c.options,l,o)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&validateTokenTTL(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&validateTokenTTL(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,registerVersion(name$q,version$1$1,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){deleteApp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$1.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$6;function initializeApp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ERROR_FACTORY$1.create("bad-app-name",{appName:String(o)});if(t||(t=getDefaultAppConfig()),!t)throw ERROR_FACTORY$1.create("no-options");const s=_apps.get(o);if(s){if(deepEqual(t,s.options)&&deepEqual(i,s.config))return s;throw ERROR_FACTORY$1.create("duplicate-app",{appName:o})}const l=new ComponentContainer(o);for(const w of _components.values())l.addComponent(w);const c=new FirebaseAppImpl$1(t,i,l);return _apps.set(o,c),c}function initializeServerApp(n,e){if(isBrowser()&&!isWebWorker())throw ERROR_FACTORY$1.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;_isFirebaseApp(n)?t=n.options:t=n;const i=Object.assign(Object.assign({},e),t);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const o=er=>[...er].reduce((nr,rr)=>Math.imul(31,nr)+rr.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ERROR_FACTORY$1.create("finalization-registry-not-supported",{});const s=""+o(JSON.stringify(i)),l=_serverApps.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const c=new ComponentContainer(s);for(const er of _components.values())c.addComponent(er);const w=new FirebaseServerAppImpl(t,e,s,c);return _serverApps.set(s,w),w}function getApp(n=DEFAULT_ENTRY_NAME){const e=_apps.get(n);if(!e&&n===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY$1.create("no-app",{appName:n});return e}function getApps(){return Array.from(_apps.values())}async function deleteApp(n){let e=!1;const t=n.name;_apps.has(t)?(e=!0,_apps.delete(t)):_serverApps.has(t)&&n.decRefCount()<=0&&(_serverApps.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function registerVersion(n,e,t){var i;let o=(i=PLATFORM_LOG_STRING[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const s=o.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${o}" with version "${e}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(c.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function onLog(n,e){if(n!==null&&typeof n!="function")throw ERROR_FACTORY$1.create("invalid-log-argument");setUserLogHandler(n,e)}function setLogLevel$2(n){setLogLevel$3(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(STORE_NAME)}catch(t){console.warn(t)}}}}).catch(n=>{throw ERROR_FACTORY$1.create("idb-open",{originalErrorMessage:n.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(n){try{const t=(await getDbPromise()).transaction(STORE_NAME),i=await t.objectStore(STORE_NAME).get(computeKey(n));return await t.done,i}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const t=ERROR_FACTORY$1.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(t.message)}}}async function writeHeartbeatsToIndexedDB(n,e){try{const i=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await i.objectStore(STORE_NAME).put(e,computeKey(n)),await i.done}catch(t){if(t instanceof FirebaseError)logger$1.warn(t.message);else{const i=ERROR_FACTORY$1.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});logger$1.warn(i.message)}}}function computeKey(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=getUTCDateString();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const l=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){logger$1.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=getUTCDateString(),{heartbeatsToSend:i,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),s=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return logger$1.warn(t),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(n,e=MAX_HEADER_BYTES){const t=[];let i=n.slice();for(const o of n){const s=t.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),countBytes(t)>e){s.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),countBytes(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await readHeartbeatsFromIndexedDB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function countBytes(n){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})).length}function getEarliestHeartbeatIdx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents$1(n){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,n),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents$1("");const modularAPIs=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError,SDK_VERSION,_DEFAULT_ENTRY_NAME:DEFAULT_ENTRY_NAME,_addComponent,_addOrOverwriteComponent,_apps,_clearComponents,_components,_getProvider,_isFirebaseApp,_isFirebaseServerApp,_registerComponent,_removeServiceInstance,_serverApps,deleteApp,getApp,getApps,initializeApp,initializeServerApp,onLog,registerVersion,setLogLevel:setLogLevel$2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,t){this._delegate=e,this.firebase=t,_addComponent(e,new Component("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),deleteApp(this._delegate)))}_getService(e,t=DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:t})}_removeServiceInstance(e,t=DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){_addComponent(this._delegate,e)}_addOrOverwriteComponent(e){_addOrOverwriteComponent(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ERROR_FACTORY=new ErrorFactory("app-compat","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(n){const e={},t={__esModule:!0,initializeApp:s,app:o,registerVersion,setLogLevel:setLogLevel$2,onLog,apps:null,SDK_VERSION,INTERNAL:{registerComponent:c,removeApp:i,useAsService:w,modularAPIs}};t.default=t,Object.defineProperty(t,"apps",{get:l});function i(er){delete e[er]}function o(er){if(er=er||DEFAULT_ENTRY_NAME,!contains(e,er))throw ERROR_FACTORY.create("no-app",{appName:er});return e[er]}o.App=n;function s(er,nr={}){const rr=initializeApp(er,nr);if(contains(e,rr.name))return e[rr.name];const or=new n(rr,t);return e[rr.name]=or,or}function l(){return Object.keys(e).map(er=>e[er])}function c(er){const nr=er.name,rr=nr.replace("-compat","");if(_registerComponent(er)&&er.type==="PUBLIC"){const or=(sr=o())=>{if(typeof sr[rr]!="function")throw ERROR_FACTORY.create("invalid-app-argument",{appName:nr});return sr[rr]()};er.serviceProps!==void 0&&deepExtend(or,er.serviceProps),t[rr]=or,n.prototype[rr]=function(...sr){return this._getService.bind(this,nr).apply(this,er.multipleInstances?sr:[])}}return er.type==="PUBLIC"?t[rr]:null}function w(er,nr){return nr==="serverAuth"?null:nr}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){const n=createFirebaseNamespaceCore(FirebaseAppImpl);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace,extendNamespace:e,createSubscribe,ErrorFactory,deepExtend});function e(t){deepExtend(n,t)}return n}const firebase$1=createFirebaseNamespace();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app-compat"),name$4="@firebase/app-compat",version$5="0.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(n){registerVersion(name$4,version$5,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=getGlobal();if(n.firebase!==void 0){logger.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&logger.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const firebase=firebase$1;registerCoreComponents();var name$3="firebase",version$4="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */firebase.registerVersion(name$3,version$4,"app-compat");function __rest(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}typeof SuppressedError=="function"&&SuppressedError;const ProviderId={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ActionCodeOperation={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _debugErrorMap(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const debugErrorMap=_debugErrorMap,prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(n,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${n}`,...e)}function _logError(n,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(n,...e){throw createErrorInternal(n,...e)}function _createError(n,...e){return createErrorInternal(n,...e)}function _errorWithCustomMessage(n,e,t){const i=Object.assign(Object.assign({},prodErrorMap()),{[e]:t});return new ErrorFactory("auth","Firebase",i).create(e,{appName:n.name})}function _serverAppCurrentUserOperationNotSupportedError(n){return _errorWithCustomMessage(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&_fail(n,"argument-error"),_errorWithCustomMessage(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return _DEFAULT_AUTH_ERROR_FACTORY.create(n,...e)}function _assert$4(n,e,...t){if(!n)throw createErrorInternal(e,...t)}function debugFail(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _logError(e),new Error(e)}function debugAssert(n,e){n||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _isHttpOrHttps$1(){return _getCurrentScheme$1()==="http:"||_getCurrentScheme$1()==="https:"}function _getCurrentScheme$1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps$1()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,debugAssert(t>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(n,e){debugAssert(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function _performApiRequest(n,e,t,i,o={}){return _performFetchWithErrorHandling(n,o,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const c=querystring(Object.assign({key:n.config.apiKey},l)).slice(1),w=await n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);const er=Object.assign({method:e,headers:w},s);return isCloudflareWorker()||(er.referrerPolicy="no-referrer"),n.emulatorConfig&&isCloudWorkstation(n.emulatorConfig.host)&&(er.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(n,n.config.apiHost,t,c),er)})}async function _performFetchWithErrorHandling(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const o=new NetworkTimeout(n),s=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw _makeTaggedError(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[w,er]=c.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(n,"credential-already-in-use",l);if(w==="EMAIL_EXISTS")throw _makeTaggedError(n,"email-already-in-use",l);if(w==="USER_DISABLED")throw _makeTaggedError(n,"user-disabled",l);const nr=i[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(er)throw _errorWithCustomMessage(n,nr,er);_fail(n,nr)}}catch(o){if(o instanceof FirebaseError)throw o;_fail(n,"network-request-failed",{message:String(o)})}}async function _performSignInRequest(n,e,t,i,o={}){const s=await _performApiRequest(n,e,t,i,o);return"mfaPendingCredential"in s&&_fail(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function _getFinalTarget(n,e,t,i){const o=`${e}${t}?${i}`,s=n,l=s.config.emulator?_emulatorUrl(n.config,o):`${n.config.apiScheme}://${o}`;return CookieAuthProxiedEndpoints.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function _parseEnforcementState(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=_createError(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isV2(n){return n!==void 0&&n.getResponse!==void 0}function isEnterprise(n){return n!==void 0&&n.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _parseEnforcementState(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getRecaptchaParams(n){return(await _performApiRequest(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function getRecaptchaConfig(n,e){return _performApiRequest(n,"GET","/v2/recaptchaConfig",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(n,e){return _performApiRequest(n,"POST","/v1/accounts:delete",e)}async function deleteLinkedAccounts(n,e){return _performApiRequest(n,"POST","/v1/accounts:update",e)}async function getAccountInfo(n,e){return _performApiRequest(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(n,e=!1){const t=getModularInstance(n),i=await t.getIdToken(e),o=_parseToken(i);_assert$4(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:utcTimestampToDateString(secondsStringToMilliseconds(o.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(o.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(o.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function secondsStringToMilliseconds(n){return Number(n)*1e3}function _parseToken(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(t);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _tokenExpiresIn(n){const e=_parseToken(n);return _assert$4(e,"internal-error"),_assert$4(typeof e.exp<"u","internal-error"),_assert$4(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof FirebaseError&&isUserInvalidated(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function isUserInvalidated({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(n){var e;const t=n.auth,i=await n.getIdToken(),o=await _logoutIfInvalidated(n,getAccountInfo(t,{idToken:i}));_assert$4(o==null?void 0:o.users.length,t,"internal-error");const s=o.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(s.providerUserInfo):[],c=mergeProviderData(n.providerData,l),w=n.isAnonymous,er=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),nr=w?er:!1,rr={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:nr};Object.assign(n,rr)}async function reload(n){const e=getModularInstance(n);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function extractProviderData(n){return n.map(e=>{var{providerId:t}=e,i=__rest(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(n,e){const t=await _performFetchWithErrorHandling(n,{},async()=>{const i=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=n.config,l=await _getFinalTarget(n,o,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function revokeToken(n,e){return _performApiRequest(n,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert$4(e.idToken,"internal-error"),_assert$4(typeof e.idToken<"u","internal-error"),_assert$4(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_assert$4(e.length!==0,"internal-error");const t=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_assert$4(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:s}=await requestStsToken(e,t);this.updateTokensAndExpiration(i,o,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:s}=t,l=new StsTokenManager;return i&&(_assert$4(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),o&&(_assert$4(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),s&&(_assert$4(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(n,e){_assert$4(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,s=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UserMetadata(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert$4(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert$4(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_assert$4(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,s,l,c,w,er,nr;const rr=(i=t.displayName)!==null&&i!==void 0?i:void 0,or=(o=t.email)!==null&&o!==void 0?o:void 0,sr=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,dr=(l=t.photoURL)!==null&&l!==void 0?l:void 0,hr=(c=t.tenantId)!==null&&c!==void 0?c:void 0,gr=(w=t._redirectEventId)!==null&&w!==void 0?w:void 0,mr=(er=t.createdAt)!==null&&er!==void 0?er:void 0,vr=(nr=t.lastLoginAt)!==null&&nr!==void 0?nr:void 0,{uid:Sr,emailVerified:Ar,isAnonymous:Mr,providerData:Fr,stsTokenManager:Tr}=t;_assert$4(Sr&&Tr,e,"internal-error");const Er=StsTokenManager.fromJSON(this.name,Tr);_assert$4(typeof Sr=="string",e,"internal-error"),assertStringOrUndefined(rr,e.name),assertStringOrUndefined(or,e.name),_assert$4(typeof Ar=="boolean",e,"internal-error"),_assert$4(typeof Mr=="boolean",e,"internal-error"),assertStringOrUndefined(sr,e.name),assertStringOrUndefined(dr,e.name),assertStringOrUndefined(hr,e.name),assertStringOrUndefined(gr,e.name),assertStringOrUndefined(mr,e.name),assertStringOrUndefined(vr,e.name);const Rr=new UserImpl({uid:Sr,auth:e,email:or,emailVerified:Ar,displayName:rr,isAnonymous:Mr,photoURL:dr,phoneNumber:sr,tenantId:hr,stsTokenManager:Er,createdAt:mr,lastLoginAt:vr});return Fr&&Array.isArray(Fr)&&(Rr.providerData=Fr.map(wr=>Object.assign({},wr))),gr&&(Rr._redirectEventId=gr),Rr}static async _fromIdTokenResponse(e,t,i=!1){const o=new StsTokenManager;o.updateFromServerResponse(t);const s=new UserImpl({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await _reloadWithoutSaving(s),s}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_assert$4(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?extractProviderData(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!(s!=null&&s.length),c=new StsTokenManager;c.updateFromIdToken(i);const w=new UserImpl({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:l}),er={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(s!=null&&s.length)};return Object.assign(w,er),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(n){debugAssert(n instanceof Function,"Expected a class definition");let e=instanceCache.get(n);return e?(debugAssert(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,instanceCache.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(n,e,t){return`firebase:${n}:${e}:${t}`}class PersistenceUserManager{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:s}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,o.apiKey,s),this.fullPersistenceKey=_persistenceKeyName("persistence",o.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await getAccountInfo(this.auth,{idToken:e}).catch(()=>{});return t?UserImpl._fromGetAccountInfoResponse(this.auth,t,e):null}return UserImpl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,i);const o=(await Promise.all(t.map(async er=>{if(await er._isAvailable())return er}))).filter(er=>er);let s=o[0]||_getInstance(inMemoryPersistence);const l=_persistenceKeyName(i,e.config.apiKey,e.name);let c=null;for(const er of t)try{const nr=await er._get(l);if(nr){let rr;if(typeof nr=="string"){const or=await getAccountInfo(e,{idToken:nr}).catch(()=>{});if(!or)break;rr=await UserImpl._fromGetAccountInfoResponse(e,or,nr)}else rr=UserImpl._fromJSON(e,nr);er!==s&&(c=rr),s=er;break}}catch{}const w=o.filter(er=>er._shouldAllowMigration);return!s._shouldAllowMigration||!w.length?new PersistenceUserManager(s,e,i):(s=w[0],c&&await s._set(l,c.toJSON()),await Promise.all(t.map(async er=>{if(er!==s)try{await er._remove(l)}catch{}})),new PersistenceUserManager(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _isFirefox(n=getUA()){return/firefox\//i.test(n)}function _isSafari(n=getUA()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(n=getUA()){return/crios\//i.test(n)}function _isIEMobile(n=getUA()){return/iemobile/i.test(n)}function _isAndroid(n=getUA()){return/android/i.test(n)}function _isBlackBerry(n=getUA()){return/blackberry/i.test(n)}function _isWebOS(n=getUA()){return/webos/i.test(n)}function _isIOS(n=getUA()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _isIOS7Or8(n=getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function _isIOSStandalone(n=getUA()){var e;return _isIOS(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(n=getUA()){return _isIOS(n)||_isAndroid(n)||_isWebOS(n)||_isBlackBerry(n)||/windows phone/i.test(n)||_isIEMobile(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(n,e=[]){let t;switch(n){case"Browser":t=_getBrowserName(getUA());break;case"Worker":t=`${_getBrowserName(getUA())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${SDK_VERSION}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,c)=>{try{const w=e(s);l(w)}catch(w){c(w)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(n,e={}){return _performApiRequest(n,"GET","/v2/passwordPolicy",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var t,i,o,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:MINIMUM_MIN_PASSWORD_LENGTH,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,s,l,c;const w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,w),this.validatePasswordCharacterOptions(e,w),w.isValid&&(w.isValid=(t=w.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),w.isValid&&(w.isValid=(i=w.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),w.isValid&&(w.isValid=(o=w.containsLowercaseLetter)!==null&&o!==void 0?o:!0),w.isValid&&(w.isValid=(s=w.containsUppercaseLetter)!==null&&s!==void 0?s:!0),w.isValid&&(w.isValid=(l=w.containsNumericCharacter)!==null&&l!==void 0?l:!0),w.isValid&&(w.isValid=(c=w.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),w}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_getInstance(t)),this._initializationPromise=this.queue(async()=>{var i,o,s;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await getAccountInfo(this,{idToken:e}),i=await UserImpl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_isFirebaseServerApp(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=o==null?void 0:o._redirectEventId,w=await this.tryRedirectSignIn(e);(!l||l===c)&&(w!=null&&w.user)&&(o=w.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _assert$4(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const t=e?getModularInstance(e):null;return t&&_assert$4(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_assert$4(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),t=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await revokeToken(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_getInstance(e)||this._popupRedirectResolver;_assert$4(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert$4(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const w=e.addObserver(t,i,o);return()=>{l=!0,w()}}else{const w=e.addObserver(t);return()=>{l=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert$4(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_logWarn(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _castAuth(n){return getModularInstance(n)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(t=>this.observer=t)}get next(){return _assert$4(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(n){externalJSProvider=n}function _loadJS(n){return externalJSProvider.loadJS(n)}function _recaptchaV2ScriptUrl(){return externalJSProvider.recaptchaV2Script}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _SOLVE_TIME_MS=500,_EXPIRATION_TIME_MS=6e4,_WIDGET_ID_START=1e12;class MockReCaptcha{constructor(e){this.auth=e,this.counter=_WIDGET_ID_START,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new MockWidget(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||_WIDGET_ID_START;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||_WIDGET_ID_START;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const i=e||_WIDGET_ID_START;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""}}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MockGreCAPTCHA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MockWidget{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;_assert$4(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=generateRandomAlphaNumericString(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},_EXPIRATION_TIME_MS)},_SOLVE_TIME_MS))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function generateRandomAlphaNumericString(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{getRecaptchaConfig(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(w=>{if(w.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const er=new RecaptchaConfig(w);return s.tenantId==null?s._agentRecaptchaConfig=er:s._tenantRecaptchaConfigs[s.tenantId]=er,l(er.siteKey)}}).catch(w=>{c(w)})})}function o(s,l,c){const w=window.grecaptcha;isEnterprise(w)?w.enterprise.ready(()=>{w.enterprise.execute(s,{action:e}).then(er=>{l(er)}).catch(()=>{l(FAKE_TOKEN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{i(this.auth).then(c=>{if(!t&&isEnterprise(window.grecaptcha))o(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let w=_recaptchaEnterpriseScriptUrl();w.length!==0&&(w+=c),_loadJS(w).then(()=>{o(c,s,l)}).catch(er=>{l(er)})}}).catch(c=>{l(c)})})}}async function injectRecaptchaFields(n,e,t,i=!1,o=!1){const s=new RecaptchaEnterpriseVerifier(n);let l;if(o)l=FAKE_TOKEN;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const w=c.phoneEnrollmentInfo.phoneNumber,er=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:er,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const w=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:w,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function handleRecaptchaFlow(n,e,t,i,o){var s,l;if(o==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await injectRecaptchaFields(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const w=await injectRecaptchaFields(n,e,t,t==="getOobCode");return i(n,w)}else return Promise.reject(c)});else if(o==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await injectRecaptchaFields(n,e,t);return i(n,c).catch(async w=>{var er;if(((er=n._getRecaptchaConfig())===null||er===void 0?void 0:er.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(w.code==="auth/missing-recaptcha-token"||w.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const nr=await injectRecaptchaFields(n,e,t,!1,!0);return i(n,nr)}return Promise.reject(w)})}else{const c=await injectRecaptchaFields(n,e,t,!1,!0);return i(n,c)}else return Promise.reject(o+" provider is not supported.")}async function _initializeRecaptchaConfig(n){const e=_castAuth(n),t=await getRecaptchaConfig(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new RecaptchaConfig(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new RecaptchaEnterpriseVerifier(e).verify()}function _initializeAuthInstance(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(_getInstance);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(n,e,t){const i=_castAuth(n);_assert$4(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!!(t!=null&&t.disableWarnings),s=extractProtocol(e),{host:l,port:c}=extractHostAndPort(e),w=c===null?"":`:${c}`,er={url:`${s}//${l}${w}/`},nr=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){_assert$4(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_assert$4(deepEqual(er,i.config.emulator)&&deepEqual(nr,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=er,i.emulatorConfig=nr,i.settings.appVerificationDisabledForTesting=!0,o||emitEmulatorWarning(),isCloudWorkstation(l)&&pingServer(`${s}//${l}${w}`)}function extractProtocol(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function extractHostAndPort(n){const e=extractProtocol(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const s=o[1];return{host:s,port:parsePort(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:parsePort(l)}}}function parsePort(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function emitEmulatorWarning(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,t){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function resetPassword(n,e){return _performApiRequest(n,"POST","/v1/accounts:resetPassword",_addTidIfNecessary(n,e))}async function updateEmailPassword(n,e){return _performApiRequest(n,"POST","/v1/accounts:update",e)}async function linkEmailPassword(n,e){return _performApiRequest(n,"POST","/v1/accounts:signUp",e)}async function applyActionCode$1(n,e){return _performApiRequest(n,"POST","/v1/accounts:update",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(n,e))}async function sendOobCode(n,e){return _performApiRequest(n,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(n,e))}async function sendEmailVerification$1(n,e){return sendOobCode(n,e)}async function sendPasswordResetEmail$1(n,e){return sendOobCode(n,e)}async function sendSignInLinkToEmail$1(n,e){return sendOobCode(n,e)}async function verifyAndChangeEmail(n,e){return sendOobCode(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(n,e))}async function signInWithEmailLinkForLinking(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new EmailAuthCredential(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new EmailAuthCredential(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,t,"signInWithPassword",signInWithPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,i,"signUpPassword",linkEmailPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:t,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_fail("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,s=__rest(t,["providerId","signInMethod"]);if(!i||!o)return null;const l=new OAuthCredential(i,o);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return signInWithIdp(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,signInWithIdp(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=querystring(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPhoneVerificationCode(n,e){return _performApiRequest(n,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(n,e))}async function signInWithPhoneNumber$1(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(n,e))}async function linkWithPhoneNumber$1(n,e){const t=await _performSignInRequest(n,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(n,e));if(t.temporaryProof)throw _makeTaggedError(n,"account-exists-with-different-credential",t);return t}const VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_={USER_NOT_FOUND:"user-not-found"};async function verifyPhoneNumberForExisting(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _performSignInRequest(n,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(n,t),VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthCredential extends AuthCredential{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new PhoneAuthCredential({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new PhoneAuthCredential({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return signInWithPhoneNumber$1(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return linkWithPhoneNumber$1(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return verifyPhoneNumberForExisting(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:s}=e;return!i&&!t&&!o&&!s?null:new PhoneAuthCredential({verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(n){const e=querystringDecode(extractQuerystring(n)).link,t=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,i=querystringDecode(extractQuerystring(n)).deep_link_id;return(i?querystringDecode(extractQuerystring(i)).link:null)||i||t||e||n}class ActionCodeURL{constructor(e){var t,i,o,s,l,c;const w=querystringDecode(extractQuerystring(e)),er=(t=w.apiKey)!==null&&t!==void 0?t:null,nr=(i=w.oobCode)!==null&&i!==void 0?i:null,rr=parseMode((o=w.mode)!==null&&o!==void 0?o:null);_assert$4(er&&nr&&rr,"argument-error"),this.apiKey=er,this.operation=rr,this.code=nr,this.continueUrl=(s=w.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=w.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=w.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=parseDeepLink(e);try{return new ActionCodeURL(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,t){return EmailAuthCredential._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ActionCodeURL.parseLink(t);return _assert$4(i,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,i.code,i.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class OAuthProvider extends BaseOAuthProvider{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return _assert$4("providerId"in t&&"signInMethod"in t,"argument-error"),OAuthCredential._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _assert$4(e.idToken||e.accessToken,"argument-error"),OAuthCredential._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return OAuthProvider.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return OAuthProvider.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:l,providerId:c}=e;if(!i&&!o&&!t&&!s||!c)return null;try{return new OAuthProvider(c)._credential({idToken:t,accessToken:i,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return GoogleAuthProvider.credential(t,i)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI="http://localhost";class SAMLAuthCredential extends AuthCredential{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return signInWithIdp(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,signInWithIdp(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,pendingToken:s}=t;return!i||!o||!s||i!==o?null:new SAMLAuthCredential(i,s)}static _create(e,t){return new SAMLAuthCredential(e,t)}buildRequest(){return{requestUri:IDP_REQUEST_URI,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAML_PROVIDER_PREFIX="saml.";class SAMLAuthProvider extends FederatedAuthProvider{constructor(e){_assert$4(e.startsWith(SAML_PROVIDER_PREFIX),"argument-error"),super(e)}static credentialFromResult(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=SAMLAuthCredential.fromJSON(e);return _assert$4(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return SAMLAuthCredential._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return TwitterAuthProvider.credential(t,i)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signUp",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const s=await UserImpl._fromIdTokenResponse(e,i,o),l=providerIdForResponse(i);return new UserCredentialImpl({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=providerIdForResponse(i);return new UserCredentialImpl({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function providerIdForResponse(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInAnonymously(n){var e;if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const t=_castAuth(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new UserCredentialImpl({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await signUp(t,{returnSecureToken:!0}),o=await UserCredentialImpl._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,t,i,o){var s;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new MultiFactorError(e,t,i,o)}}function _processCredentialSavingMfaContextIfNecessary(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(n,s,e,i):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function providerDataAsNames(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function unlink(n,e){const t=getModularInstance(n);await _assertLinkedStatus(!0,t,e);const{providerUserInfo:i}=await deleteLinkedAccounts(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),o=providerDataAsNames(i||[]);return t.providerData=t.providerData.filter(s=>o.has(s.providerId)),o.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function _link$1(n,e,t=!1){const i=await _logoutIfInvalidated(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return UserCredentialImpl._forOperation(n,"link",i)}async function _assertLinkedStatus(n,e,t){await _reloadWithoutSaving(e);const i=providerDataAsNames(e.providerData),o=n===!1?"provider-already-linked":"no-such-provider";_assert$4(i.has(t)===n,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(n,e,t=!1){const{auth:i}=n;if(_isFirebaseServerApp(i.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(i));const o="reauthenticate";try{const s=await _logoutIfInvalidated(n,_processCredentialSavingMfaContextIfNecessary(i,o,e,n),t);_assert$4(s.idToken,i,"internal-error");const l=_parseToken(s.idToken);_assert$4(l,i,"internal-error");const{sub:c}=l;return _assert$4(n.uid===c,i,"user-mismatch"),UserCredentialImpl._forOperation(n,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_fail(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(n,e,t=!1){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i="signIn",o=await _processCredentialSavingMfaContextIfNecessary(n,i,e),s=await UserCredentialImpl._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(s.user),s}async function signInWithCredential(n,e){return _signInWithCredential(_castAuth(n),e)}async function linkWithCredential(n,e){const t=getModularInstance(n);return await _assertLinkedStatus(!1,t,e.providerId),_link$1(t,e)}async function reauthenticateWithCredential(n,e){return _reauthenticate(getModularInstance(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken$1(n,e){return _performSignInRequest(n,"POST","/v1/accounts:signInWithCustomToken",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken(n,e){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const t=_castAuth(n),i=await signInWithCustomToken$1(t,{token:e,returnSecureToken:!0}),o=await UserCredentialImpl._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorInfoImpl{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?PhoneMultiFactorInfoImpl._fromServerResponse(e,t):"totpInfo"in t?TotpMultiFactorInfoImpl._fromServerResponse(e,t):_fail(e,"internal-error")}}class PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new PhoneMultiFactorInfoImpl(t)}}class TotpMultiFactorInfoImpl extends MultiFactorInfoImpl{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new TotpMultiFactorInfoImpl(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(n,e,t){var i;_assert$4(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),_assert$4(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),_assert$4(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(_assert$4(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(_assert$4(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(n){const e=_castAuth(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sendPasswordResetEmail(n,e,t){const i=_castAuth(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&_setActionCodeSettingsOnRequest(i,o,t),await handleRecaptchaFlow(i,o,"getOobCode",sendPasswordResetEmail$1,"EMAIL_PASSWORD_PROVIDER")}async function confirmPasswordReset(n,e,t){await resetPassword(getModularInstance(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(n),i})}async function applyActionCode(n,e){await applyActionCode$1(getModularInstance(n),{oobCode:e})}async function checkActionCode(n,e){const t=getModularInstance(n),i=await resetPassword(t,{oobCode:e}),o=i.requestType;switch(_assert$4(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_assert$4(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_assert$4(i.mfaInfo,t,"internal-error");default:_assert$4(i.email,t,"internal-error")}let s=null;return i.mfaInfo&&(s=MultiFactorInfoImpl._fromServerResponse(_castAuth(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o}}async function verifyPasswordResetCode(n,e){const{data:t}=await checkActionCode(getModularInstance(n),e);return t.email}async function createUserWithEmailAndPassword(n,e,t){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i=_castAuth(n),l=await handleRecaptchaFlow(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp,"EMAIL_PASSWORD_PROVIDER").catch(w=>{throw w.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(n),w}),c=await UserCredentialImpl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function signInWithEmailAndPassword(n,e,t){return _isFirebaseServerApp(n.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n)):signInWithCredential(getModularInstance(n),EmailAuthProvider.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendSignInLinkToEmail(n,e,t){const i=_castAuth(n),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,c){_assert$4(c.handleCodeInApp,i,"argument-error"),c&&_setActionCodeSettingsOnRequest(i,l,c)}s(o,t),await handleRecaptchaFlow(i,o,"getOobCode",sendSignInLinkToEmail$1,"EMAIL_PASSWORD_PROVIDER")}function isSignInWithEmailLink(n,e){const t=ActionCodeURL.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function signInWithEmailLink(n,e,t){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i=getModularInstance(n),o=EmailAuthProvider.credentialWithLink(e,t||_getCurrentUrl());return _assert$4(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),signInWithCredential(i,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(n,e){return _performApiRequest(n,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(n,e){const t=_isHttpOrHttps$1()?_getCurrentUrl():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:o}=await createAuthUri(getModularInstance(n),i);return o||[]}async function sendEmailVerification(n,e){const t=getModularInstance(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&_setActionCodeSettingsOnRequest(t.auth,o,e);const{email:s}=await sendEmailVerification$1(t.auth,o);s!==n.email&&await n.reload()}async function verifyBeforeUpdateEmail(n,e,t){const i=getModularInstance(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&_setActionCodeSettingsOnRequest(i.auth,s,t);const{email:l}=await verifyAndChangeEmail(i.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(n,e){return _performApiRequest(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=getModularInstance(n),s={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await _logoutIfInvalidated(i,updateProfile$1(i.auth,s));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:w})=>w==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function updateEmail(n,e){const t=getModularInstance(n);return _isFirebaseServerApp(t.auth.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t.auth)):updateEmailOrPassword(t,e,null)}function updatePassword(n,e){return updateEmailOrPassword(getModularInstance(n),null,e)}async function updateEmailOrPassword(n,e,t){const{auth:i}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await _logoutIfInvalidated(n,updateEmailPassword(i,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fromIdTokenResponse(n){var e,t;if(!n)return null;const{providerId:i}=n,o=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(n!=null&&n.idToken)){const l=(t=(e=_parseToken(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new GenericAdditionalUserInfo(s,c)}}if(!i)return null;switch(i){case"facebook.com":return new FacebookAdditionalUserInfo(s,o);case"github.com":return new GithubAdditionalUserInfo(s,o);case"google.com":return new GoogleAdditionalUserInfo(s,o);case"twitter.com":return new TwitterAdditionalUserInfo(s,o,n.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(s,null);default:return new GenericAdditionalUserInfo(s,i,o)}}class GenericAdditionalUserInfo{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(e,t,i,o){super(e,t,i),this.username=o}}class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,t){super(e,"facebook.com",t)}}class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,t){super(e,"google.com",t)}}class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,t,i){super(e,"twitter.com",t,i)}}function getAdditionalUserInfo(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:_fromIdTokenResponse(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorSessionImpl{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new MultiFactorSessionImpl("enroll",e,t)}static _fromMfaPendingCredential(e){return new MultiFactorSessionImpl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return MultiFactorSessionImpl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return MultiFactorSessionImpl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorResolverImpl{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=_castAuth(e),o=t.customData._serverResponse,s=(o.mfaInfo||[]).map(c=>MultiFactorInfoImpl._fromServerResponse(i,c));_assert$4(o.mfaPendingCredential,i,"internal-error");const l=MultiFactorSessionImpl._fromMfaPendingCredential(o.mfaPendingCredential);return new MultiFactorResolverImpl(l,s,async c=>{const w=await c._process(i,l);delete o.mfaInfo,delete o.mfaPendingCredential;const er=Object.assign(Object.assign({},o),{idToken:w.idToken,refreshToken:w.refreshToken});switch(t.operationType){case"signIn":const nr=await UserCredentialImpl._fromIdTokenResponse(i,t.operationType,er);return await i._updateCurrentUser(nr.user),nr;case"reauthenticate":return _assert$4(t.user,i,"internal-error"),UserCredentialImpl._forOperation(t.user,t.operationType,er);default:_fail(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function getMultiFactorResolver(n,e){var t;const i=getModularInstance(n),o=e;return _assert$4(e.customData.operationType,i,"argument-error"),_assert$4((t=o.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,i,"argument-error"),MultiFactorResolverImpl._fromError(i,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startEnrollPhoneMfa(n,e){return _performApiRequest(n,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(n,e))}function finalizeEnrollPhoneMfa(n,e){return _performApiRequest(n,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary(n,e))}function withdrawMfa(n,e){return _performApiRequest(n,"POST","/v2/accounts/mfaEnrollment:withdraw",_addTidIfNecessary(n,e))}class MultiFactorUserImpl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>MultiFactorInfoImpl._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new MultiFactorUserImpl(e)}async getSession(){return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,o=await this.getSession(),s=await _logoutIfInvalidated(this.user,i._process(this.user.auth,o,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const o=await _logoutIfInvalidated(this.user,withdrawMfa(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const multiFactorUserCache=new WeakMap;function multiFactor(n){const e=getModularInstance(n);return multiFactorUserCache.has(e)||multiFactorUserCache.set(e,MultiFactorUserImpl._fromUser(e)),multiFactorUserCache.get(e)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,w)=>{this.notifyListeners(l,w)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);_isIE10()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IE10_LOCAL_STORAGE_SYNC_DELAY):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Receiver(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:s}=t.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const c=Array.from(l).map(async er=>er(t.origin,s)),w=await _allSettled(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:w})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,l;return new Promise((c,w)=>{const er=_generateEventId("",20);o.port1.start();const nr=setTimeout(()=>{w(new Error("unsupported_event"))},i);l={messageChannel:o,onMessage(rr){const or=rr;if(or.data.eventId===er)switch(or.data.status){case"ack":clearTimeout(nr),s=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(or.data.response);break;default:clearTimeout(nr),clearTimeout(s),w(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:er,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(n){_window().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker$1(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _getWorkerGlobalScope(){return _isWorker$1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function getObjectStore(n,e){return n.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const n=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(n).toPromise()}function _openDatabase(){const n=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(i):(i.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(n,e,t){const i=getObjectStore(n,!0).put({[DB_DATA_KEYPATH]:e,value:t});return new DBPromise(i).toPromise()}async function getObject(n,e){const t=getObjectStore(n,!1).get(e),i=await new DBPromise(t).toPromise();return i===void 0?null:i.value}function _deleteObject(n,e){const t=getObjectStore(n,!0).delete(e);return new DBPromise(t).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_TRANSACTION_RETRY_COUNT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker$1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_putObject(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>getObject(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_deleteObject(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=getObjectStore(o,!1).getAll();return new DBPromise(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:s}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startSignInPhoneMfa(n,e){return _performApiRequest(n,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(n,e))}function finalizeSignInPhoneMfa(n,e){return _performApiRequest(n,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _JSLOAD_CALLBACK=_generateCallbackName("rcb"),NETWORK_TIMEOUT_DELAY=new Delay(3e4,6e4);class ReCaptchaLoaderImpl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_window().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return _assert$4(isHostLanguageValid(t),e,"argument-error"),this.shouldResolveImmediately(t)&&isV2(_window().grecaptcha)?Promise.resolve(_window().grecaptcha):new Promise((i,o)=>{const s=_window().setTimeout(()=>{o(_createError(e,"network-request-failed"))},NETWORK_TIMEOUT_DELAY.get());_window()[_JSLOAD_CALLBACK]=()=>{_window().clearTimeout(s),delete _window()[_JSLOAD_CALLBACK];const c=_window().grecaptcha;if(!c||!isV2(c)){o(_createError(e,"internal-error"));return}const w=c.render;c.render=(er,nr)=>{const rr=w(er,nr);return this.counter++,rr},this.hostLanguage=t,i(c)};const l=`${_recaptchaV2ScriptUrl()}?${querystring({onload:_JSLOAD_CALLBACK,render:"explicit",hl:t})}`;_loadJS(l).catch(()=>{clearTimeout(s),o(_createError(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=_window().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function isHostLanguageValid(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class MockReCaptchaLoaderImpl{async load(e){return new MockReCaptcha(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECAPTCHA_VERIFIER_TYPE="recaptcha",DEFAULT_PARAMS={theme:"light",type:"image"};let RecaptchaVerifier$1=class{constructor(e,t,i=Object.assign({},DEFAULT_PARAMS)){this.parameters=i,this.type=RECAPTCHA_VERIFIER_TYPE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_castAuth(e),this.isInvisible=this.parameters.size==="invisible",_assert$4(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;_assert$4(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MockReCaptchaLoaderImpl:new ReCaptchaLoaderImpl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(o=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),o(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_assert$4(!this.parameters.sitekey,this.auth,"argument-error"),_assert$4(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_assert$4(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=_window()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){_assert$4(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_assert$4(_isHttpOrHttps$1()&&!_isWorker$1(),this.auth,"internal-error"),await domReady(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await getRecaptchaParams(this.auth);_assert$4(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _assert$4(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function domReady(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ConfirmationResultImpl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=PhoneAuthCredential._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function signInWithPhoneNumber(n,e,t){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i=_castAuth(n),o=await _verifyPhoneNumber(i,e,getModularInstance(t));return new ConfirmationResultImpl(o,s=>signInWithCredential(i,s))}async function linkWithPhoneNumber(n,e,t){const i=getModularInstance(n);await _assertLinkedStatus(!1,i,"phone");const o=await _verifyPhoneNumber(i.auth,e,getModularInstance(t));return new ConfirmationResultImpl(o,s=>linkWithCredential(i,s))}async function reauthenticateWithPhoneNumber(n,e,t){const i=getModularInstance(n);if(_isFirebaseServerApp(i.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(i.auth));const o=await _verifyPhoneNumber(i.auth,e,getModularInstance(t));return new ConfirmationResultImpl(o,s=>reauthenticateWithCredential(i,s))}async function _verifyPhoneNumber(n,e,t){var i;if(!n._getRecaptchaConfig())try{await _initializeRecaptchaConfig(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o){_assert$4(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await handleRecaptchaFlow(n,l,"mfaSmsEnrollment",async(nr,rr)=>{if(rr.phoneEnrollmentInfo.captchaResponse===FAKE_TOKEN){_assert$4((t==null?void 0:t.type)===RECAPTCHA_VERIFIER_TYPE,nr,"argument-error");const or=await injectRecaptchaV2Token(nr,rr,t);return startEnrollPhoneMfa(nr,or)}return startEnrollPhoneMfa(nr,rr)},"PHONE_PROVIDER").catch(nr=>Promise.reject(nr))).phoneSessionInfo.sessionInfo}else{_assert$4(s.type==="signin",n,"internal-error");const l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;_assert$4(l,n,"missing-multi-factor-info");const c={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await handleRecaptchaFlow(n,c,"mfaSmsSignIn",async(rr,or)=>{if(or.phoneSignInInfo.captchaResponse===FAKE_TOKEN){_assert$4((t==null?void 0:t.type)===RECAPTCHA_VERIFIER_TYPE,rr,"argument-error");const sr=await injectRecaptchaV2Token(rr,or,t);return startSignInPhoneMfa(rr,sr)}return startSignInPhoneMfa(rr,or)},"PHONE_PROVIDER").catch(rr=>Promise.reject(rr))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await handleRecaptchaFlow(n,s,"sendVerificationCode",async(er,nr)=>{if(nr.captchaResponse===FAKE_TOKEN){_assert$4((t==null?void 0:t.type)===RECAPTCHA_VERIFIER_TYPE,er,"argument-error");const rr=await injectRecaptchaV2Token(er,nr,t);return sendPhoneVerificationCode(er,rr)}return sendPhoneVerificationCode(er,nr)},"PHONE_PROVIDER").catch(er=>Promise.reject(er))).sessionInfo}}finally{t==null||t._reset()}}async function updatePhoneNumber(n,e){const t=getModularInstance(n);if(_isFirebaseServerApp(t.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t.auth));await _link$1(t,e)}async function injectRecaptchaV2Token(n,e,t){_assert$4(t.type===RECAPTCHA_VERIFIER_TYPE,n,"argument-error");const i=await t.verify();_assert$4(typeof i=="string",n,"argument-error");const o=Object.assign({},e);if("phoneEnrollmentInfo"in o){const s=o.phoneEnrollmentInfo.phoneNumber,l=o.phoneEnrollmentInfo.captchaResponse,c=o.phoneEnrollmentInfo.clientType,w=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i,captchaResponse:l,clientType:c,recaptchaVersion:w}}),o}else if("phoneSignInInfo"in o){const s=o.phoneSignInInfo.captchaResponse,l=o.phoneSignInInfo.clientType,c=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:s,clientType:l,recaptchaVersion:c}}),o}else return Object.assign(o,{recaptchaToken:i}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PhoneAuthProvider$1=class Wc{constructor(e){this.providerId=Wc.PROVIDER_ID,this.auth=_castAuth(e)}verifyPhoneNumber(e,t){return _verifyPhoneNumber(this.auth,e,getModularInstance(t))}static credential(e,t){return PhoneAuthCredential._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wc.credentialFromTaggedObject(t)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?PhoneAuthCredential._fromTokenResponse(t,i):null}};PhoneAuthProvider$1.PROVIDER_ID="phone";PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(n,e){return e?_getInstance(e):(_assert$4(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return signInWithIdp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _signIn(n){return _signInWithCredential(n.auth,new IdpCredential(n),n.bypassAuthState)}function _reauth(n){const{auth:e,user:t}=n;return _assert$4(t,e,"internal-error"),_reauthenticate(t,new IdpCredential(n),n.bypassAuthState)}async function _link(n){const{auth:e,user:t}=n;return _assert$4(t,e,"internal-error"),_link$1(t,new IdpCredential(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,t,i,o,s=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const w={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(w))}catch(er){this.reject(er)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(n,e,t){if(_isFirebaseServerApp(n.app))return Promise.reject(_createError(n,"operation-not-supported-in-this-environment"));const i=_castAuth(n);_assertInstanceOf(n,e,FederatedAuthProvider);const o=_withDefaultResolver(i,t);return new PopupOperation(i,"signInViaPopup",e,o).executeNotNull()}async function reauthenticateWithPopup(n,e,t){const i=getModularInstance(n);if(_isFirebaseServerApp(i.auth.app))return Promise.reject(_createError(i.auth,"operation-not-supported-in-this-environment"));_assertInstanceOf(i.auth,e,FederatedAuthProvider);const o=_withDefaultResolver(i.auth,t);return new PopupOperation(i.auth,"reauthViaPopup",e,o,i).executeNotNull()}async function linkWithPopup(n,e,t){const i=getModularInstance(n);_assertInstanceOf(i.auth,e,FederatedAuthProvider);const o=_withDefaultResolver(i.auth,t);return new PopupOperation(i.auth,"linkViaPopup",e,o,i).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,i,o,s){super(e,t,o,s),this.provider=i,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert$4(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const i=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(n,e){const t=pendingRedirectKey(e),i=resolverPersistence(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}async function _setPendingRedirectStatus(n,e){return resolverPersistence(n)._set(pendingRedirectKey(e),"true")}function _clearRedirectOutcomes(){redirectOutcomeMap.clear()}function _overrideRedirectResult(n,e){redirectOutcomeMap.set(n._key(),e)}function resolverPersistence(n){return _getInstance(n._redirectPersistence)}function pendingRedirectKey(n){return _persistenceKeyName(PENDING_REDIRECT_KEY,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function signInWithRedirect(n,e,t){return _signInWithRedirect(n,e,t)}async function _signInWithRedirect(n,e,t){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i=_castAuth(n);_assertInstanceOf(n,e,FederatedAuthProvider),await i._initializationPromise;const o=_withDefaultResolver(i,t);return await _setPendingRedirectStatus(o,i),o._openRedirect(i,e,"signInViaRedirect")}function reauthenticateWithRedirect(n,e,t){return _reauthenticateWithRedirect(n,e,t)}async function _reauthenticateWithRedirect(n,e,t){const i=getModularInstance(n);if(_assertInstanceOf(i.auth,e,FederatedAuthProvider),_isFirebaseServerApp(i.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(i.auth));await i.auth._initializationPromise;const o=_withDefaultResolver(i.auth,t);await _setPendingRedirectStatus(o,i.auth);const s=await prepareUserForRedirect(i);return o._openRedirect(i.auth,e,"reauthViaRedirect",s)}function linkWithRedirect(n,e,t){return _linkWithRedirect(n,e,t)}async function _linkWithRedirect(n,e,t){const i=getModularInstance(n);_assertInstanceOf(i.auth,e,FederatedAuthProvider),await i.auth._initializationPromise;const o=_withDefaultResolver(i.auth,t);await _assertLinkedStatus(!1,i,e.providerId),await _setPendingRedirectStatus(o,i.auth);const s=await prepareUserForRedirect(i);return o._openRedirect(i.auth,e,"linkViaRedirect",s)}async function getRedirectResult(n,e){return await _castAuth(n)._initializationPromise,_getRedirectResult(n,e,!1)}async function _getRedirectResult(n,e,t=!1){if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i=_castAuth(n),o=_withDefaultResolver(i,e),l=await new RedirectAction(i,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function prepareUserForRedirect(n){const e=_generateEventId(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!isNullRedirectEvent(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(_createError(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(n,e={}){return _performApiRequest(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin$1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(n);for(const t of e)try{if(matchDomain(t))return}catch{}_fail(n,"unauthorized-domain")}function matchDomain(n){const e=_getCurrentUrl(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!HTTP_REGEX.test(t))return!1;if(IP_ADDRESS_REGEX.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const n=_window().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function loadGapi(n){return new Promise((e,t)=>{var i,o,s;function l(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),t(_createError(n,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((o=(i=_window().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=_window().gapi)===null||s===void 0)&&s.load)l();else{const c=_generateCallbackName("iframefcb");return _window()[c]=()=>{gapi.load?l():t(_createError(n,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${c}`).catch(w=>t(w))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(n){return cachedGApiLoader=cachedGApiLoader||loadGapi(n),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(n){const e=n.config;_assert$4(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${n.config.authDomain}/${IFRAME_PATH}`,i={apiKey:e.apiKey,appName:n.name,v:SDK_VERSION},o=EID_FROM_APIHOST.get(n.config.apiHost);o&&(i.eid=o);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${querystring(i).slice(1)}`}async function _openIframe(n){const e=await _loadGapi(n),t=_window().gapi;return _assert$4(t,n,"internal-error"),e.open({where:document.body,url:getIframeUrl(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},i=>new Promise(async(o,s)=>{await i.restyle({setHideOnLeave:!1});const l=_createError(n,"network-request-failed"),c=_window().setTimeout(()=>{s(l)},PING_TIMEOUT.get());function w(){_window().clearTimeout(c),o(i)}i.ping(w).then(w,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(n,e,t,i=DEFAULT_WIDTH,o=DEFAULT_HEIGHT){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const w=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:i.toString(),height:o.toString(),top:s,left:l}),er=getUA().toLowerCase();t&&(c=_isChromeIOS(er)?TARGET_BLANK:t),_isFirefox(er)&&(e=e||FIREFOX_EMPTY_URL,w.scrollbars="yes");const nr=Object.entries(w).reduce((or,[sr,dr])=>`${or}${sr}=${dr},`,"");if(_isIOSStandalone(er)&&c!=="_self")return openAsNewWindowIOS(e||"",c),new AuthPopup(null);const rr=window.open(e||"",c,nr);_assert$4(rr,n,"popup-blocked");try{rr.focus()}catch{}return new AuthPopup(rr)}function openAsNewWindowIOS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(n,e,t,i,o,s){_assert$4(n.config.authDomain,n,"auth-domain-config-required"),_assert$4(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:SDK_VERSION,eventId:o};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[nr,rr]of Object.entries(s||{}))l[nr]=rr}if(e instanceof BaseOAuthProvider){const nr=e.getScopes().filter(rr=>rr!=="");nr.length>0&&(l.scopes=nr.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const nr of Object.keys(c))c[nr]===void 0&&delete c[nr];const w=await n._getAppCheckToken(),er=w?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(w)}`:"";return`${getHandlerBase(n)}?${querystring(c).slice(1)}${er}`}function getHandlerBase({config:n}){return n.emulator?_emulatorUrl(n,EMULATOR_WIDGET_PATH):`https://${n.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,t,i,o){var s;debugAssert((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await _getRedirectUrl(e,t,i,_getCurrentUrl(),o);return _open(e,l,_generateEventId())}async _openRedirect(e,t,i,o){await this._originValidation(e);const s=await _getRedirectUrl(e,t,i,_getCurrentUrl(),o);return _setWindowLocation(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:s}=this.eventManagers[t];return o?Promise.resolve(o):(debugAssert(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _openIframe(e),i=new AuthEventManager(e);return t.register("authEvent",o=>(_assert$4(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},o=>{var s;const l=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[WEB_STORAGE_SUPPORT_KEY];l!==void 0&&t(!!l),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin$1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;class MultiFactorAssertionImpl{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return debugFail("unexpected MultiFactorSessionType")}}}class PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PhoneMultiFactorAssertionImpl(e)}_finalizeEnroll(e,t,i){return finalizeEnrollPhoneMfa(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return finalizeSignInPhoneMfa(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PhoneMultiFactorGenerator{constructor(){}static assertion(e){return PhoneMultiFactorAssertionImpl._fromCredential(e)}}PhoneMultiFactorGenerator.FACTOR_ID="phone";var name$2="@firebase/auth",version$3="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert$4(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(n){_registerComponent(new Component("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;_assert$4(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const w={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(n)},er=new AuthImpl(i,o,s,w);return _initializeAuthInstance(er,t),er},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const t=_castAuth(e.getProvider("auth").getImmediate());return(i=>new AuthInterop(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$3,getVersionForPlatform(n)),registerVersion(name$2,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60;getExperimentalSetting("authIdTokenMaxAge");function getScriptParentElement(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const s=_createError("internal-error");s.customData=o,t(s)},i.type="text/javascript",i.charset="UTF-8",getScriptParentElement().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _cordovaWindow(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REDIRECT_TIMEOUT_MS=2e3;async function _generateHandlerUrl(n,e,t){var i;const{BuildInfo:o}=_cordovaWindow();debugAssert(e.sessionId,"AuthEvent did not contain a session ID");const s=await computeSha256(e.sessionId),l={};return _isIOS()?l.ibi=o.packageName:_isAndroid()?l.apn=o.packageName:_fail(n,"operation-not-supported-in-this-environment"),o.displayName&&(l.appDisplayName=o.displayName),l.sessionId=s,_getRedirectUrl(n,t,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function _validateOrigin(n){const{BuildInfo:e}=_cordovaWindow(),t={};_isIOS()?t.iosBundleId=e.packageName:_isAndroid()?t.androidPackageName=e.packageName:_fail(n,"operation-not-supported-in-this-environment"),await _getProjectConfig(n,t)}function _performRedirect(n){const{cordova:e}=_cordovaWindow();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let o=null;i?e.plugins.browsertab.openUrl(n):o=e.InAppBrowser.open(n,_isIOS7Or8()?"_blank":"_system","location=yes"),t(o)})})}async function _waitForAppResume(n,e,t){const{cordova:i}=_cordovaWindow();let o=()=>{};try{await new Promise((s,l)=>{let c=null;function w(){var rr;s();const or=(rr=i.plugins.browsertab)===null||rr===void 0?void 0:rr.close;typeof or=="function"&&or(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function er(){c||(c=window.setTimeout(()=>{l(_createError(n,"redirect-cancelled-by-user"))},REDIRECT_TIMEOUT_MS))}function nr(){(document==null?void 0:document.visibilityState)==="visible"&&er()}e.addPassiveListener(w),document.addEventListener("resume",er,!1),_isAndroid()&&document.addEventListener("visibilitychange",nr,!1),o=()=>{e.removePassiveListener(w),document.removeEventListener("resume",er,!1),document.removeEventListener("visibilitychange",nr,!1),c&&window.clearTimeout(c)}})}finally{o()}}function _checkCordovaConfiguration(n){var e,t,i,o,s,l,c,w,er,nr;const rr=_cordovaWindow();_assert$4(typeof((e=rr==null?void 0:rr.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_assert$4(typeof((t=rr==null?void 0:rr.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_assert$4(typeof((s=(o=(i=rr==null?void 0:rr.cordova)===null||i===void 0?void 0:i.plugins)===null||o===void 0?void 0:o.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof((w=(c=(l=rr==null?void 0:rr.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||w===void 0?void 0:w.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof((nr=(er=rr==null?void 0:rr.cordova)===null||er===void 0?void 0:er.InAppBrowser)===null||nr===void 0?void 0:nr.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function computeSha256(n){const e=stringToArrayBuffer(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(o=>o.toString(16).padStart(2,"0")).join("")}function stringToArrayBuffer(n){if(debugAssert(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SESSION_ID_LENGTH=20;class CordovaAuthEventManager extends AuthEventManager{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function _generateNewEvent(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:generateSessionId(),postBody:null,tenantId:n.tenantId,error:_createError(n,"no-auth-event")}}function _savePartialEvent(n,e){return storage()._set(persistenceKey(n),e)}async function _getAndRemoveEvent(n){const e=await storage()._get(persistenceKey(n));return e&&await storage()._remove(persistenceKey(n)),e}function _eventFromPartialAndUrl(n,e){var t,i;const o=_getDeepLinkFromCallback(e);if(o.includes("/__/auth/callback")){const s=searchParamsOrEmpty(o),l=s.firebaseError?parseJsonOrNull(decodeURIComponent(s.firebaseError)):null,c=(i=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||i===void 0?void 0:i[1],w=c?_createError(c):null;return w?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:w,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:o,postBody:null}}return null}function generateSessionId(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<SESSION_ID_LENGTH;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function storage(){return _getInstance(browserLocalPersistence)}function persistenceKey(n){return _persistenceKeyName("authEvent",n.config.apiKey,n.name)}function parseJsonOrNull(n){try{return JSON.parse(n)}catch{return null}}function _getDeepLinkFromCallback(n){const e=searchParamsOrEmpty(n),t=e.link?decodeURIComponent(e.link):void 0,i=searchParamsOrEmpty(t).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return searchParamsOrEmpty(o).link||o||i||t||n}function searchParamsOrEmpty(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return querystringDecode(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INITIAL_EVENT_TIMEOUT_MS=500;class CordovaPopupRedirectResolver{constructor(){this._redirectPersistence=browserSessionPersistence,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(e){const t=e._key();let i=this.eventManagers.get(t);return i||(i=new CordovaAuthEventManager(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){_fail(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,o){_checkCordovaConfiguration(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),_clearRedirectOutcomes(),await this._originValidation(e);const l=_generateNewEvent(e,i,o);await _savePartialEvent(e,l);const c=await _generateHandlerUrl(e,l,t),w=await _performRedirect(c);return _waitForAppResume(e,s,w)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:o,BuildInfo:s}=_cordovaWindow(),l=setTimeout(async()=>{await _getAndRemoveEvent(e),t.onEvent(generateNoEvent())},INITIAL_EVENT_TIMEOUT_MS),c=async nr=>{clearTimeout(l);const rr=await _getAndRemoveEvent(e);let or=null;rr&&(nr!=null&&nr.url)&&(or=_eventFromPartialAndUrl(rr,nr.url)),t.onEvent(or||generateNoEvent())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const w=o,er=`${s.packageName.toLowerCase()}://`;_cordovaWindow().handleOpenURL=async nr=>{if(nr.toLowerCase().startsWith(er)&&c({url:nr}),typeof w=="function")try{w(nr)}catch(rr){console.error(rr)}}}}const cordovaPopupRedirectResolver=CordovaPopupRedirectResolver;function generateNoEvent(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_createError("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function addFrameworkForLogging(n,e){_castAuth(n)._logFramework(e)}var name$1="@firebase/auth-compat",version$2="0.5.22";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CORDOVA_ONDEVICEREADY_TIMEOUT_MS=1e3;function _getCurrentScheme(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _isAndroidOrIosCordovaScheme(n=getUA()){return!!((_getCurrentScheme()==="file:"||_getCurrentScheme()==="ionic:"||_getCurrentScheme()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function _isNativeEnvironment(){return isReactNative()||isNode()}function _isIe11(){return isIE()&&(document==null?void 0:document.documentMode)===11}function _isEdge(n=getUA()){return/Edge\/\d+/.test(n)}function _isLocalStorageNotSynchronized(n=getUA()){return _isIe11()||_isEdge(n)}function _isWebStorageSupported(){try{const n=self.localStorage,e=_generateEventId();if(n)return n.setItem(e,"1"),n.removeItem(e),_isLocalStorageNotSynchronized()?isIndexedDBAvailable():!0}catch{return _isWorker()&&isIndexedDBAvailable()}return!1}function _isWorker(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _isPopupRedirectSupported(){return(_isHttpOrHttps()||isBrowserExtension()||_isAndroidOrIosCordovaScheme())&&!_isNativeEnvironment()&&_isWebStorageSupported()&&!_isWorker()}function _isLikelyCordova(){return _isAndroidOrIosCordovaScheme()&&typeof document<"u"}async function _isCordova(){return _isLikelyCordova()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},CORDOVA_ONDEVICEREADY_TIMEOUT_MS);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function _getSelfWindow(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Persistence={LOCAL:"local",NONE:"none",SESSION:"session"},_assert$3=_assert$4,PERSISTENCE_KEY="persistence";function _validatePersistenceArgument(n,e){if(_assert$3(Object.values(Persistence).includes(e),n,"invalid-persistence-type"),isReactNative()){_assert$3(e!==Persistence.SESSION,n,"unsupported-persistence-type");return}if(isNode()){_assert$3(e===Persistence.NONE,n,"unsupported-persistence-type");return}if(_isWorker()){_assert$3(e===Persistence.NONE||e===Persistence.LOCAL&&isIndexedDBAvailable(),n,"unsupported-persistence-type");return}_assert$3(e===Persistence.NONE||_isWebStorageSupported(),n,"unsupported-persistence-type")}async function _savePersistenceForRedirect(n){await n._initializationPromise;const e=getSessionStorageIfAvailable(),t=_persistenceKeyName(PERSISTENCE_KEY,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function _getPersistencesFromRedirect(n,e){const t=getSessionStorageIfAvailable();if(!t)return[];const i=_persistenceKeyName(PERSISTENCE_KEY,n,e);switch(t.getItem(i)){case Persistence.NONE:return[inMemoryPersistence];case Persistence.LOCAL:return[indexedDBLocalPersistence,browserSessionPersistence];case Persistence.SESSION:return[browserSessionPersistence];default:return[]}}function getSessionStorageIfAvailable(){var n;try{return((n=_getSelfWindow())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$2=_assert$4;class CompatPopupRedirectResolver{constructor(){this.browserResolver=_getInstance(browserPopupRedirectResolver),this.cordovaResolver=_getInstance(cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,o)}async _openRedirect(e,t,i,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,o)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _isLikelyCordova()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _assert$2(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await _isCordova();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function unwrap(n){return n.unwrap()}function wrapped(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function credentialFromResponse(n){return credentialFromObject(n)}function attachExtraErrorFields(n,e){var t;const i=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const o=e;o.resolver=new MultiFactorResolver(n,getMultiFactorResolver(n,e))}else if(i){const o=credentialFromObject(e),s=e;o&&(s.credential=o,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function credentialFromObject(n){const{_tokenResponse:e}=n instanceof FirebaseError?n.customData:n;if(!e)return null;if(!(n instanceof FirebaseError)&&"temporaryProof"in e&&"phoneNumber"in e)return PhoneAuthProvider$1.credentialFromResult(n);const t=e.providerId;if(!t||t===ProviderId.PASSWORD)return null;let i;switch(t){case ProviderId.GOOGLE:i=GoogleAuthProvider;break;case ProviderId.FACEBOOK:i=FacebookAuthProvider;break;case ProviderId.GITHUB:i=GithubAuthProvider;break;case ProviderId.TWITTER:i=TwitterAuthProvider;break;default:const{oauthIdToken:o,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:c,nonce:w}=e;return!s&&!l&&!o&&!c?null:c?t.startsWith("saml.")?SAMLAuthCredential._create(t,c):OAuthCredential._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:o,accessToken:s}):new OAuthProvider(t).credential({idToken:o,accessToken:s,rawNonce:w})}return n instanceof FirebaseError?i.credentialFromError(n):i.credentialFromResult(n)}function convertCredential(n,e){return e.catch(t=>{throw t instanceof FirebaseError&&attachExtraErrorFields(n,t),t}).then(t=>{const i=t.operationType,o=t.user;return{operationType:i,credential:credentialFromResponse(t),additionalUserInfo:getAdditionalUserInfo(t),user:User$1.getOrCreate(o)}})}async function convertConfirmationResult(n,e){const t=await e;return{verificationId:t.verificationId,confirm:i=>convertCredential(n,t.confirm(i))}}class MultiFactorResolver{constructor(e,t){this.resolver=t,this.auth=wrapped(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return convertCredential(unwrap(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let User$1=class Yl{constructor(e){this._delegate=e,this.multiFactor=multiFactor(e)}static getOrCreate(e){return Yl.USER_MAP.has(e)||Yl.USER_MAP.set(e,new Yl(e)),Yl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return convertCredential(this.auth,linkWithCredential(this._delegate,e))}async linkWithPhoneNumber(e,t){return convertConfirmationResult(this.auth,linkWithPhoneNumber(this._delegate,e,t))}async linkWithPopup(e){return convertCredential(this.auth,linkWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async linkWithRedirect(e){return await _savePersistenceForRedirect(_castAuth(this.auth)),linkWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return convertCredential(this.auth,reauthenticateWithCredential(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return convertConfirmationResult(this.auth,reauthenticateWithPhoneNumber(this._delegate,e,t))}reauthenticateWithPopup(e){return convertCredential(this.auth,reauthenticateWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async reauthenticateWithRedirect(e){return await _savePersistenceForRedirect(_castAuth(this.auth)),reauthenticateWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}sendEmailVerification(e){return sendEmailVerification(this._delegate,e)}async unlink(e){return await unlink(this._delegate,e),this}updateEmail(e){return updateEmail(this._delegate,e)}updatePassword(e){return updatePassword(this._delegate,e)}updatePhoneNumber(e){return updatePhoneNumber(this._delegate,e)}updateProfile(e){return updateProfile(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return verifyBeforeUpdateEmail(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};User$1.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$1=_assert$4;class Auth{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;_assert$1(i,"invalid-api-key",{appName:e.name}),_assert$1(i,"invalid-api-key",{appName:e.name});const o=typeof window<"u"?CompatPopupRedirectResolver:void 0;this._delegate=t.initialize({options:{persistence:buildPersistenceHierarchy(i,e.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(debugErrorMap),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?User$1.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){connectAuthEmulator(this._delegate,e,t)}applyActionCode(e){return applyActionCode(this._delegate,e)}checkActionCode(e){return checkActionCode(this._delegate,e)}confirmPasswordReset(e,t){return confirmPasswordReset(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return convertCredential(this._delegate,createUserWithEmailAndPassword(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return fetchSignInMethodsForEmail(this._delegate,e)}isSignInWithEmailLink(e){return isSignInWithEmailLink(this._delegate,e)}async getRedirectResult(){_assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment");const e=await getRedirectResult(this._delegate,CompatPopupRedirectResolver);return e?convertCredential(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){addFrameworkForLogging(this._delegate,e)}onAuthStateChanged(e,t,i){const{next:o,error:s,complete:l}=wrapObservers(e,t,i);return this._delegate.onAuthStateChanged(o,s,l)}onIdTokenChanged(e,t,i){const{next:o,error:s,complete:l}=wrapObservers(e,t,i);return this._delegate.onIdTokenChanged(o,s,l)}sendSignInLinkToEmail(e,t){return sendSignInLinkToEmail(this._delegate,e,t)}sendPasswordResetEmail(e,t){return sendPasswordResetEmail(this._delegate,e,t||void 0)}async setPersistence(e){_validatePersistenceArgument(this._delegate,e);let t;switch(e){case Persistence.SESSION:t=browserSessionPersistence;break;case Persistence.LOCAL:t=await _getInstance(indexedDBLocalPersistence)._isAvailable()?indexedDBLocalPersistence:browserLocalPersistence;break;case Persistence.NONE:t=inMemoryPersistence;break;default:return _fail("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return convertCredential(this._delegate,signInAnonymously(this._delegate))}signInWithCredential(e){return convertCredential(this._delegate,signInWithCredential(this._delegate,e))}signInWithCustomToken(e){return convertCredential(this._delegate,signInWithCustomToken(this._delegate,e))}signInWithEmailAndPassword(e,t){return convertCredential(this._delegate,signInWithEmailAndPassword(this._delegate,e,t))}signInWithEmailLink(e,t){return convertCredential(this._delegate,signInWithEmailLink(this._delegate,e,t))}signInWithPhoneNumber(e,t){return convertConfirmationResult(this._delegate,signInWithPhoneNumber(this._delegate,e,t))}async signInWithPopup(e){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),convertCredential(this._delegate,signInWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async signInWithRedirect(e){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),await _savePersistenceForRedirect(this._delegate),signInWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return verifyPasswordResetCode(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Auth.Persistence=Persistence;function wrapObservers(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);const o=i;return{next:l=>o(l&&User$1.getOrCreate(l)),error:e,complete:t}}function buildPersistenceHierarchy(n,e){const t=_getPersistencesFromRedirect(n,e);if(typeof self<"u"&&!t.includes(indexedDBLocalPersistence)&&t.push(indexedDBLocalPersistence),typeof window<"u")for(const i of[browserLocalPersistence,browserSessionPersistence])t.includes(i)||t.push(i);return t.includes(inMemoryPersistence)||t.push(inMemoryPersistence),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthProvider{static credential(e,t){return PhoneAuthProvider$1.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new PhoneAuthProvider$1(unwrap(firebase.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}PhoneAuthProvider.PHONE_SIGN_IN_METHOD=PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD;PhoneAuthProvider.PROVIDER_ID=PhoneAuthProvider$1.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert=_assert$4;class RecaptchaVerifier{constructor(e,t,i=firebase.app()){var o;_assert((o=i.options)===null||o===void 0?void 0:o.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new RecaptchaVerifier$1(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_TYPE="auth-compat";function registerAuthCompat(n){n.INTERNAL.registerComponent(new Component(AUTH_TYPE,e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Auth(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthProvider,SAMLAuthProvider,PhoneAuthProvider,PhoneMultiFactorGenerator,RecaptchaVerifier,TwitterAuthProvider,Auth,AuthCredential,Error:FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(name$1,version$2)}registerAuthCompat(firebase);var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Tr,Er){function Rr(){}Rr.prototype=Er.prototype,Tr.D=Er.prototype,Tr.prototype=new Rr,Tr.prototype.constructor=Tr,Tr.C=function(wr,Or,kr){for(var Cr=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)Cr[gn-2]=arguments[gn];return Er.prototype[Or].apply(wr,Cr)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(Tr,Er,Rr){Rr||(Rr=0);var wr=Array(16);if(typeof Er=="string")for(var Or=0;16>Or;++Or)wr[Or]=Er.charCodeAt(Rr++)|Er.charCodeAt(Rr++)<<8|Er.charCodeAt(Rr++)<<16|Er.charCodeAt(Rr++)<<24;else for(Or=0;16>Or;++Or)wr[Or]=Er[Rr++]|Er[Rr++]<<8|Er[Rr++]<<16|Er[Rr++]<<24;Er=Tr.g[0],Rr=Tr.g[1],Or=Tr.g[2];var kr=Tr.g[3],Cr=Er+(kr^Rr&(Or^kr))+wr[0]+3614090360&4294967295;Er=Rr+(Cr<<7&4294967295|Cr>>>25),Cr=kr+(Or^Er&(Rr^Or))+wr[1]+3905402710&4294967295,kr=Er+(Cr<<12&4294967295|Cr>>>20),Cr=Or+(Rr^kr&(Er^Rr))+wr[2]+606105819&4294967295,Or=kr+(Cr<<17&4294967295|Cr>>>15),Cr=Rr+(Er^Or&(kr^Er))+wr[3]+3250441966&4294967295,Rr=Or+(Cr<<22&4294967295|Cr>>>10),Cr=Er+(kr^Rr&(Or^kr))+wr[4]+4118548399&4294967295,Er=Rr+(Cr<<7&4294967295|Cr>>>25),Cr=kr+(Or^Er&(Rr^Or))+wr[5]+1200080426&4294967295,kr=Er+(Cr<<12&4294967295|Cr>>>20),Cr=Or+(Rr^kr&(Er^Rr))+wr[6]+2821735955&4294967295,Or=kr+(Cr<<17&4294967295|Cr>>>15),Cr=Rr+(Er^Or&(kr^Er))+wr[7]+4249261313&4294967295,Rr=Or+(Cr<<22&4294967295|Cr>>>10),Cr=Er+(kr^Rr&(Or^kr))+wr[8]+1770035416&4294967295,Er=Rr+(Cr<<7&4294967295|Cr>>>25),Cr=kr+(Or^Er&(Rr^Or))+wr[9]+2336552879&4294967295,kr=Er+(Cr<<12&4294967295|Cr>>>20),Cr=Or+(Rr^kr&(Er^Rr))+wr[10]+4294925233&4294967295,Or=kr+(Cr<<17&4294967295|Cr>>>15),Cr=Rr+(Er^Or&(kr^Er))+wr[11]+2304563134&4294967295,Rr=Or+(Cr<<22&4294967295|Cr>>>10),Cr=Er+(kr^Rr&(Or^kr))+wr[12]+1804603682&4294967295,Er=Rr+(Cr<<7&4294967295|Cr>>>25),Cr=kr+(Or^Er&(Rr^Or))+wr[13]+4254626195&4294967295,kr=Er+(Cr<<12&4294967295|Cr>>>20),Cr=Or+(Rr^kr&(Er^Rr))+wr[14]+2792965006&4294967295,Or=kr+(Cr<<17&4294967295|Cr>>>15),Cr=Rr+(Er^Or&(kr^Er))+wr[15]+1236535329&4294967295,Rr=Or+(Cr<<22&4294967295|Cr>>>10),Cr=Er+(Or^kr&(Rr^Or))+wr[1]+4129170786&4294967295,Er=Rr+(Cr<<5&4294967295|Cr>>>27),Cr=kr+(Rr^Or&(Er^Rr))+wr[6]+3225465664&4294967295,kr=Er+(Cr<<9&4294967295|Cr>>>23),Cr=Or+(Er^Rr&(kr^Er))+wr[11]+643717713&4294967295,Or=kr+(Cr<<14&4294967295|Cr>>>18),Cr=Rr+(kr^Er&(Or^kr))+wr[0]+3921069994&4294967295,Rr=Or+(Cr<<20&4294967295|Cr>>>12),Cr=Er+(Or^kr&(Rr^Or))+wr[5]+3593408605&4294967295,Er=Rr+(Cr<<5&4294967295|Cr>>>27),Cr=kr+(Rr^Or&(Er^Rr))+wr[10]+38016083&4294967295,kr=Er+(Cr<<9&4294967295|Cr>>>23),Cr=Or+(Er^Rr&(kr^Er))+wr[15]+3634488961&4294967295,Or=kr+(Cr<<14&4294967295|Cr>>>18),Cr=Rr+(kr^Er&(Or^kr))+wr[4]+3889429448&4294967295,Rr=Or+(Cr<<20&4294967295|Cr>>>12),Cr=Er+(Or^kr&(Rr^Or))+wr[9]+568446438&4294967295,Er=Rr+(Cr<<5&4294967295|Cr>>>27),Cr=kr+(Rr^Or&(Er^Rr))+wr[14]+3275163606&4294967295,kr=Er+(Cr<<9&4294967295|Cr>>>23),Cr=Or+(Er^Rr&(kr^Er))+wr[3]+4107603335&4294967295,Or=kr+(Cr<<14&4294967295|Cr>>>18),Cr=Rr+(kr^Er&(Or^kr))+wr[8]+1163531501&4294967295,Rr=Or+(Cr<<20&4294967295|Cr>>>12),Cr=Er+(Or^kr&(Rr^Or))+wr[13]+2850285829&4294967295,Er=Rr+(Cr<<5&4294967295|Cr>>>27),Cr=kr+(Rr^Or&(Er^Rr))+wr[2]+4243563512&4294967295,kr=Er+(Cr<<9&4294967295|Cr>>>23),Cr=Or+(Er^Rr&(kr^Er))+wr[7]+1735328473&4294967295,Or=kr+(Cr<<14&4294967295|Cr>>>18),Cr=Rr+(kr^Er&(Or^kr))+wr[12]+2368359562&4294967295,Rr=Or+(Cr<<20&4294967295|Cr>>>12),Cr=Er+(Rr^Or^kr)+wr[5]+4294588738&4294967295,Er=Rr+(Cr<<4&4294967295|Cr>>>28),Cr=kr+(Er^Rr^Or)+wr[8]+2272392833&4294967295,kr=Er+(Cr<<11&4294967295|Cr>>>21),Cr=Or+(kr^Er^Rr)+wr[11]+1839030562&4294967295,Or=kr+(Cr<<16&4294967295|Cr>>>16),Cr=Rr+(Or^kr^Er)+wr[14]+4259657740&4294967295,Rr=Or+(Cr<<23&4294967295|Cr>>>9),Cr=Er+(Rr^Or^kr)+wr[1]+2763975236&4294967295,Er=Rr+(Cr<<4&4294967295|Cr>>>28),Cr=kr+(Er^Rr^Or)+wr[4]+1272893353&4294967295,kr=Er+(Cr<<11&4294967295|Cr>>>21),Cr=Or+(kr^Er^Rr)+wr[7]+4139469664&4294967295,Or=kr+(Cr<<16&4294967295|Cr>>>16),Cr=Rr+(Or^kr^Er)+wr[10]+3200236656&4294967295,Rr=Or+(Cr<<23&4294967295|Cr>>>9),Cr=Er+(Rr^Or^kr)+wr[13]+681279174&4294967295,Er=Rr+(Cr<<4&4294967295|Cr>>>28),Cr=kr+(Er^Rr^Or)+wr[0]+3936430074&4294967295,kr=Er+(Cr<<11&4294967295|Cr>>>21),Cr=Or+(kr^Er^Rr)+wr[3]+3572445317&4294967295,Or=kr+(Cr<<16&4294967295|Cr>>>16),Cr=Rr+(Or^kr^Er)+wr[6]+76029189&4294967295,Rr=Or+(Cr<<23&4294967295|Cr>>>9),Cr=Er+(Rr^Or^kr)+wr[9]+3654602809&4294967295,Er=Rr+(Cr<<4&4294967295|Cr>>>28),Cr=kr+(Er^Rr^Or)+wr[12]+3873151461&4294967295,kr=Er+(Cr<<11&4294967295|Cr>>>21),Cr=Or+(kr^Er^Rr)+wr[15]+530742520&4294967295,Or=kr+(Cr<<16&4294967295|Cr>>>16),Cr=Rr+(Or^kr^Er)+wr[2]+3299628645&4294967295,Rr=Or+(Cr<<23&4294967295|Cr>>>9),Cr=Er+(Or^(Rr|~kr))+wr[0]+4096336452&4294967295,Er=Rr+(Cr<<6&4294967295|Cr>>>26),Cr=kr+(Rr^(Er|~Or))+wr[7]+1126891415&4294967295,kr=Er+(Cr<<10&4294967295|Cr>>>22),Cr=Or+(Er^(kr|~Rr))+wr[14]+2878612391&4294967295,Or=kr+(Cr<<15&4294967295|Cr>>>17),Cr=Rr+(kr^(Or|~Er))+wr[5]+4237533241&4294967295,Rr=Or+(Cr<<21&4294967295|Cr>>>11),Cr=Er+(Or^(Rr|~kr))+wr[12]+1700485571&4294967295,Er=Rr+(Cr<<6&4294967295|Cr>>>26),Cr=kr+(Rr^(Er|~Or))+wr[3]+2399980690&4294967295,kr=Er+(Cr<<10&4294967295|Cr>>>22),Cr=Or+(Er^(kr|~Rr))+wr[10]+4293915773&4294967295,Or=kr+(Cr<<15&4294967295|Cr>>>17),Cr=Rr+(kr^(Or|~Er))+wr[1]+2240044497&4294967295,Rr=Or+(Cr<<21&4294967295|Cr>>>11),Cr=Er+(Or^(Rr|~kr))+wr[8]+1873313359&4294967295,Er=Rr+(Cr<<6&4294967295|Cr>>>26),Cr=kr+(Rr^(Er|~Or))+wr[15]+4264355552&4294967295,kr=Er+(Cr<<10&4294967295|Cr>>>22),Cr=Or+(Er^(kr|~Rr))+wr[6]+2734768916&4294967295,Or=kr+(Cr<<15&4294967295|Cr>>>17),Cr=Rr+(kr^(Or|~Er))+wr[13]+1309151649&4294967295,Rr=Or+(Cr<<21&4294967295|Cr>>>11),Cr=Er+(Or^(Rr|~kr))+wr[4]+4149444226&4294967295,Er=Rr+(Cr<<6&4294967295|Cr>>>26),Cr=kr+(Rr^(Er|~Or))+wr[11]+3174756917&4294967295,kr=Er+(Cr<<10&4294967295|Cr>>>22),Cr=Or+(Er^(kr|~Rr))+wr[2]+718787259&4294967295,Or=kr+(Cr<<15&4294967295|Cr>>>17),Cr=Rr+(kr^(Or|~Er))+wr[9]+3951481745&4294967295,Tr.g[0]=Tr.g[0]+Er&4294967295,Tr.g[1]=Tr.g[1]+(Or+(Cr<<21&4294967295|Cr>>>11))&4294967295,Tr.g[2]=Tr.g[2]+Or&4294967295,Tr.g[3]=Tr.g[3]+kr&4294967295}i.prototype.u=function(Tr,Er){Er===void 0&&(Er=Tr.length);for(var Rr=Er-this.blockSize,wr=this.B,Or=this.h,kr=0;kr<Er;){if(Or==0)for(;kr<=Rr;)o(this,Tr,kr),kr+=this.blockSize;if(typeof Tr=="string"){for(;kr<Er;)if(wr[Or++]=Tr.charCodeAt(kr++),Or==this.blockSize){o(this,wr),Or=0;break}}else for(;kr<Er;)if(wr[Or++]=Tr[kr++],Or==this.blockSize){o(this,wr),Or=0;break}}this.h=Or,this.o+=Er},i.prototype.v=function(){var Tr=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Tr[0]=128;for(var Er=1;Er<Tr.length-8;++Er)Tr[Er]=0;var Rr=8*this.o;for(Er=Tr.length-8;Er<Tr.length;++Er)Tr[Er]=Rr&255,Rr/=256;for(this.u(Tr),Tr=Array(16),Er=Rr=0;4>Er;++Er)for(var wr=0;32>wr;wr+=8)Tr[Rr++]=this.g[Er]>>>wr&255;return Tr};function s(Tr,Er){var Rr=c;return Object.prototype.hasOwnProperty.call(Rr,Tr)?Rr[Tr]:Rr[Tr]=Er(Tr)}function l(Tr,Er){this.h=Er;for(var Rr=[],wr=!0,Or=Tr.length-1;0<=Or;Or--){var kr=Tr[Or]|0;wr&&kr==Er||(Rr[Or]=kr,wr=!1)}this.g=Rr}var c={};function w(Tr){return-128<=Tr&&128>Tr?s(Tr,function(Er){return new l([Er|0],0>Er?-1:0)}):new l([Tr|0],0>Tr?-1:0)}function er(Tr){if(isNaN(Tr)||!isFinite(Tr))return rr;if(0>Tr)return gr(er(-Tr));for(var Er=[],Rr=1,wr=0;Tr>=Rr;wr++)Er[wr]=Tr/Rr|0,Rr*=4294967296;return new l(Er,0)}function nr(Tr,Er){if(Tr.length==0)throw Error("number format error: empty string");if(Er=Er||10,2>Er||36<Er)throw Error("radix out of range: "+Er);if(Tr.charAt(0)=="-")return gr(nr(Tr.substring(1),Er));if(0<=Tr.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rr=er(Math.pow(Er,8)),wr=rr,Or=0;Or<Tr.length;Or+=8){var kr=Math.min(8,Tr.length-Or),Cr=parseInt(Tr.substring(Or,Or+kr),Er);8>kr?(kr=er(Math.pow(Er,kr)),wr=wr.j(kr).add(er(Cr))):(wr=wr.j(Rr),wr=wr.add(er(Cr)))}return wr}var rr=w(0),or=w(1),sr=w(16777216);n=l.prototype,n.m=function(){if(hr(this))return-gr(this).m();for(var Tr=0,Er=1,Rr=0;Rr<this.g.length;Rr++){var wr=this.i(Rr);Tr+=(0<=wr?wr:4294967296+wr)*Er,Er*=4294967296}return Tr},n.toString=function(Tr){if(Tr=Tr||10,2>Tr||36<Tr)throw Error("radix out of range: "+Tr);if(dr(this))return"0";if(hr(this))return"-"+gr(this).toString(Tr);for(var Er=er(Math.pow(Tr,6)),Rr=this,wr="";;){var Or=Ar(Rr,Er).g;Rr=mr(Rr,Or.j(Er));var kr=((0<Rr.g.length?Rr.g[0]:Rr.h)>>>0).toString(Tr);if(Rr=Or,dr(Rr))return kr+wr;for(;6>kr.length;)kr="0"+kr;wr=kr+wr}},n.i=function(Tr){return 0>Tr?0:Tr<this.g.length?this.g[Tr]:this.h};function dr(Tr){if(Tr.h!=0)return!1;for(var Er=0;Er<Tr.g.length;Er++)if(Tr.g[Er]!=0)return!1;return!0}function hr(Tr){return Tr.h==-1}n.l=function(Tr){return Tr=mr(this,Tr),hr(Tr)?-1:dr(Tr)?0:1};function gr(Tr){for(var Er=Tr.g.length,Rr=[],wr=0;wr<Er;wr++)Rr[wr]=~Tr.g[wr];return new l(Rr,~Tr.h).add(or)}n.abs=function(){return hr(this)?gr(this):this},n.add=function(Tr){for(var Er=Math.max(this.g.length,Tr.g.length),Rr=[],wr=0,Or=0;Or<=Er;Or++){var kr=wr+(this.i(Or)&65535)+(Tr.i(Or)&65535),Cr=(kr>>>16)+(this.i(Or)>>>16)+(Tr.i(Or)>>>16);wr=Cr>>>16,kr&=65535,Cr&=65535,Rr[Or]=Cr<<16|kr}return new l(Rr,Rr[Rr.length-1]&-2147483648?-1:0)};function mr(Tr,Er){return Tr.add(gr(Er))}n.j=function(Tr){if(dr(this)||dr(Tr))return rr;if(hr(this))return hr(Tr)?gr(this).j(gr(Tr)):gr(gr(this).j(Tr));if(hr(Tr))return gr(this.j(gr(Tr)));if(0>this.l(sr)&&0>Tr.l(sr))return er(this.m()*Tr.m());for(var Er=this.g.length+Tr.g.length,Rr=[],wr=0;wr<2*Er;wr++)Rr[wr]=0;for(wr=0;wr<this.g.length;wr++)for(var Or=0;Or<Tr.g.length;Or++){var kr=this.i(wr)>>>16,Cr=this.i(wr)&65535,gn=Tr.i(Or)>>>16,hn=Tr.i(Or)&65535;Rr[2*wr+2*Or]+=Cr*hn,vr(Rr,2*wr+2*Or),Rr[2*wr+2*Or+1]+=kr*hn,vr(Rr,2*wr+2*Or+1),Rr[2*wr+2*Or+1]+=Cr*gn,vr(Rr,2*wr+2*Or+1),Rr[2*wr+2*Or+2]+=kr*gn,vr(Rr,2*wr+2*Or+2)}for(wr=0;wr<Er;wr++)Rr[wr]=Rr[2*wr+1]<<16|Rr[2*wr];for(wr=Er;wr<2*Er;wr++)Rr[wr]=0;return new l(Rr,0)};function vr(Tr,Er){for(;(Tr[Er]&65535)!=Tr[Er];)Tr[Er+1]+=Tr[Er]>>>16,Tr[Er]&=65535,Er++}function Sr(Tr,Er){this.g=Tr,this.h=Er}function Ar(Tr,Er){if(dr(Er))throw Error("division by zero");if(dr(Tr))return new Sr(rr,rr);if(hr(Tr))return Er=Ar(gr(Tr),Er),new Sr(gr(Er.g),gr(Er.h));if(hr(Er))return Er=Ar(Tr,gr(Er)),new Sr(gr(Er.g),Er.h);if(30<Tr.g.length){if(hr(Tr)||hr(Er))throw Error("slowDivide_ only works with positive integers.");for(var Rr=or,wr=Er;0>=wr.l(Tr);)Rr=Mr(Rr),wr=Mr(wr);var Or=Fr(Rr,1),kr=Fr(wr,1);for(wr=Fr(wr,2),Rr=Fr(Rr,2);!dr(wr);){var Cr=kr.add(wr);0>=Cr.l(Tr)&&(Or=Or.add(Rr),kr=Cr),wr=Fr(wr,1),Rr=Fr(Rr,1)}return Er=mr(Tr,Or.j(Er)),new Sr(Or,Er)}for(Or=rr;0<=Tr.l(Er);){for(Rr=Math.max(1,Math.floor(Tr.m()/Er.m())),wr=Math.ceil(Math.log(Rr)/Math.LN2),wr=48>=wr?1:Math.pow(2,wr-48),kr=er(Rr),Cr=kr.j(Er);hr(Cr)||0<Cr.l(Tr);)Rr-=wr,kr=er(Rr),Cr=kr.j(Er);dr(kr)&&(kr=or),Or=Or.add(kr),Tr=mr(Tr,Cr)}return new Sr(Or,Tr)}n.A=function(Tr){return Ar(this,Tr).h},n.and=function(Tr){for(var Er=Math.max(this.g.length,Tr.g.length),Rr=[],wr=0;wr<Er;wr++)Rr[wr]=this.i(wr)&Tr.i(wr);return new l(Rr,this.h&Tr.h)},n.or=function(Tr){for(var Er=Math.max(this.g.length,Tr.g.length),Rr=[],wr=0;wr<Er;wr++)Rr[wr]=this.i(wr)|Tr.i(wr);return new l(Rr,this.h|Tr.h)},n.xor=function(Tr){for(var Er=Math.max(this.g.length,Tr.g.length),Rr=[],wr=0;wr<Er;wr++)Rr[wr]=this.i(wr)^Tr.i(wr);return new l(Rr,this.h^Tr.h)};function Mr(Tr){for(var Er=Tr.g.length+1,Rr=[],wr=0;wr<Er;wr++)Rr[wr]=Tr.i(wr)<<1|Tr.i(wr-1)>>>31;return new l(Rr,Tr.h)}function Fr(Tr,Er){var Rr=Er>>5;Er%=32;for(var wr=Tr.g.length-Rr,Or=[],kr=0;kr<wr;kr++)Or[kr]=0<Er?Tr.i(kr+Rr)>>>Er|Tr.i(kr+Rr+1)<<32-Er:Tr.i(kr+Rr);return new l(Or,Tr.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Md5=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=er,l.fromString=nr,Integer=l}).apply(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(tr,lr,ur){return tr==Array.prototype||tr==Object.prototype||(tr[lr]=ur.value),tr};function t(tr){tr=[typeof globalThis=="object"&&globalThis,tr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal$1=="object"&&commonjsGlobal$1];for(var lr=0;lr<tr.length;++lr){var ur=tr[lr];if(ur&&ur.Math==Math)return ur}throw Error("Cannot find global object")}var i=t(this);function o(tr,lr){if(lr)e:{var ur=i;tr=tr.split(".");for(var yr=0;yr<tr.length-1;yr++){var br=tr[yr];if(!(br in ur))break e;ur=ur[br]}tr=tr[tr.length-1],yr=ur[tr],lr=lr(yr),lr!=yr&&lr!=null&&e(ur,tr,{configurable:!0,writable:!0,value:lr})}}function s(tr,lr){tr instanceof String&&(tr+="");var ur=0,yr=!1,br={next:function(){if(!yr&&ur<tr.length){var Pr=ur++;return{value:lr(Pr,tr[Pr]),done:!1}}return yr=!0,{done:!0,value:void 0}}};return br[Symbol.iterator]=function(){return br},br}o("Array.prototype.values",function(tr){return tr||function(){return s(this,function(lr,ur){return ur})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function w(tr){var lr=typeof tr;return lr=lr!="object"?lr:tr?Array.isArray(tr)?"array":lr:"null",lr=="array"||lr=="object"&&typeof tr.length=="number"}function er(tr){var lr=typeof tr;return lr=="object"&&tr!=null||lr=="function"}function nr(tr,lr,ur){return tr.call.apply(tr.bind,arguments)}function rr(tr,lr,ur){if(!tr)throw Error();if(2<arguments.length){var yr=Array.prototype.slice.call(arguments,2);return function(){var br=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(br,yr),tr.apply(lr,br)}}return function(){return tr.apply(lr,arguments)}}function or(tr,lr,ur){return or=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nr:rr,or.apply(null,arguments)}function sr(tr,lr){var ur=Array.prototype.slice.call(arguments,1);return function(){var yr=ur.slice();return yr.push.apply(yr,arguments),tr.apply(this,yr)}}function dr(tr,lr){function ur(){}ur.prototype=lr.prototype,tr.aa=lr.prototype,tr.prototype=new ur,tr.prototype.constructor=tr,tr.Qb=function(yr,br,Pr){for(var Dr=Array(arguments.length-2),zr=2;zr<arguments.length;zr++)Dr[zr-2]=arguments[zr];return lr.prototype[br].apply(yr,Dr)}}function hr(tr){const lr=tr.length;if(0<lr){const ur=Array(lr);for(let yr=0;yr<lr;yr++)ur[yr]=tr[yr];return ur}return[]}function gr(tr,lr){for(let ur=1;ur<arguments.length;ur++){const yr=arguments[ur];if(w(yr)){const br=tr.length||0,Pr=yr.length||0;tr.length=br+Pr;for(let Dr=0;Dr<Pr;Dr++)tr[br+Dr]=yr[Dr]}else tr.push(yr)}}class mr{constructor(lr,ur){this.i=lr,this.j=ur,this.h=0,this.g=null}get(){let lr;return 0<this.h?(this.h--,lr=this.g,this.g=lr.next,lr.next=null):lr=this.i(),lr}}function vr(tr){return/^[\s\xa0]*$/.test(tr)}function Sr(){var tr=c.navigator;return tr&&(tr=tr.userAgent)?tr:""}function Ar(tr){return Ar[" "](tr),tr}Ar[" "]=function(){};var Mr=Sr().indexOf("Gecko")!=-1&&!(Sr().toLowerCase().indexOf("webkit")!=-1&&Sr().indexOf("Edge")==-1)&&!(Sr().indexOf("Trident")!=-1||Sr().indexOf("MSIE")!=-1)&&Sr().indexOf("Edge")==-1;function Fr(tr,lr,ur){for(const yr in tr)lr.call(ur,tr[yr],yr,tr)}function Tr(tr,lr){for(const ur in tr)lr.call(void 0,tr[ur],ur,tr)}function Er(tr){const lr={};for(const ur in tr)lr[ur]=tr[ur];return lr}const Rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wr(tr,lr){let ur,yr;for(let br=1;br<arguments.length;br++){yr=arguments[br];for(ur in yr)tr[ur]=yr[ur];for(let Pr=0;Pr<Rr.length;Pr++)ur=Rr[Pr],Object.prototype.hasOwnProperty.call(yr,ur)&&(tr[ur]=yr[ur])}}function Or(tr){var lr=1;tr=tr.split(":");const ur=[];for(;0<lr&&tr.length;)ur.push(tr.shift()),lr--;return tr.length&&ur.push(tr.join(":")),ur}function kr(tr){c.setTimeout(()=>{throw tr},0)}function Cr(){var tr=Jr;let lr=null;return tr.g&&(lr=tr.g,tr.g=tr.g.next,tr.g||(tr.h=null),lr.next=null),lr}class gn{constructor(){this.h=this.g=null}add(lr,ur){const yr=hn.get();yr.set(lr,ur),this.h?this.h.next=yr:this.g=yr,this.h=yr}}var hn=new mr(()=>new Xr,tr=>tr.reset());class Xr{constructor(){this.next=this.g=this.h=null}set(lr,ur){this.h=lr,this.g=ur,this.next=null}reset(){this.next=this.g=this.h=null}}let dn,Wr=!1,Jr=new gn,cn=()=>{const tr=c.Promise.resolve(void 0);dn=()=>{tr.then(Vr)}};var Vr=()=>{for(var tr;tr=Cr();){try{tr.h.call(tr.g)}catch(ur){kr(ur)}var lr=hn;lr.j(tr),100>lr.h&&(lr.h++,tr.next=lr.g,lr.g=tr)}Wr=!1};function Ur(){this.s=this.s,this.C=this.C}Ur.prototype.s=!1,Ur.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ur.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mn(tr,lr){this.type=tr,this.g=this.target=lr,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var Sn=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var tr=!1,lr=Object.defineProperty({},"passive",{get:function(){tr=!0}});try{const ur=()=>{};c.addEventListener("test",ur,lr),c.removeEventListener("test",ur,lr)}catch{}return tr}();function Pn(tr,lr){if(mn.call(this,tr?tr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,tr){var ur=this.type=tr.type,yr=tr.changedTouches&&tr.changedTouches.length?tr.changedTouches[0]:null;if(this.target=tr.target||tr.srcElement,this.g=lr,lr=tr.relatedTarget){if(Mr){e:{try{Ar(lr.nodeName);var br=!0;break e}catch{}br=!1}br||(lr=null)}}else ur=="mouseover"?lr=tr.fromElement:ur=="mouseout"&&(lr=tr.toElement);this.relatedTarget=lr,yr?(this.clientX=yr.clientX!==void 0?yr.clientX:yr.pageX,this.clientY=yr.clientY!==void 0?yr.clientY:yr.pageY,this.screenX=yr.screenX||0,this.screenY=yr.screenY||0):(this.clientX=tr.clientX!==void 0?tr.clientX:tr.pageX,this.clientY=tr.clientY!==void 0?tr.clientY:tr.pageY,this.screenX=tr.screenX||0,this.screenY=tr.screenY||0),this.button=tr.button,this.key=tr.key||"",this.ctrlKey=tr.ctrlKey,this.altKey=tr.altKey,this.shiftKey=tr.shiftKey,this.metaKey=tr.metaKey,this.pointerId=tr.pointerId||0,this.pointerType=typeof tr.pointerType=="string"?tr.pointerType:On[tr.pointerType]||"",this.state=tr.state,this.i=tr,tr.defaultPrevented&&Pn.aa.h.call(this)}}dr(Pn,mn);var On={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.aa.h.call(this);var tr=this.i;tr.preventDefault?tr.preventDefault():tr.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),Fn=0;function Gn(tr,lr,ur,yr,br){this.listener=tr,this.proxy=null,this.src=lr,this.type=ur,this.capture=!!yr,this.ha=br,this.key=++Fn,this.da=this.fa=!1}function ti(tr){tr.da=!0,tr.listener=null,tr.proxy=null,tr.src=null,tr.ha=null}function Li(tr){this.src=tr,this.g={},this.h=0}Li.prototype.add=function(tr,lr,ur,yr,br){var Pr=tr.toString();tr=this.g[Pr],tr||(tr=this.g[Pr]=[],this.h++);var Dr=Un(tr,lr,yr,br);return-1<Dr?(lr=tr[Dr],ur||(lr.fa=!1)):(lr=new Gn(lr,this.src,Pr,!!yr,br),lr.fa=ur,tr.push(lr)),lr};function qs(tr,lr){var ur=lr.type;if(ur in tr.g){var yr=tr.g[ur],br=Array.prototype.indexOf.call(yr,lr,void 0),Pr;(Pr=0<=br)&&Array.prototype.splice.call(yr,br,1),Pr&&(ti(lr),tr.g[ur].length==0&&(delete tr.g[ur],tr.h--))}}function Un(tr,lr,ur,yr){for(var br=0;br<tr.length;++br){var Pr=tr[br];if(!Pr.da&&Pr.listener==lr&&Pr.capture==!!ur&&Pr.ha==yr)return br}return-1}var Yn="closure_lm_"+(1e6*Math.random()|0),fs={};function Aa(tr,lr,ur,yr,br){if(Array.isArray(lr)){for(var Pr=0;Pr<lr.length;Pr++)Aa(tr,lr[Pr],ur,yr,br);return null}return ur=Qs(ur),tr&&tr[kn]?tr.K(lr,ur,er(yr)?!!yr.capture:!1,br):Ys(tr,lr,ur,!1,yr,br)}function Ys(tr,lr,ur,yr,br,Pr){if(!lr)throw Error("Invalid event type");var Dr=er(br)?!!br.capture:!!br,zr=ys(tr);if(zr||(tr[Yn]=zr=new Li(tr)),ur=zr.add(lr,ur,yr,Dr,Pr),ur.proxy)return ur;if(yr=Sa(),ur.proxy=yr,yr.src=tr,yr.listener=ur,tr.addEventListener)Sn||(br=Dr),br===void 0&&(br=!1),tr.addEventListener(lr.toString(),yr,br);else if(tr.attachEvent)tr.attachEvent(yo(lr.toString()),yr);else if(tr.addListener&&tr.removeListener)tr.addListener(yr);else throw Error("addEventListener and attachEvent are unavailable.");return ur}function Sa(){function tr(ur){return lr.call(tr.src,tr.listener,ur)}const lr=_s;return tr}function ms(tr,lr,ur,yr,br){if(Array.isArray(lr))for(var Pr=0;Pr<lr.length;Pr++)ms(tr,lr[Pr],ur,yr,br);else yr=er(yr)?!!yr.capture:!!yr,ur=Qs(ur),tr&&tr[kn]?(tr=tr.i,lr=String(lr).toString(),lr in tr.g&&(Pr=tr.g[lr],ur=Un(Pr,ur,yr,br),-1<ur&&(ti(Pr[ur]),Array.prototype.splice.call(Pr,ur,1),Pr.length==0&&(delete tr.g[lr],tr.h--)))):tr&&(tr=ys(tr))&&(lr=tr.g[lr.toString()],tr=-1,lr&&(tr=Un(lr,ur,yr,br)),(ur=-1<tr?lr[tr]:null)&&_o(ur))}function _o(tr){if(typeof tr!="number"&&tr&&!tr.da){var lr=tr.src;if(lr&&lr[kn])qs(lr.i,tr);else{var ur=tr.type,yr=tr.proxy;lr.removeEventListener?lr.removeEventListener(ur,yr,tr.capture):lr.detachEvent?lr.detachEvent(yo(ur),yr):lr.addListener&&lr.removeListener&&lr.removeListener(yr),(ur=ys(lr))?(qs(ur,tr),ur.h==0&&(ur.src=null,lr[Yn]=null)):ti(tr)}}}function yo(tr){return tr in fs?fs[tr]:fs[tr]="on"+tr}function _s(tr,lr){if(tr.da)tr=!0;else{lr=new Pn(lr,this);var ur=tr.listener,yr=tr.ha||tr.src;tr.fa&&_o(tr),tr=ur.call(yr,lr)}return tr}function ys(tr){return tr=tr[Yn],tr instanceof Li?tr:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(tr){return typeof tr=="function"?tr:(tr[Hi]||(tr[Hi]=function(lr){return tr.handleEvent(lr)}),tr[Hi])}function Kn(){Ur.call(this),this.i=new Li(this),this.M=this,this.F=null}dr(Kn,Ur),Kn.prototype[kn]=!0,Kn.prototype.removeEventListener=function(tr,lr,ur,yr){ms(this,tr,lr,ur,yr)};function Qn(tr,lr){var ur,yr=tr.F;if(yr)for(ur=[];yr;yr=yr.F)ur.push(yr);if(tr=tr.M,yr=lr.type||lr,typeof lr=="string")lr=new mn(lr,tr);else if(lr instanceof mn)lr.target=lr.target||tr;else{var br=lr;lr=new mn(yr,tr),wr(lr,br)}if(br=!0,ur)for(var Pr=ur.length-1;0<=Pr;Pr--){var Dr=lr.g=ur[Pr];br=ko(Dr,yr,!0,lr)&&br}if(Dr=lr.g=tr,br=ko(Dr,yr,!0,lr)&&br,br=ko(Dr,yr,!1,lr)&&br,ur)for(Pr=0;Pr<ur.length;Pr++)Dr=lr.g=ur[Pr],br=ko(Dr,yr,!1,lr)&&br}Kn.prototype.N=function(){if(Kn.aa.N.call(this),this.i){var tr=this.i,lr;for(lr in tr.g){for(var ur=tr.g[lr],yr=0;yr<ur.length;yr++)ti(ur[yr]);delete tr.g[lr],tr.h--}}this.F=null},Kn.prototype.K=function(tr,lr,ur,yr){return this.i.add(String(tr),lr,!1,ur,yr)},Kn.prototype.L=function(tr,lr,ur,yr){return this.i.add(String(tr),lr,!0,ur,yr)};function ko(tr,lr,ur,yr){if(lr=tr.i.g[String(lr)],!lr)return!0;lr=lr.concat();for(var br=!0,Pr=0;Pr<lr.length;++Pr){var Dr=lr[Pr];if(Dr&&!Dr.da&&Dr.capture==ur){var zr=Dr.listener,Kr=Dr.ha||Dr.src;Dr.fa&&qs(tr.i,Dr),br=zr.call(Kr,yr)!==!1&&br}}return br&&!yr.defaultPrevented}function Xs(tr,lr,ur){if(typeof tr=="function")ur&&(tr=or(tr,ur));else if(tr&&typeof tr.handleEvent=="function")tr=or(tr.handleEvent,tr);else throw Error("Invalid listener argument");return 2147483647<Number(lr)?-1:c.setTimeout(tr,lr||0)}function Qo(tr){tr.g=Xs(()=>{tr.g=null,tr.i&&(tr.i=!1,Qo(tr))},tr.l);const lr=tr.h;tr.h=null,tr.m.apply(null,lr)}class Xo extends Ur{constructor(lr,ur){super(),this.m=lr,this.l=ur,this.h=null,this.i=!1,this.g=null}j(lr){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(tr){Ur.call(this),this.h=tr,this.g={}}dr(Jo,Ur);var xo=[];function vs(tr){Fr(tr.g,function(lr,ur){this.g.hasOwnProperty(ur)&&_o(lr)},tr),tr.g={}}Jo.prototype.N=function(){Jo.aa.N.call(this),vs(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=c.JSON.stringify,Pa=c.JSON.parse,Zs=class{stringify(tr){return c.JSON.stringify(tr,void 0)}parse(tr){return c.JSON.parse(tr,void 0)}};function Do(){}Do.prototype.h=null;function $i(tr){return tr.h||(tr.h=tr.i())}function vo(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function io(){mn.call(this,"d")}dr(io,mn);function Zo(){mn.call(this,"c")}dr(Zo,mn);var oo={},so=null;function Lo(){return so=so||new Kn}oo.La="serverreachability";function ea(tr){mn.call(this,oo.La,tr)}dr(ea,mn);function Ki(tr){const lr=Lo();Qn(lr,new ea(lr))}oo.STAT_EVENT="statevent";function es(tr,lr){mn.call(this,oo.STAT_EVENT,tr),this.stat=lr}dr(es,mn);function Xn(tr){const lr=Lo();Qn(lr,new es(lr,tr))}oo.Ma="timingevent";function ao(tr,lr){mn.call(this,oo.Ma,tr),this.size=lr}dr(ao,mn);function lo(tr,lr){if(typeof tr!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){tr()},lr)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Vi(tr,lr,ur,yr,br,Pr){tr.info(function(){if(tr.g)if(Pr)for(var Dr="",zr=Pr.split("&"),Kr=0;Kr<zr.length;Kr++){var Zr=zr[Kr].split("=");if(1<Zr.length){var pn=Zr[0];Zr=Zr[1];var Yr=pn.split("_");Dr=2<=Yr.length&&Yr[1]=="type"?Dr+(pn+"="+Zr+"&"):Dr+(pn+"=redacted&")}}else Dr=null;else Dr=Pr;return"XMLHTTP REQ ("+yr+") [attempt "+br+"]: "+lr+`
`+ur+`
`+Dr})}function Es(tr,lr,ur,yr,br,Pr,Dr){tr.info(function(){return"XMLHTTP RESP ("+yr+") [ attempt "+br+"]: "+lr+`
`+ur+`
`+Pr+" "+Dr})}function xn(tr,lr,ur,yr){tr.info(function(){return"XMLHTTP TEXT ("+lr+"): "+wa(tr,ur)+(yr?" "+yr:"")})}function wi(tr,lr){tr.info(function(){return"TIMEOUT: "+lr})}Ei.prototype.info=function(){};function wa(tr,lr){if(!tr.g)return lr;if(!lr)return null;try{var ur=JSON.parse(lr);if(ur){for(tr=0;tr<ur.length;tr++)if(Array.isArray(ur[tr])){var yr=ur[tr];if(!(2>yr.length)){var br=yr[1];if(Array.isArray(br)&&!(1>br.length)){var Pr=br[0];if(Pr!="noop"&&Pr!="stop"&&Pr!="close")for(var Dr=1;Dr<br.length;Dr++)br[Dr]=""}}}}return Js(ur)}catch{return lr}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ni;function Eo(){}dr(Eo,Do),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},Ni=new Eo;function bi(tr,lr,ur,yr){this.j=tr,this.i=lr,this.l=ur,this.R=yr||1,this.U=new Jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oa}function Oa(){this.i=null,this.g="",this.h=!1}var Ts={},ts={};function Rs(tr,lr,ur){tr.L=1,tr.v=is(Oi(lr)),tr.m=ur,tr.P=!0,Ti(tr,null)}function Ti(tr,lr){tr.F=Date.now(),jn(tr),tr.A=Oi(tr.v);var ur=tr.A,yr=tr.R;Array.isArray(yr)||(yr=[String(yr)]),ss(ur.i,"t",yr),tr.C=0,ur=tr.j.J,tr.h=new Oa,tr.g=sl(tr.j,ur?lr:null,!tr.m),0<tr.O&&(tr.M=new Xo(or(tr.Y,tr,tr.g),tr.O)),lr=tr.U,ur=tr.g,yr=tr.ca;var br="readystatechange";Array.isArray(br)||(br&&(xo[0]=br.toString()),br=xo);for(var Pr=0;Pr<br.length;Pr++){var Dr=Aa(ur,br[Pr],yr||lr.handleEvent,!1,lr.h||lr);if(!Dr)break;lr.g[Dr.key]=Dr}lr=tr.H?Er(tr.H):{},tr.m?(tr.u||(tr.u="POST"),lr["Content-Type"]="application/x-www-form-urlencoded",tr.g.ea(tr.A,tr.u,tr.m,lr)):(tr.u="GET",tr.g.ea(tr.A,tr.u,null,lr)),Ki(),Vi(tr.i,tr.u,tr.A,tr.l,tr.R,tr.m)}bi.prototype.ca=function(tr){tr=tr.target;const lr=this.M;lr&&Mi(tr)==3?lr.j():this.Y(tr)},bi.prototype.Y=function(tr){try{if(tr==this.g)e:{const Yr=Mi(this.g);var lr=this.g.Ba();const bn=this.g.Z();if(!(3>Yr)&&(Yr!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||Yr!=4||lr==7||(lr==8||0>=bn?Ki(3):Ki(2)),rs(this);var ur=this.g.Z();this.X=ur;t:if(ji(this)){var yr=oa(this.g);tr="";var br=yr.length,Pr=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),co(this);var Dr="";break t}this.h.i=new c.TextDecoder}for(lr=0;lr<br;lr++)this.h.h=!0,tr+=this.h.i.decode(yr[lr],{stream:!(Pr&&lr==br-1)});yr.length=0,this.h.g+=tr,this.C=0,Dr=this.h.g}else Dr=this.g.oa();if(this.o=ur==200,Es(this.i,this.u,this.A,this.l,this.R,Yr,ur),this.o){if(this.T&&!this.K){t:{if(this.g){var zr,Kr=this.g;if((zr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(zr)){var Zr=zr;break t}}Zr=null}if(ur=Zr)xn(this.i,this.l,ur,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,ur);else{this.o=!1,this.s=3,Xn(12),Jn(this),co(this);break e}}if(this.P){ur=!0;let Rn;for(;!this.J&&this.C<Dr.length;)if(Rn=Is(this,Dr),Rn==ts){Yr==4&&(this.s=4,Xn(14),ur=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Ts){this.s=4,Xn(15),xn(this.i,this.l,Dr,"[Invalid Chunk]"),ur=!1;break}else xn(this.i,this.l,Rn,null),na(this,Rn);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yr!=4||Dr.length!=0||this.h.h||(this.s=1,Xn(16),ur=!1),this.o=this.o&&ur,!ur)xn(this.i,this.l,Dr,"[Invalid Chunked Response]"),Jn(this),co(this);else if(0<Dr.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Dr.length),aa(pn),pn.M=!0,Xn(11))}}else xn(this.i,this.l,Dr,null),na(this,Dr);Yr==4&&Jn(this),this.o&&!this.J&&(Yr==4?cs(this.j,this):(this.o=!1,jn(this)))}else Go(this.g),ur==400&&0<Dr.indexOf("Unknown SID")?(this.s=3,Xn(12)):(this.s=0,Xn(13)),Jn(this),co(this)}}}catch{}finally{}};function ji(tr){return tr.g?tr.u=="GET"&&tr.L!=2&&tr.j.Ca:!1}function Is(tr,lr){var ur=tr.C,yr=lr.indexOf(`
`,ur);return yr==-1?ts:(ur=Number(lr.substring(ur,yr)),isNaN(ur)?Ts:(yr+=1,yr+ur>lr.length?ts:(lr=lr.slice(yr,yr+ur),tr.C=yr+ur,lr)))}bi.prototype.cancel=function(){this.J=!0,Jn(this)};function jn(tr){tr.S=Date.now()+tr.I,ra(tr,tr.I)}function ra(tr,lr){if(tr.B!=null)throw Error("WatchDog timer not null");tr.B=lo(or(tr.ba,tr),lr)}function rs(tr){tr.B&&(c.clearTimeout(tr.B),tr.B=null)}bi.prototype.ba=function(){this.B=null;const tr=Date.now();0<=tr-this.S?(wi(this.i,this.A),this.L!=2&&(Ki(),Xn(17)),Jn(this),this.s=2,co(this)):ra(this,this.S-tr)};function co(tr){tr.j.G==0||tr.J||cs(tr.j,tr)}function Jn(tr){rs(tr);var lr=tr.M;lr&&typeof lr.ma=="function"&&lr.ma(),tr.M=null,vs(tr.U),tr.g&&(lr=tr.g,tr.g=null,lr.abort(),lr.ma())}function na(tr,lr){try{var ur=tr.j;if(ur.G!=0&&(ur.g==tr||hi(ur.h,tr))){if(!tr.K&&hi(ur.h,tr)&&ur.G==3){try{var yr=ur.Da.g.parse(lr)}catch{yr=null}if(Array.isArray(yr)&&yr.length==3){var br=yr;if(br[0]==0){e:if(!ur.u){if(ur.g)if(ur.g.F+3e3<tr.F)la(ur),Xi(ur);else break e;sa(ur),Xn(18)}}else ur.za=br[1],0<ur.za-ur.T&&37500>br[2]&&ur.F&&ur.v==0&&!ur.C&&(ur.C=lo(or(ur.Za,ur),6e3));if(1>=Qa(ur.h)&&ur.ca){try{ur.ca()}catch{}ur.ca=void 0}}else Uo(ur,11)}else if((tr.K||ur.g==tr)&&la(ur),!vr(lr))for(br=ur.Da.g.parse(lr),lr=0;lr<br.length;lr++){let Zr=br[lr];if(ur.T=Zr[0],Zr=Zr[1],ur.G==2)if(Zr[0]=="c"){ur.K=Zr[1],ur.ia=Zr[2];const pn=Zr[3];pn!=null&&(ur.la=pn,ur.j.info("VER="+ur.la));const Yr=Zr[4];Yr!=null&&(ur.Aa=Yr,ur.j.info("SVER="+ur.Aa));const bn=Zr[5];bn!=null&&typeof bn=="number"&&0<bn&&(yr=1.5*bn,ur.L=yr,ur.j.info("backChannelRequestTimeoutMs_="+yr)),yr=ur;const Rn=tr.g;if(Rn){const Dn=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var Pr=yr.h;Pr.g||Dn.indexOf("spdy")==-1&&Dn.indexOf("quic")==-1&&Dn.indexOf("h2")==-1||(Pr.j=Pr.l,Pr.g=new Set,Pr.h&&(Ss(Pr,Pr.h),Pr.h=null))}if(yr.D){const Ln=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ln&&(yr.ya=Ln,zn(yr.I,yr.D,Ln))}}ur.G=3,ur.l&&ur.l.ua(),ur.ba&&(ur.R=Date.now()-tr.F,ur.j.info("Handshake RTT: "+ur.R+"ms")),yr=ur;var Dr=tr;if(yr.qa=Ns(yr,yr.J?yr.ia:null,yr.W),Dr.K){Xa(yr.h,Dr);var zr=Dr,Kr=yr.L;Kr&&(zr.I=Kr),zr.B&&(rs(zr),jn(zr)),yr.g=Dr}else Vs(yr);0<ur.i.length&&go(ur)}else Zr[0]!="stop"&&Zr[0]!="close"||Uo(ur,7);else ur.G==3&&(Zr[0]=="stop"||Zr[0]=="close"?Zr[0]=="stop"?Uo(ur,7):oi(ur):Zr[0]!="noop"&&ur.l&&ur.l.ta(Zr),ur.v=0)}}Ki(4)}catch{}}var As=class{constructor(tr,lr){this.g=tr,this.map=lr}};function di(tr){this.l=tr||10,c.PerformanceNavigationTiming?(tr=c.performance.getEntriesByType("navigation"),tr=0<tr.length&&(tr[0].nextHopProtocol=="hq"||tr[0].nextHopProtocol=="h2")):tr=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=tr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gi(tr){return tr.h?!0:tr.g?tr.g.size>=tr.j:!1}function Qa(tr){return tr.h?1:tr.g?tr.g.size:0}function hi(tr,lr){return tr.h?tr.h==lr:tr.g?tr.g.has(lr):!1}function Ss(tr,lr){tr.g?tr.g.add(lr):tr.h=lr}function Xa(tr,lr){tr.h&&tr.h==lr?tr.h=null:tr.g&&tr.g.has(lr)&&tr.g.delete(lr)}di.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const tr of this.g.values())tr.cancel();this.g.clear()}};function Ja(tr){if(tr.h!=null)return tr.i.concat(tr.h.D);if(tr.g!=null&&tr.g.size!==0){let lr=tr.i;for(const ur of tr.g.values())lr=lr.concat(ur.D);return lr}return hr(tr.i)}function Ps(tr){if(tr.V&&typeof tr.V=="function")return tr.V();if(typeof Map<"u"&&tr instanceof Map||typeof Set<"u"&&tr instanceof Set)return Array.from(tr.values());if(typeof tr=="string")return tr.split("");if(w(tr)){for(var lr=[],ur=tr.length,yr=0;yr<ur;yr++)lr.push(tr[yr]);return lr}lr=[],ur=0;for(yr in tr)lr[ur++]=tr[yr];return lr}function ws(tr){if(tr.na&&typeof tr.na=="function")return tr.na();if(!tr.V||typeof tr.V!="function"){if(typeof Map<"u"&&tr instanceof Map)return Array.from(tr.keys());if(!(typeof Set<"u"&&tr instanceof Set)){if(w(tr)||typeof tr=="string"){var lr=[];tr=tr.length;for(var ur=0;ur<tr;ur++)lr.push(ur);return lr}lr=[],ur=0;for(const yr in tr)lr[ur++]=yr;return lr}}}function Bo(tr,lr){if(tr.forEach&&typeof tr.forEach=="function")tr.forEach(lr,void 0);else if(w(tr)||typeof tr=="string")Array.prototype.forEach.call(tr,lr,void 0);else for(var ur=ws(tr),yr=Ps(tr),br=yr.length,Pr=0;Pr<br;Pr++)lr.call(void 0,yr[Pr],ur&&ur[Pr],tr)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fi(tr,lr){if(tr){tr=tr.split("&");for(var ur=0;ur<tr.length;ur++){var yr=tr[ur].indexOf("="),br=null;if(0<=yr){var Pr=tr[ur].substring(0,yr);br=tr[ur].substring(yr+1)}else Pr=tr[ur];lr(Pr,br?decodeURIComponent(br.replace(/\+/g," ")):"")}}}function bo(tr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,tr instanceof bo){this.h=tr.h,To(this,tr.j),this.o=tr.o,this.g=tr.g,Vo(this,tr.s),this.l=tr.l;var lr=tr.i,ur=new Ro;ur.i=lr.i,lr.g&&(ur.g=new Map(lr.g),ur.h=lr.h),No(this,ur),this.m=tr.m}else tr&&(lr=String(tr).match(ns))?(this.h=!1,To(this,lr[1]||"",!0),this.o=Mn(lr[2]||""),this.g=Mn(lr[3]||"",!0),Vo(this,lr[4]),this.l=Mn(lr[5]||"",!0),No(this,lr[6]||"",!0),this.m=Mn(lr[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}bo.prototype.toString=function(){var tr=[],lr=this.j;lr&&tr.push(jo(lr,Cs,!0),":");var ur=this.g;return(ur||lr=="file")&&(tr.push("//"),(lr=this.o)&&tr.push(jo(lr,Cs,!0),"@"),tr.push(encodeURIComponent(String(ur)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ur=this.s,ur!=null&&tr.push(":",String(ur))),(ur=this.l)&&(this.g&&ur.charAt(0)!="/"&&tr.push("/"),tr.push(jo(ur,ur.charAt(0)=="/"?os:Ca,!0))),(ur=this.i.toString())&&tr.push("?",ur),(ur=this.m)&&tr.push("#",jo(ur,Ma)),tr.join("")};function Oi(tr){return new bo(tr)}function To(tr,lr,ur){tr.j=ur?Mn(lr,!0):lr,tr.j&&(tr.j=tr.j.replace(/:$/,""))}function Vo(tr,lr){if(lr){if(lr=Number(lr),isNaN(lr)||0>lr)throw Error("Bad port number "+lr);tr.s=lr}else tr.s=null}function No(tr,lr,ur){lr instanceof Ro?(tr.i=lr,Io(tr.i,tr.h)):(ur||(lr=jo(lr,Za)),tr.i=new Ro(lr,tr.h))}function zn(tr,lr,ur){tr.i.set(lr,ur)}function is(tr){return zn(tr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),tr}function Mn(tr,lr){return tr?lr?decodeURI(tr.replace(/%25/g,"%2525")):decodeURIComponent(tr):""}function jo(tr,lr,ur){return typeof tr=="string"?(tr=encodeURI(tr).replace(lr,Os),ur&&(tr=tr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),tr):null}function Os(tr){return tr=tr.charCodeAt(0),"%"+(tr>>4&15).toString(16)+(tr&15).toString(16)}var Cs=/[#\/\?@]/g,Ca=/[#\?:]/g,os=/[#\?]/g,Za=/[#\?@]/g,Ma=/#/g;function Ro(tr,lr){this.h=this.g=null,this.i=tr||null,this.j=!!lr}function li(tr){tr.g||(tr.g=new Map,tr.h=0,tr.i&&fi(tr.i,function(lr,ur){tr.add(decodeURIComponent(lr.replace(/\+/g," ")),ur)}))}n=Ro.prototype,n.add=function(tr,lr){li(this),this.i=null,tr=qi(this,tr);var ur=this.g.get(tr);return ur||this.g.set(tr,ur=[]),ur.push(lr),this.h+=1,this};function Gi(tr,lr){li(tr),lr=qi(tr,lr),tr.g.has(lr)&&(tr.i=null,tr.h-=tr.g.get(lr).length,tr.g.delete(lr))}function Ri(tr,lr){return li(tr),lr=qi(tr,lr),tr.g.has(lr)}n.forEach=function(tr,lr){li(this),this.g.forEach(function(ur,yr){ur.forEach(function(br){tr.call(lr,br,yr,this)},this)},this)},n.na=function(){li(this);const tr=Array.from(this.g.values()),lr=Array.from(this.g.keys()),ur=[];for(let yr=0;yr<lr.length;yr++){const br=tr[yr];for(let Pr=0;Pr<br.length;Pr++)ur.push(lr[yr])}return ur},n.V=function(tr){li(this);let lr=[];if(typeof tr=="string")Ri(this,tr)&&(lr=lr.concat(this.g.get(qi(this,tr))));else{tr=Array.from(this.g.values());for(let ur=0;ur<tr.length;ur++)lr=lr.concat(tr[ur])}return lr},n.set=function(tr,lr){return li(this),this.i=null,tr=qi(this,tr),Ri(this,tr)&&(this.h-=this.g.get(tr).length),this.g.set(tr,[lr]),this.h+=1,this},n.get=function(tr,lr){return tr?(tr=this.V(tr),0<tr.length?String(tr[0]):lr):lr};function ss(tr,lr,ur){Gi(tr,lr),0<ur.length&&(tr.i=null,tr.g.set(qi(tr,lr),hr(ur)),tr.h+=ur.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const tr=[],lr=Array.from(this.g.keys());for(var ur=0;ur<lr.length;ur++){var yr=lr[ur];const Pr=encodeURIComponent(String(yr)),Dr=this.V(yr);for(yr=0;yr<Dr.length;yr++){var br=Pr;Dr[yr]!==""&&(br+="="+encodeURIComponent(String(Dr[yr]))),tr.push(br)}}return this.i=tr.join("&")};function qi(tr,lr){return lr=String(lr),tr.j&&(lr=lr.toLowerCase()),lr}function Io(tr,lr){lr&&!tr.j&&(li(tr),tr.i=null,tr.g.forEach(function(ur,yr){var br=yr.toLowerCase();yr!=br&&(Gi(this,yr),ss(this,br,ur))},tr)),tr.j=lr}function Pl(tr,lr){const ur=new Ei;if(c.Image){const yr=new Image;yr.onload=sr(Ii,ur,"TestLoadImage: loaded",!0,lr,yr),yr.onerror=sr(Ii,ur,"TestLoadImage: error",!1,lr,yr),yr.onabort=sr(Ii,ur,"TestLoadImage: abort",!1,lr,yr),yr.ontimeout=sr(Ii,ur,"TestLoadImage: timeout",!1,lr,yr),c.setTimeout(function(){yr.ontimeout&&yr.ontimeout()},1e4),yr.src=tr}else lr(!1)}function ia(tr,lr){const ur=new Ei,yr=new AbortController,br=setTimeout(()=>{yr.abort(),Ii(ur,"TestPingServer: timeout",!1,lr)},1e4);fetch(tr,{signal:yr.signal}).then(Pr=>{clearTimeout(br),Pr.ok?Ii(ur,"TestPingServer: ok",!0,lr):Ii(ur,"TestPingServer: server error",!1,lr)}).catch(()=>{clearTimeout(br),Ii(ur,"TestPingServer: error",!1,lr)})}function Ii(tr,lr,ur,yr,br){try{br&&(br.onload=null,br.onerror=null,br.onabort=null,br.ontimeout=null),yr(ur)}catch{}}function el(){this.g=new Zs}function as(tr,lr,ur){const yr=ur||"";try{Bo(tr,function(br,Pr){let Dr=br;er(br)&&(Dr=Js(br)),lr.push(yr+Pr+"="+encodeURIComponent(Dr))})}catch(br){throw lr.push(yr+"type="+encodeURIComponent("_badmap")),br}}function ni(tr){this.l=tr.Ub||null,this.j=tr.eb||!1}dr(ni,Do),ni.prototype.g=function(){return new Ms(this.l,this.j)},ni.prototype.i=function(tr){return function(){return tr}}({});function Ms(tr,lr){Kn.call(this),this.D=tr,this.o=lr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}dr(Ms,Kn),n=Ms.prototype,n.open=function(tr,lr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=tr,this.A=lr,this.readyState=1,Qi(this)},n.send=function(tr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const lr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};tr&&(lr.body=tr),(this.D||c).fetch(new Request(this.A,lr)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},n.Sa=function(tr){if(this.g&&(this.l=tr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=tr.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")tr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in tr){if(this.j=tr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else tr.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(tr){tr.j.read().then(tr.Pa.bind(tr)).catch(tr.ga.bind(tr))}n.Pa=function(tr){if(this.g){if(this.o&&tr.value)this.response.push(tr.value);else if(!this.o){var lr=tr.value?tr.value:new Uint8Array(0);(lr=this.v.decode(lr,{stream:!tr.done}))&&(this.response=this.responseText+=lr)}tr.done?Yi(this):Qi(this),this.readyState==3&&tl(this)}},n.Ra=function(tr){this.g&&(this.response=this.responseText=tr,Yi(this))},n.Qa=function(tr){this.g&&(this.response=tr,Yi(this))},n.ga=function(){this.g&&Yi(this)};function Yi(tr){tr.readyState=4,tr.l=null,tr.j=null,tr.v=null,Qi(tr)}n.setRequestHeader=function(tr,lr){this.u.append(tr,lr)},n.getResponseHeader=function(tr){return this.h&&this.h.get(tr.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const tr=[],lr=this.h.entries();for(var ur=lr.next();!ur.done;)ur=ur.value,tr.push(ur[0]+": "+ur[1]),ur=lr.next();return tr.join(`\r
`)};function Qi(tr){tr.onreadystatechange&&tr.onreadystatechange.call(tr)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(tr){this.m=tr?"include":"same-origin"}});function uo(tr){let lr="";return Fr(tr,function(ur,yr){lr+=yr,lr+=":",lr+=ur,lr+=`\r
`}),lr}function Ao(tr,lr,ur){e:{for(yr in ur){var yr=!1;break e}yr=!0}yr||(ur=uo(ur),typeof tr=="string"?ur!=null&&encodeURIComponent(String(ur)):zn(tr,lr,ur))}function Nn(tr){Kn.call(this),this.headers=new Map,this.o=tr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}dr(Nn,Kn);var rl=/^https?$/i,Fs=["POST","PUT"];n=Nn.prototype,n.Ha=function(tr){this.J=tr},n.ea=function(tr,lr,ur,yr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+tr);lr=lr?lr.toUpperCase():"GET",this.D=tr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ni.g(),this.v=this.o?$i(this.o):$i(Ni),this.g.onreadystatechange=or(this.Ea,this);try{this.B=!0,this.g.open(lr,String(tr),!0),this.B=!1}catch(Pr){ks(this,Pr);return}if(tr=ur||"",ur=new Map(this.headers),yr)if(Object.getPrototypeOf(yr)===Object.prototype)for(var br in yr)ur.set(br,yr[br]);else if(typeof yr.keys=="function"&&typeof yr.get=="function")for(const Pr of yr.keys())ur.set(Pr,yr.get(Pr));else throw Error("Unknown input type for opt_headers: "+String(yr));yr=Array.from(ur.keys()).find(Pr=>Pr.toLowerCase()=="content-type"),br=c.FormData&&tr instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Fs,lr,void 0))||yr||br||ur.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pr,Dr]of ur)this.g.setRequestHeader(Pr,Dr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(tr),this.u=!1}catch(Pr){ks(this,Pr)}};function ks(tr,lr){tr.h=!1,tr.g&&(tr.j=!0,tr.g.abort(),tr.j=!1),tr.l=lr,tr.m=5,xs(tr),Ci(tr)}function xs(tr){tr.A||(tr.A=!0,Qn(tr,"complete"),Qn(tr,"error"))}n.abort=function(tr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=tr||7,Qn(this,"complete"),Qn(this,"abort"),Ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},n.bb=function(){So(this)};function So(tr){if(tr.h&&typeof l<"u"&&(!tr.v[1]||Mi(tr)!=4||tr.Z()!=2)){if(tr.u&&Mi(tr)==4)Xs(tr.Ea,0,tr);else if(Qn(tr,"readystatechange"),Mi(tr)==4){tr.h=!1;try{const Dr=tr.Z();e:switch(Dr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var lr=!0;break e;default:lr=!1}var ur;if(!(ur=lr)){var yr;if(yr=Dr===0){var br=String(tr.D).match(ns)[1]||null;!br&&c.self&&c.self.location&&(br=c.self.location.protocol.slice(0,-1)),yr=!rl.test(br?br.toLowerCase():"")}ur=yr}if(ur)Qn(tr,"complete"),Qn(tr,"success");else{tr.m=6;try{var Pr=2<Mi(tr)?tr.g.statusText:""}catch{Pr=""}tr.l=Pr+" ["+tr.Z()+"]",xs(tr)}}finally{Ci(tr)}}}}function Ci(tr,lr){if(tr.g){Ds(tr);const ur=tr.g,yr=tr.v[0]?()=>{}:null;tr.g=null,tr.v=null,lr||Qn(tr,"ready");try{ur.onreadystatechange=yr}catch{}}}function Ds(tr){tr.I&&(c.clearTimeout(tr.I),tr.I=null)}n.isActive=function(){return!!this.g};function Mi(tr){return tr.g?tr.g.readyState:0}n.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(tr){if(this.g){var lr=this.g.responseText;return tr&&lr.indexOf(tr)==0&&(lr=lr.substring(tr.length)),Pa(lr)}};function oa(tr){try{if(!tr.g)return null;if("response"in tr.g)return tr.g.response;switch(tr.H){case"":case"text":return tr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in tr.g)return tr.g.mozResponseArrayBuffer}return null}catch{return null}}function Go(tr){const lr={};tr=(tr.g&&2<=Mi(tr)&&tr.g.getAllResponseHeaders()||"").split(`\r
`);for(let yr=0;yr<tr.length;yr++){if(vr(tr[yr]))continue;var ur=Or(tr[yr]);const br=ur[0];if(ur=ur[1],typeof ur!="string")continue;ur=ur.trim();const Pr=lr[br]||[];lr[br]=Pr,Pr.push(ur)}Tr(lr,function(yr){return yr.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(tr,lr,ur){return ur&&ur.internalChannelParams&&ur.internalChannelParams[tr]||lr}function Fa(tr){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,tr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,tr),this.cb=po("retryDelaySeedMs",1e4,tr),this.Wa=po("forwardChannelMaxRetries",2,tr),this.wa=po("forwardChannelRequestTimeoutMs",2e4,tr),this.pa=tr&&tr.xmlHttpFactory||void 0,this.Xa=tr&&tr.Tb||void 0,this.Ca=tr&&tr.useFetchStreams||!1,this.L=void 0,this.J=tr&&tr.supportsCrossDomainXhr||!1,this.K="",this.h=new di(tr&&tr.concurrentRequestLimit),this.Da=new el,this.P=tr&&tr.fastHandshake||!1,this.O=tr&&tr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=tr&&tr.Rb||!1,tr&&tr.xa&&this.j.xa(),tr&&tr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&tr&&tr.detectBufferingProxy||!1,this.ja=void 0,tr&&tr.longPollingTimeout&&0<tr.longPollingTimeout&&(this.ja=tr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(tr,lr,ur,yr){Xn(0),this.W=tr,this.H=lr||{},ur&&yr!==void 0&&(this.H.OSID=ur,this.H.OAID=yr),this.F=this.X,this.I=Ns(this,null,this.W),go(this)};function oi(tr){if(Ls(tr),tr.G==3){var lr=tr.U++,ur=Oi(tr.I);if(zn(ur,"SID",tr.K),zn(ur,"RID",lr),zn(ur,"TYPE","terminate"),zo(tr,ur),lr=new bi(tr,tr.j,lr),lr.L=2,lr.v=is(Oi(ur)),ur=!1,c.navigator&&c.navigator.sendBeacon)try{ur=c.navigator.sendBeacon(lr.v.toString(),"")}catch{}!ur&&c.Image&&(new Image().src=lr.v,ur=!0),ur||(lr.g=sl(lr.j,null),lr.g.ea(lr.v)),lr.F=Date.now(),jn(lr)}ol(tr)}function Xi(tr){tr.g&&(aa(tr),tr.g.cancel(),tr.g=null)}function Ls(tr){Xi(tr),tr.u&&(c.clearTimeout(tr.u),tr.u=null),la(tr),tr.h.cancel(),tr.s&&(typeof tr.s=="number"&&c.clearTimeout(tr.s),tr.s=null)}function go(tr){if(!gi(tr.h)&&!tr.s){tr.s=!0;var lr=tr.Ga;dn||cn(),Wr||(dn(),Wr=!0),Jr.add(lr,tr),tr.B=0}}function ka(tr,lr){return Qa(tr.h)>=tr.h.j-(tr.s?1:0)?!1:tr.s?(tr.i=lr.D.concat(tr.i),!0):tr.G==1||tr.G==2||tr.B>=(tr.Va?0:tr.Wa)?!1:(tr.s=lo(or(tr.Ga,tr,lr),il(tr,tr.B)),tr.B++,!0)}n.Ga=function(tr){if(this.s)if(this.s=null,this.G==1){if(!tr){this.U=Math.floor(1e5*Math.random()),tr=this.U++;const br=new bi(this,this.j,tr);let Pr=this.o;if(this.S&&(Pr?(Pr=Er(Pr),wr(Pr,this.S)):Pr=this.S),this.m!==null||this.O||(br.H=Pr,Pr=null),this.P)e:{for(var lr=0,ur=0;ur<this.i.length;ur++){t:{var yr=this.i[ur];if("__data__"in yr.map&&(yr=yr.map.__data__,typeof yr=="string")){yr=yr.length;break t}yr=void 0}if(yr===void 0)break;if(lr+=yr,4096<lr){lr=ur;break e}if(lr===4096||ur===this.i.length-1){lr=ur+1;break e}}lr=1e3}else lr=1e3;lr=ls(this,br,lr),ur=Oi(this.I),zn(ur,"RID",tr),zn(ur,"CVER",22),this.D&&zn(ur,"X-HTTP-Session-Id",this.D),zo(this,ur),Pr&&(this.O?lr="headers="+encodeURIComponent(String(uo(Pr)))+"&"+lr:this.m&&Ao(ur,this.m,Pr)),Ss(this.h,br),this.Ua&&zn(ur,"TYPE","init"),this.P?(zn(ur,"$req",lr),zn(ur,"SID","null"),br.T=!0,Rs(br,ur,null)):Rs(br,ur,lr),this.G=2}}else this.G==3&&(tr?Bs(this,tr):this.i.length==0||gi(this.h)||Bs(this))};function Bs(tr,lr){var ur;lr?ur=lr.l:ur=tr.U++;const yr=Oi(tr.I);zn(yr,"SID",tr.K),zn(yr,"RID",ur),zn(yr,"AID",tr.T),zo(tr,yr),tr.m&&tr.o&&Ao(yr,tr.m,tr.o),ur=new bi(tr,tr.j,ur,tr.B+1),tr.m===null&&(ur.H=tr.o),lr&&(tr.i=lr.D.concat(tr.i)),lr=ls(tr,ur,1e3),ur.I=Math.round(.5*tr.wa)+Math.round(.5*tr.wa*Math.random()),Ss(tr.h,ur),Rs(ur,yr,lr)}function zo(tr,lr){tr.H&&Fr(tr.H,function(ur,yr){zn(lr,yr,ur)}),tr.l&&Bo({},function(ur,yr){zn(lr,yr,ur)})}function ls(tr,lr,ur){ur=Math.min(tr.i.length,ur);var yr=tr.l?or(tr.l.Na,tr.l,tr):null;e:{var br=tr.i;let Pr=-1;for(;;){const Dr=["count="+ur];Pr==-1?0<ur?(Pr=br[0].g,Dr.push("ofs="+Pr)):Pr=0:Dr.push("ofs="+Pr);let zr=!0;for(let Kr=0;Kr<ur;Kr++){let Zr=br[Kr].g;const pn=br[Kr].map;if(Zr-=Pr,0>Zr)Pr=Math.max(0,br[Kr].g-100),zr=!1;else try{as(pn,Dr,"req"+Zr+"_")}catch{yr&&yr(pn)}}if(zr){yr=Dr.join("&");break e}}}return tr=tr.i.splice(0,ur),lr.D=tr,yr}function Vs(tr){if(!tr.g&&!tr.u){tr.Y=1;var lr=tr.Fa;dn||cn(),Wr||(dn(),Wr=!0),Jr.add(lr,tr),tr.v=0}}function sa(tr){return tr.g||tr.u||3<=tr.v?!1:(tr.Y++,tr.u=lo(or(tr.Fa,tr),il(tr,tr.v)),tr.v++,!0)}n.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var tr=2*this.R;this.j.info("BP detection timer enabled: "+tr),this.A=lo(or(this.ab,this),tr)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xn(10),Xi(this),nl(this))};function aa(tr){tr.A!=null&&(c.clearTimeout(tr.A),tr.A=null)}function nl(tr){tr.g=new bi(tr,tr.j,"rpc",tr.Y),tr.m===null&&(tr.g.H=tr.o),tr.g.O=0;var lr=Oi(tr.qa);zn(lr,"RID","rpc"),zn(lr,"SID",tr.K),zn(lr,"AID",tr.T),zn(lr,"CI",tr.F?"0":"1"),!tr.F&&tr.ja&&zn(lr,"TO",tr.ja),zn(lr,"TYPE","xmlhttp"),zo(tr,lr),tr.m&&tr.o&&Ao(lr,tr.m,tr.o),tr.L&&(tr.g.I=tr.L);var ur=tr.g;tr=tr.ia,ur.L=1,ur.v=is(Oi(lr)),ur.m=null,ur.P=!0,Ti(ur,tr)}n.Za=function(){this.C!=null&&(this.C=null,Xi(this),sa(this),Xn(19))};function la(tr){tr.C!=null&&(c.clearTimeout(tr.C),tr.C=null)}function cs(tr,lr){var ur=null;if(tr.g==lr){la(tr),aa(tr),tr.g=null;var yr=2}else if(hi(tr.h,lr))ur=lr.D,Xa(tr.h,lr),yr=1;else return;if(tr.G!=0){if(lr.o)if(yr==1){ur=lr.m?lr.m.length:0,lr=Date.now()-lr.F;var br=tr.B;yr=Lo(),Qn(yr,new ao(yr,ur)),go(tr)}else Vs(tr);else if(br=lr.s,br==3||br==0&&0<lr.X||!(yr==1&&ka(tr,lr)||yr==2&&sa(tr)))switch(ur&&0<ur.length&&(lr=tr.h,lr.i=lr.i.concat(ur)),br){case 1:Uo(tr,5);break;case 4:Uo(tr,10);break;case 3:Uo(tr,6);break;default:Uo(tr,2)}}}function il(tr,lr){let ur=tr.Ta+Math.floor(Math.random()*tr.cb);return tr.isActive()||(ur*=2),ur*lr}function Uo(tr,lr){if(tr.j.info("Error code "+lr),lr==2){var ur=or(tr.fb,tr),yr=tr.Xa;const br=!yr;yr=new bo(yr||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(yr,"https"),is(yr),br?Pl(yr.toString(),ur):ia(yr.toString(),ur)}else Xn(2);tr.G=0,tr.l&&tr.l.sa(lr),ol(tr),Ls(tr)}n.fb=function(tr){tr?(this.j.info("Successfully pinged google.com"),Xn(2)):(this.j.info("Failed to ping google.com"),Xn(1))};function ol(tr){if(tr.G=0,tr.ka=[],tr.l){const lr=Ja(tr.h);(lr.length!=0||tr.i.length!=0)&&(gr(tr.ka,lr),gr(tr.ka,tr.i),tr.h.i.length=0,hr(tr.i),tr.i.length=0),tr.l.ra()}}function Ns(tr,lr,ur){var yr=ur instanceof bo?Oi(ur):new bo(ur);if(yr.g!="")lr&&(yr.g=lr+"."+yr.g),Vo(yr,yr.s);else{var br=c.location;yr=br.protocol,lr=lr?lr+"."+br.hostname:br.hostname,br=+br.port;var Pr=new bo(null);yr&&To(Pr,yr),lr&&(Pr.g=lr),br&&Vo(Pr,br),ur&&(Pr.l=ur),yr=Pr}return ur=tr.D,lr=tr.ya,ur&&lr&&zn(yr,ur,lr),zn(yr,"VER",tr.la),zo(tr,yr),yr}function sl(tr,lr,ur){if(lr&&!tr.J)throw Error("Can't create secondary domain capable XhrIo object.");return lr=tr.Ca&&!tr.pa?new Nn(new ni({eb:ur})):new Nn(tr.pa),lr.Ha(tr.J),lr}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xa(){}n=xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ca(){}ca.prototype.g=function(tr,lr){return new mi(tr,lr)};function mi(tr,lr){Kn.call(this),this.g=new Fa(lr),this.l=tr,this.h=lr&&lr.messageUrlParams||null,tr=lr&&lr.messageHeaders||null,lr&&lr.clientProtocolHeaderRequired&&(tr?tr["X-Client-Protocol"]="webchannel":tr={"X-Client-Protocol":"webchannel"}),this.g.o=tr,tr=lr&&lr.initMessageHeaders||null,lr&&lr.messageContentType&&(tr?tr["X-WebChannel-Content-Type"]=lr.messageContentType:tr={"X-WebChannel-Content-Type":lr.messageContentType}),lr&&lr.va&&(tr?tr["X-WebChannel-Client-Profile"]=lr.va:tr={"X-WebChannel-Client-Profile":lr.va}),this.g.S=tr,(tr=lr&&lr.Sb)&&!vr(tr)&&(this.g.m=tr),this.v=lr&&lr.supportsCrossDomainXhr||!1,this.u=lr&&lr.sendRawJson||!1,(lr=lr&&lr.httpSessionIdParam)&&!vr(lr)&&(this.g.D=lr,tr=this.h,tr!==null&&lr in tr&&(tr=this.h,lr in tr&&delete tr[lr])),this.j=new fr(this)}dr(mi,Kn),mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){oi(this.g)},mi.prototype.o=function(tr){var lr=this.g;if(typeof tr=="string"){var ur={};ur.__data__=tr,tr=ur}else this.u&&(ur={},ur.__data__=Js(tr),tr=ur);lr.i.push(new As(lr.Ya++,tr)),lr.G==3&&go(lr)},mi.prototype.N=function(){this.g.l=null,delete this.j,oi(this.g),delete this.g,mi.aa.N.call(this)};function Da(tr){io.call(this),tr.__headers__&&(this.headers=tr.__headers__,this.statusCode=tr.__status__,delete tr.__headers__,delete tr.__status__);var lr=tr.__sm__;if(lr){e:{for(const ur in lr){tr=ur;break e}tr=void 0}(this.i=tr)&&(tr=this.i,lr=lr!==null&&tr in lr?lr[tr]:void 0),this.data=lr}else this.data=tr}dr(Da,io);function ar(){Zo.call(this),this.status=1}dr(ar,Zo);function fr(tr){this.g=tr}dr(fr,xa),fr.prototype.ua=function(){Qn(this.g,"a")},fr.prototype.ta=function(tr){Qn(this.g,new Da(tr))},fr.prototype.sa=function(tr){Qn(this.g,new ar)},fr.prototype.ra=function(){Qn(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,createWebChannelTransport=function(){return new ca},getStatEventTarget=function(){return Lo()},Event$1=oo,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,ErrorCode=ta,bs.COMPLETE="complete",EventType=bs,vo.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",Kn.prototype.listen=Kn.prototype.K,WebChannel=vo,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,XhrIo=Nn}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});const v$1="@firebase/firestore",C$1="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F$1="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return M$1.logLevel}function setLogLevel$1(n){M$1.setLogLevel(n)}function __PRIVATE_logDebug(n,...e){if(M$1.logLevel<=LogLevel.DEBUG){const t=e.map(__PRIVATE_argToString);M$1.debug(`Firestore (${F$1}): ${n}`,...t)}}function __PRIVATE_logError(n,...e){if(M$1.logLevel<=LogLevel.ERROR){const t=e.map(__PRIVATE_argToString);M$1.error(`Firestore (${F$1}): ${n}`,...t)}}function __PRIVATE_logWarn(n,...e){if(M$1.logLevel<=LogLevel.WARN){const t=e.map(__PRIVATE_argToString);M$1.warn(`Firestore (${F$1}): ${n}`,...t)}}function __PRIVATE_argToString(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,__PRIVATE__fail(n,i,t)}function __PRIVATE__fail(n,e,t){let i=`FIRESTORE (${F$1}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw __PRIVATE_logError(i),new Error(i)}function __PRIVATE_hardAssert(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||__PRIVATE__fail(e,o,i)}function __PRIVATE_debugAssert(n,e){n||fail(57014,e)}function __PRIVATE_debugCast(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){__PRIVATE_hardAssert(this.o===void 0,42304);let i=this.i;const o=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let s=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new __PRIVATE_Deferred,e.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const w=s;e.enqueueRetryable(async()=>{await w.promise,await o(this.currentUser)})},c=w=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(w=>c(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?c(w):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new __PRIVATE_Deferred)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(__PRIVATE_hardAssert(typeof i.accessToken=="string",31837,{l:i}),new __PRIVATE_OAuthToken(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string",2055,{h:e}),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){__PRIVATE_hardAssert(this.o===void 0,3512);const i=s=>{s.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const o=s=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?o(s):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(__PRIVATE_hardAssert(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AppCheckToken(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=__PRIVATE_randomBytes(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<t&&(i+=e.charAt(o[s]%62))}return i}}function __PRIVATE_primitiveComparator(n,e){return n<e?-1:n>e?1:0}function __PRIVATE_compareUtf8Strings(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return __PRIVATE_primitiveComparator(i,o);{const s=__PRIVATE_newTextEncoder(),l=__PRIVATE_compareByteArrays$1(s.encode(__PRIVATE_getUtf8SafeSubstring(n,t)),s.encode(__PRIVATE_getUtf8SafeSubstring(e,t)));return l!==0?l:__PRIVATE_primitiveComparator(i,o)}}t+=i>65535?2:1}return __PRIVATE_primitiveComparator(n.length,e.length)}function __PRIVATE_getUtf8SafeSubstring(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function __PRIVATE_compareByteArrays$1(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return __PRIVATE_primitiveComparator(n[t],e[t]);return __PRIVATE_primitiveComparator(n.length,e.length)}function __PRIVATE_arrayEquals(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function __PRIVATE_immediateSuccessor(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=-62135596800,N$1=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*N$1);return new Timestamp(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new FirestoreError(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new FirestoreError(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<O$1)throw new FirestoreError(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N$1}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-O$1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$1="__name__";class BasePath{constructor(e,t,i){t===void 0?t=0:t>e.length&&fail(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&fail(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const s=BasePath.compareSegments(e.get(o),t.get(o));if(s!==0)return s}return __PRIVATE_primitiveComparator(e.length,t.length)}static compareSegments(e,t){const i=BasePath.isNumericId(e),o=BasePath.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?BasePath.extractNumericId(e).compare(BasePath.extractNumericId(t)):__PRIVATE_compareUtf8Strings(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Integer.fromString(e.substring(4,e.length-2))}}class ResourcePath extends BasePath{construct(e,t,i){return new ResourcePath(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ResourcePath(t)}static emptyPath(){return new ResourcePath([])}}const L$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,t,i){return new FieldPath$1(e,t,i)}static isValidIdentifier(e){return L$1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B$1}static keyField(){return new FieldPath$1([B$1])}static fromServerFormat(e){const t=[];let i="",o=0;const s=()=>{if(i.length===0)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new FirestoreError(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new FirestoreError(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=w,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(i+=c,o++):(s(),o++)}if(s(),l)throw new FirestoreError(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(t)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ResourcePath.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$1=-1;class FieldIndex{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function __PRIVATE_fieldIndexGetArraySegment(n){return n.fields.find(e=>e.kind===2)}function __PRIVATE_fieldIndexGetDirectionalSegments(n){return n.fields.filter(e=>e.kind!==2)}FieldIndex.UNKNOWN_ID=-1;class IndexSegment{constructor(e,t){this.fieldPath=e,this.kind=t}}class IndexState{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new IndexState(0,IndexOffset.min())}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=SnapshotVersion.fromTimestamp(i===1e9?new Timestamp(t+1,0):new Timestamp(t,i));return new IndexOffset(o,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(n){return new IndexOffset(n.readTime,n.key,k$1)}class IndexOffset{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),k$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),k$1)}}function __PRIVATE_indexOffsetComparator(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=DocumentKey.comparator(n.documentKey,e.documentKey),t!==0?t:__PRIVATE_primitiveComparator(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==q$1)throw n;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof PersistencePromise?t:PersistencePromise.resolve(t)}catch(t){return PersistencePromise.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):PersistencePromise.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):PersistencePromise.reject(t)}static resolve(e){return new PersistencePromise((t,i)=>{t(e)})}static reject(e){return new PersistencePromise((t,i)=>{i(e)})}static waitFor(e){return new PersistencePromise((t,i)=>{let o=0,s=0,l=!1;e.forEach(c=>{++o,c.next(()=>{++s,l&&s===o&&t()},w=>i(w))}),l=!0,s===o&&t()})}static or(e){let t=PersistencePromise.resolve(!1);for(const i of e)t=t.next(o=>o?PersistencePromise.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,s)=>{i.push(t.call(this,o,s))}),this.waitFor(i)}static mapArray(e,t){return new PersistencePromise((i,o)=>{const s=e.length,l=new Array(s);let c=0;for(let w=0;w<s;w++){const er=w;t(e[er]).next(nr=>{l[er]=nr,++c,c===s&&i(l)},nr=>o(nr))}})}static doWhile(e,t){return new PersistencePromise((i,o)=>{const s=()=>{e()===!0?t().next(()=>{s()},o):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$1="SimpleDb";class __PRIVATE_SimpleDbTransaction{static open(e,t,i,o){try{return new __PRIVATE_SimpleDbTransaction(t,e.transaction(o,i))}catch(s){throw new __PRIVATE_IndexedDbTransactionError(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new __PRIVATE_IndexedDbTransactionError(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const o=__PRIVATE_checkForAndReportiOSError(i.target.error);this.S.reject(new __PRIVATE_IndexedDbTransactionError(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(__PRIVATE_logDebug(Q$1,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new __PRIVATE_SimpleDbStore(t)}}class __PRIVATE_SimpleDb{static delete(e){return __PRIVATE_logDebug(Q$1,"Removing database:",e),__PRIVATE_wrapRequest(getGlobal().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.F())return!0;const e=getUA(),t=__PRIVATE_SimpleDb.M(e),i=0<t&&t<10,o=__PRIVATE_getAndroidVersion(e),s=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.B=i,this.L=null,__PRIVATE_SimpleDb.M(getUA())===12.2&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(__PRIVATE_logDebug(Q$1,"Opening database:",this.name),this.db=await new Promise((t,i)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=s=>{const l=s.target.result;t(l)},o.onblocked=()=>{i(new __PRIVATE_IndexedDbTransactionError(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const l=s.target.error;l.name==="VersionError"?i(new FirestoreError(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?i(new FirestoreError(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):i(new __PRIVATE_IndexedDbTransactionError(e,l))},o.onupgradeneeded=s=>{__PRIVATE_logDebug(Q$1,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${l.version}`);this.B.q(l,o.transaction,s.oldVersion,this.version).next(()=>{__PRIVATE_logDebug(Q$1,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const i=t.target;this.L=i.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,o){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.k(e);const c=__PRIVATE_SimpleDbTransaction.open(this.db,e,s?"readonly":"readwrite",i),w=o(c).next(er=>(c.v(),er)).catch(er=>(c.abort(er),PersistencePromise.reject(er))).toPromise();return w.catch(()=>{}),await c.D,w}catch(c){const w=c,er=w.name!=="FirebaseError"&&l<3;if(__PRIVATE_logDebug(Q$1,"Transaction failed with error:",w.message,"Retrying:",er),this.close(),!er)return Promise.reject(w)}}}close(){this.db&&this.db.close(),this.db=void 0}}function __PRIVATE_getAndroidVersion(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class __PRIVATE_IterationController{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return __PRIVATE_wrapRequest(this.K.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(e,t){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError(n){return n.name==="IndexedDbTransactionError"}class __PRIVATE_SimpleDbStore{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(__PRIVATE_logDebug(Q$1,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(__PRIVATE_logDebug(Q$1,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),__PRIVATE_wrapRequest(i)}add(e){return __PRIVATE_logDebug(Q$1,"ADD",this.store.name,e,e),__PRIVATE_wrapRequest(this.store.add(e))}get(e){return __PRIVATE_wrapRequest(this.store.get(e)).next(t=>(t===void 0&&(t=null),__PRIVATE_logDebug(Q$1,"GET",this.store.name,e,t),t))}delete(e){return __PRIVATE_logDebug(Q$1,"DELETE",this.store.name,e),__PRIVATE_wrapRequest(this.store.delete(e))}count(){return __PRIVATE_logDebug(Q$1,"COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}J(e,t){const i=this.options(e,t),o=i.index?this.store.index(i.index):this.store;if(typeof o.getAll=="function"){const s=o.getAll(i.range);return new PersistencePromise((l,c)=>{s.onerror=w=>{c(w.target.error)},s.onsuccess=w=>{l(w.target.result)}})}{const s=this.cursor(i),l=[];return this.Y(s,(c,w)=>{l.push(w)}).next(()=>l)}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new PersistencePromise((o,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}X(e,t){__PRIVATE_logDebug(Q$1,"DELETE ALL",this.store.name);const i=this.options(e,t);i.ee=!1;const o=this.cursor(i);return this.Y(o,(s,l,c)=>c.delete())}te(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.Y(o,t)}ne(e){const t=this.cursor({});return new PersistencePromise((i,o)=>{t.onerror=s=>{const l=__PRIVATE_checkForAndReportiOSError(s.target.error);o(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():i()}):i()}})}Y(e,t){const i=[];return new PersistencePromise((o,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void o();const w=new __PRIVATE_IterationController(c),er=t(c.primaryKey,c.value,w);if(er instanceof PersistencePromise){const nr=er.catch(rr=>(w.done(),PersistencePromise.reject(rr)));i.push(nr)}w.isDone?o():w.j===null?c.continue():c.continue(w.j)}}).next(()=>PersistencePromise.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.ee?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function __PRIVATE_wrapRequest(n){return new PersistencePromise((e,t)=>{n.onsuccess=i=>{const o=i.target.result;e(o)},n.onerror=i=>{const o=__PRIVATE_checkForAndReportiOSError(i.target.error);t(o)}})}let $=!1;function __PRIVATE_checkForAndReportiOSError(n){const e=__PRIVATE_SimpleDb.M(getUA());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $||($=!0,setTimeout(()=>{throw i},0)),i}}return n}const U="IndexBackfiller";class __PRIVATE_IndexBackfillerScheduler{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){__PRIVATE_logDebug(U,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();__PRIVATE_logDebug(U,`Documents written: ${t}`)}catch(t){__PRIVATE_isIndexedDbTransactionError(t)?__PRIVATE_logDebug(U,"Ignoring IndexedDB error during index backfill: ",t):await __PRIVATE_ignoreIfPrimaryLeaseLoss(t)}await this.ie(6e4)})}}class __PRIVATE_IndexBackfiller{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const i=new Set;let o=t,s=!0;return PersistencePromise.doWhile(()=>s===!0&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!i.has(l))return __PRIVATE_logDebug(U,`Processing collection: ${l}`),this._e(e,l,o).next(c=>{o-=c,i.add(l)});s=!1})).next(()=>t-o)}_e(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ae(o,s)).next(c=>(__PRIVATE_logDebug(U,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>l.size)}))}ae(e,t){let i=e;return t.changes.forEach((o,s)=>{const l=__PRIVATE_newIndexOffsetFromDocument(s);__PRIVATE_indexOffsetComparator(l,i)>0&&(i=l)}),new IndexOffset(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}__PRIVATE_ListenSequence.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=-1;function __PRIVATE_isNullOrUndefined(n){return n==null}function __PRIVATE_isNegativeZero(n){return n===0&&1/n==-1/0}function isSafeInteger(n){return typeof n=="number"&&Number.isInteger(n)&&!__PRIVATE_isNegativeZero(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W="";function __PRIVATE_encodeResourcePath(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=__PRIVATE_encodeSeparator(e)),e=__PRIVATE_encodeSegment(n.get(t),e);return __PRIVATE_encodeSeparator(e)}function __PRIVATE_encodeSegment(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const s=n.charAt(o);switch(s){case"\0":t+="";break;case W:t+="";break;default:t+=s}}return t}function __PRIVATE_encodeSeparator(n){return n+W+""}function __PRIVATE_decodeResourcePath(n){const e=n.length;if(__PRIVATE_hardAssert(e>=2,64408,{path:n}),e===2)return __PRIVATE_hardAssert(n.charAt(0)===W&&n.charAt(1)==="",56145,{path:n}),ResourcePath.emptyPath();const t=e-2,i=[];let o="";for(let s=0;s<e;){const l=n.indexOf(W,s);switch((l<0||l>t)&&fail(50515,{path:n}),n.charAt(l+1)){case"":const c=n.substring(s,l);let w;o.length===0?w=c:(o+=c,w=o,o=""),i.push(w);break;case"":o+=n.substring(s,l),o+="\0";break;case"":o+=n.substring(s,l+1);break;default:fail(61167,{path:n})}s=l+2}return new ResourcePath(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G="remoteDocuments",z$1="owner",j="owner",H$1="mutationQueues",J="userId",Y="mutations",Z="batchId",X="userMutationsIndex",ee=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newDbDocumentMutationPrefixForPath(n,e){return[n,__PRIVATE_encodeResourcePath(e)]}function __PRIVATE_newDbDocumentMutationKey(n,e,t){return[n,__PRIVATE_encodeResourcePath(e),t]}const te={},ne="documentMutations",re="remoteDocumentsV14",ie=["prefixPath","collectionGroup","readTime","documentId"],se="documentKeyIndex",oe=["prefixPath","collectionGroup","documentId"],_e="collectionGroupIndex",ae=["collectionGroup","readTime","prefixPath","documentId"],ue="remoteDocumentGlobal",ce="remoteDocumentGlobalKey",le="targets",he="queryTargetsIndex",Pe=["canonicalId","targetId"],Te="targetDocuments",Ie=["targetId","path"],Ee="documentTargetsIndex",de=["path","targetId"],Ae="targetGlobalKey",Re="targetGlobal",Ve="collectionParents",me=["collectionId","parent"],fe="clientMetadata",ge="clientId",pe="bundles",ye="bundleId",we="namedQueries",be="name",Se="indexConfiguration",De="indexId",ve="collectionGroupIndex",Ce="collectionGroup",Fe="indexState",Me=["indexId","uid"],xe="sequenceNumberIndex",Oe=["uid","sequenceNumber"],Ne="indexEntries",Be=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Le="documentKeyIndex",ke=["indexId","uid","orderedDocumentKey"],qe="documentOverlays",Qe=["userId","collectionPath","documentId"],$e="collectionPathOverlayIndex",Ue=["userId","collectionPath","largestBatchId"],Ke="collectionGroupOverlayIndex",We=["userId","collectionGroup","largestBatchId"],Ge="globals",ze="name",je=[H$1,Y,ne,G,le,z$1,Re,Te,fe,ue,Ve,pe,we],He=[...je,qe],Je=[H$1,Y,ne,re,le,z$1,Re,Te,fe,ue,Ve,pe,we,qe],Ye=Je,Ze=[...Ye,Se,Fe,Ne],Xe=Ze,et=[...Ze,Ge];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbTransaction extends PersistenceTransaction{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function __PRIVATE_getStore(n,e){const t=__PRIVATE_debugCast(n);return __PRIVATE_SimpleDb.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function forEach(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function isEmpty(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,t){this.comparator=e,this.root=t||LLRBNode.EMPTY}insert(e,t){return new SortedMap(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,t,i,o,s){this.key=e,this.value=t,this.color=i??LLRBNode.RED,this.left=o??LLRBNode.EMPTY,this.right=s??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,s){return new LLRBNode(e??this.key,t??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const s=i(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,t,i),null):s===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return LLRBNode.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fail(27949);return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(e,t,i,o,s){return this}insert(e,t,i){return new LLRBNode(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new SortedSet(this.comparator);return t.data=e,t}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function __PRIVATE_advanceIterator(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let t=new SortedSet(FieldPath$1.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new FieldMask(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isBase64Available(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+s):s}}(e);return new ByteString(t)}static fromUint8Array(e){const t=function(o){let s="";for(let l=0;l<o.length;++l)s+=String.fromCharCode(o[l]);return s}(e);return new ByteString(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const tt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(n){if(__PRIVATE_hardAssert(!!n,39018),typeof n=="string"){let e=0;const t=tt.exec(n);if(__PRIVATE_hardAssert(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(n.seconds),nanos:__PRIVATE_normalizeNumber(n.nanos)}}function __PRIVATE_normalizeNumber(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function __PRIVATE_normalizeByteString(n){return typeof n=="string"?ByteString.fromBase64String(n):ByteString.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="server_timestamp",rt="__type__",it="__previous_value__",st="__local_write_time__";function __PRIVATE_isServerTimestamp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rt])===null||t===void 0?void 0:t.stringValue)===nt}function __PRIVATE_getPreviousValue(n){const e=n.mapValue.fields[it];return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(n){const e=__PRIVATE_normalizeTimestamp(n.mapValue.fields[st].timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,t,i,o,s,l,c,w,er,nr){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=w,this.useFetchStreams=er,this.isUsingEmulator=nr}}const ot="(default)";class DatabaseId{constructor(e,t){this.projectId=e,this.database=t||ot}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ot}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="__type__",at="__max__",ut={mapValue:{fields:{__type__:{stringValue:at}}}},ct="__vector__",lt="value",ht={nullValue:"NULL_VALUE"};function __PRIVATE_typeOrder(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?__PRIVATE_isServerTimestamp(n)?4:__PRIVATE_isMaxValue(n)?9007199254740991:__PRIVATE_isVectorValue(n)?10:11:fail(28295,{value:n})}function __PRIVATE_valueEquals(n,e){if(n===e)return!0;const t=__PRIVATE_typeOrder(n);if(t!==__PRIVATE_typeOrder(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(n).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const l=__PRIVATE_normalizeTimestamp(o.timestampValue),c=__PRIVATE_normalizeTimestamp(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,s){return __PRIVATE_normalizeByteString(o.bytesValue).isEqual(__PRIVATE_normalizeByteString(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,s){return __PRIVATE_normalizeNumber(o.geoPointValue.latitude)===__PRIVATE_normalizeNumber(s.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(o.geoPointValue.longitude)===__PRIVATE_normalizeNumber(s.geoPointValue.longitude)}(n,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return __PRIVATE_normalizeNumber(o.integerValue)===__PRIVATE_normalizeNumber(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const l=__PRIVATE_normalizeNumber(o.doubleValue),c=__PRIVATE_normalizeNumber(s.doubleValue);return l===c?__PRIVATE_isNegativeZero(l)===__PRIVATE_isNegativeZero(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return __PRIVATE_arrayEquals(n.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(o,s){const l=o.mapValue.fields||{},c=s.mapValue.fields||{};if(__PRIVATE_objectSize(l)!==__PRIVATE_objectSize(c))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(c[w]===void 0||!__PRIVATE_valueEquals(l[w],c[w])))return!1;return!0}(n,e);default:return fail(52216,{left:n})}}function __PRIVATE_arrayValueContains(n,e){return(n.values||[]).find(t=>__PRIVATE_valueEquals(t,e))!==void 0}function __PRIVATE_valueCompare(n,e){if(n===e)return 0;const t=__PRIVATE_typeOrder(n),i=__PRIVATE_typeOrder(e);if(t!==i)return __PRIVATE_primitiveComparator(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(n.booleanValue,e.booleanValue);case 2:return function(s,l){const c=__PRIVATE_normalizeNumber(s.integerValue||s.doubleValue),w=__PRIVATE_normalizeNumber(l.integerValue||l.doubleValue);return c<w?-1:c>w?1:c===w?0:isNaN(c)?isNaN(w)?0:-1:1}(n,e);case 3:return __PRIVATE_compareTimestamps(n.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(n),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_compareUtf8Strings(n.stringValue,e.stringValue);case 6:return function(s,l){const c=__PRIVATE_normalizeByteString(s),w=__PRIVATE_normalizeByteString(l);return c.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),w=l.split("/");for(let er=0;er<c.length&&er<w.length;er++){const nr=__PRIVATE_primitiveComparator(c[er],w[er]);if(nr!==0)return nr}return __PRIVATE_primitiveComparator(c.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const c=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(s.latitude),__PRIVATE_normalizeNumber(l.latitude));return c!==0?c:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(s.longitude),__PRIVATE_normalizeNumber(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(n.arrayValue,e.arrayValue);case 10:return function(s,l){var c,w,er,nr;const rr=s.fields||{},or=l.fields||{},sr=(c=rr[lt])===null||c===void 0?void 0:c.arrayValue,dr=(w=or[lt])===null||w===void 0?void 0:w.arrayValue,hr=__PRIVATE_primitiveComparator(((er=sr==null?void 0:sr.values)===null||er===void 0?void 0:er.length)||0,((nr=dr==null?void 0:dr.values)===null||nr===void 0?void 0:nr.length)||0);return hr!==0?hr:__PRIVATE_compareArrays(sr,dr)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===ut.mapValue&&l===ut.mapValue)return 0;if(s===ut.mapValue)return 1;if(l===ut.mapValue)return-1;const c=s.fields||{},w=Object.keys(c),er=l.fields||{},nr=Object.keys(er);w.sort(),nr.sort();for(let rr=0;rr<w.length&&rr<nr.length;++rr){const or=__PRIVATE_compareUtf8Strings(w[rr],nr[rr]);if(or!==0)return or;const sr=__PRIVATE_valueCompare(c[w[rr]],er[nr[rr]]);if(sr!==0)return sr}return __PRIVATE_primitiveComparator(w.length,nr.length)}(n.mapValue,e.mapValue);default:throw fail(23264,{Pe:t})}}function __PRIVATE_compareTimestamps(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return __PRIVATE_primitiveComparator(n,e);const t=__PRIVATE_normalizeTimestamp(n),i=__PRIVATE_normalizeTimestamp(e),o=__PRIVATE_primitiveComparator(t.seconds,i.seconds);return o!==0?o:__PRIVATE_primitiveComparator(t.nanos,i.nanos)}function __PRIVATE_compareArrays(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const s=__PRIVATE_valueCompare(t[o],i[o]);if(s)return s}return __PRIVATE_primitiveComparator(t.length,i.length)}function canonicalId(n){return __PRIVATE_canonifyValue(n)}function __PRIVATE_canonifyValue(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=__PRIVATE_normalizeTimestamp(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return __PRIVATE_normalizeByteString(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return DocumentKey.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const s of t.values||[])o?o=!1:i+=",",i+=__PRIVATE_canonifyValue(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",s=!0;for(const l of i)s?s=!1:o+=",",o+=`${l}:${__PRIVATE_canonifyValue(t.fields[l])}`;return o+"}"}(n.mapValue):fail(61005,{value:n})}function __PRIVATE_estimateByteSize(n){switch(__PRIVATE_typeOrder(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=__PRIVATE_getPreviousValue(n);return e?16+__PRIVATE_estimateByteSize(e):16;case 5:return 2*n.stringValue.length;case 6:return __PRIVATE_normalizeByteString(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,s)=>o+__PRIVATE_estimateByteSize(s),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return forEach(i.fields,(s,l)=>{o+=s.length+__PRIVATE_estimateByteSize(l)}),o}(n.mapValue);default:throw fail(13486,{value:n})}}function __PRIVATE_refValue(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function isInteger(n){return!!n&&"integerValue"in n}function isArray$1(n){return!!n&&"arrayValue"in n}function __PRIVATE_isNullValue(n){return!!n&&"nullValue"in n}function __PRIVATE_isNanValue(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function __PRIVATE_isMapValue(n){return!!n&&"mapValue"in n}function __PRIVATE_isVectorValue(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_t])===null||t===void 0?void 0:t.stringValue)===ct}function __PRIVATE_deepClone(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return forEach(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=__PRIVATE_deepClone(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=__PRIVATE_deepClone(n.arrayValue.values[t]);return e}return Object.assign({},n)}function __PRIVATE_isMaxValue(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===at}const Pt={mapValue:{fields:{[_t]:{stringValue:ct},[lt]:{arrayValue:{}}}}};function __PRIVATE_valuesGetLowerBound(n){return"nullValue"in n?ht:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?__PRIVATE_refValue(DatabaseId.empty(),DocumentKey.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?__PRIVATE_isVectorValue(n)?Pt:{mapValue:{}}:fail(35942,{value:n})}function __PRIVATE_valuesGetUpperBound(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?__PRIVATE_refValue(DatabaseId.empty(),DocumentKey.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Pt:"mapValue"in n?__PRIVATE_isVectorValue(n)?{mapValue:{}}:ut:fail(61959,{value:n})}function __PRIVATE_lowerBoundCompare(n,e){const t=__PRIVATE_valueCompare(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function __PRIVATE_upperBoundCompare(n,e){const t=__PRIVATE_valueCompare(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!__PRIVATE_isMapValue(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(t)}setAll(e){let t=FieldPath$1.emptyPath(),i={},o=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const w=this.getFieldsMap(t);this.applyChanges(w,i,o),i={},o=[],t=c.popLast()}l?i[c.lastSegment()]=__PRIVATE_deepClone(l):o.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,o)}delete(e){const t=this.field(e.popLast());__PRIVATE_isMapValue(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];__PRIVATE_isMapValue(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){forEach(t,(o,s)=>e[o]=s);for(const o of i)delete e[o]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(n){const e=[];return forEach(n.fields,(t,i)=>{const o=new FieldPath$1([t]);if(__PRIVATE_isMapValue(i)){const s=__PRIVATE_extractFieldMask(i.mapValue).fields;if(s.length===0)e.push(o);else for(const l of s)e.push(o.child(l))}else e.push(o)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,t,i,o,s,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,t,i,o){return new MutableDocument(e,1,t,SnapshotVersion.min(),i,o,0)}static newNoDocument(e,t){return new MutableDocument(e,2,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,t){return new MutableDocument(e,3,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,t){this.position=e,this.inclusive=t}}function __PRIVATE_boundCompareToDocument(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const s=e[o],l=n.position[o];if(s.field.isKeyField()?i=DocumentKey.comparator(DocumentKey.fromName(l.referenceValue),t.key):i=__PRIVATE_valueCompare(l,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function __PRIVATE_boundEquals(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!__PRIVATE_valueEquals(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,t="asc"){this.field=e,this.dir=t}}function __PRIVATE_orderByEquals(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new __PRIVATE_KeyFieldFilter(e,t,i):t==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,i):t==="in"?new __PRIVATE_InFilter(e,i):t==="not-in"?new __PRIVATE_NotInFilter(e,i):t==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,i):new FieldFilter(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new __PRIVATE_KeyFieldInFilter(e,i):new __PRIVATE_KeyFieldNotInFilter(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value)):t!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(t)&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new CompositeFilter(e,t)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(n){return n.op==="and"}function __PRIVATE_compositeFilterIsDisjunction(n){return n.op==="or"}function __PRIVATE_compositeFilterIsFlatConjunction(n){return __PRIVATE_compositeFilterIsFlat(n)&&__PRIVATE_compositeFilterIsConjunction(n)}function __PRIVATE_compositeFilterIsFlat(n){for(const e of n.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(n){if(n instanceof FieldFilter)return n.field.canonicalString()+n.op.toString()+canonicalId(n.value);if(__PRIVATE_compositeFilterIsFlatConjunction(n))return n.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=n.filters.map(t=>__PRIVATE_canonifyFilter(t)).join(",");return`${n.op}(${e})`}}function __PRIVATE_filterEquals(n,e){return n instanceof FieldFilter?function(i,o){return o instanceof FieldFilter&&i.op===o.op&&i.field.isEqual(o.field)&&__PRIVATE_valueEquals(i.value,o.value)}(n,e):n instanceof CompositeFilter?function(i,o){return o instanceof CompositeFilter&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((s,l,c)=>s&&__PRIVATE_filterEquals(l,o.filters[c]),!0):!1}(n,e):void fail(19439)}function __PRIVATE_compositeFilterWithAddedFilters(n,e){const t=n.filters.concat(e);return CompositeFilter.create(t,n.op)}function __PRIVATE_stringifyFilter(n){return n instanceof FieldFilter?function(t){return`${t.field.canonicalString()} ${t.op} ${canonicalId(t.value)}`}(n):n instanceof CompositeFilter?function(t){return t.op.toString()+" {"+t.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(n):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,t,i){super(e,t,i),this.key=DocumentKey.fromName(i.referenceValue)}matches(e){const t=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(t)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,t){super(e,"in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>DocumentKey.fromName(i.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return isArray$1(t)&&__PRIVATE_arrayValueContains(t.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!isArray$1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>__PRIVATE_arrayValueContains(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,t=null,i=[],o=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=l,this.endAt=c,this.Ie=null}}function __PRIVATE_newTarget(n,e=null,t=[],i=[],o=null,s=null,l=null){return new __PRIVATE_TargetImpl(n,e,t,i,o,s,l)}function __PRIVATE_canonifyTarget(n){const e=__PRIVATE_debugCast(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>__PRIVATE_canonifyFilter(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>canonicalId(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>canonicalId(i)).join(",")),e.Ie=t}return e.Ie}function __PRIVATE_targetEquals(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!__PRIVATE_orderByEquals(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!__PRIVATE_filterEquals(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(n.startAt,e.startAt)&&__PRIVATE_boundEquals(n.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(n){return DocumentKey.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function __PRIVATE_targetGetFieldFiltersForPath(n,e){return n.filters.filter(t=>t instanceof FieldFilter&&t.field.isEqual(e))}function __PRIVATE_targetGetAscendingBound(n,e,t){let i=ht,o=!0;for(const s of __PRIVATE_targetGetFieldFiltersForPath(n,e)){let l=ht,c=!0;switch(s.op){case"<":case"<=":l=__PRIVATE_valuesGetLowerBound(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=ht}__PRIVATE_lowerBoundCompare({value:i,inclusive:o},{value:l,inclusive:c})<0&&(i=l,o=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];__PRIVATE_lowerBoundCompare({value:i,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(i=l,o=t.inclusive);break}}return{value:i,inclusive:o}}function __PRIVATE_targetGetDescendingBound(n,e,t){let i=ut,o=!0;for(const s of __PRIVATE_targetGetFieldFiltersForPath(n,e)){let l=ut,c=!0;switch(s.op){case">=":case">":l=__PRIVATE_valuesGetUpperBound(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=ut}__PRIVATE_upperBoundCompare({value:i,inclusive:o},{value:l,inclusive:c})>0&&(i=l,o=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];__PRIVATE_upperBoundCompare({value:i,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(i=l,o=t.inclusive);break}}return{value:i,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,t=null,i=[],o=[],s=null,l="F",c=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=w,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(n,e,t,i,o,s,l,c){return new __PRIVATE_QueryImpl(n,e,t,i,o,s,l,c)}function __PRIVATE_newQueryForPath(n){return new __PRIVATE_QueryImpl(n)}function __PRIVATE_queryMatchesAllDocuments(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(n){return n.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(n){const e=__PRIVATE_debugCast(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new SortedSet(FieldPath$1.comparator);return l.filters.forEach(w=>{w.getFlattenedFilters().forEach(er=>{er.isInequality()&&(c=c.add(er.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new OrderBy(s,i))}),t.has(FieldPath$1.keyField().canonicalString())||e.Ee.push(new OrderBy(FieldPath$1.keyField(),i))}return e.Ee}function __PRIVATE_queryToTarget(n){const e=__PRIVATE_debugCast(n);return e.de||(e.de=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(n))),e.de}function __PRIVATE__queryToTarget(n,e){if(n.limitType==="F")return __PRIVATE_newTarget(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new OrderBy(o.field,s)});const t=n.endAt?new Bound(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bound(n.startAt.position,n.startAt.inclusive):null;return __PRIVATE_newTarget(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function __PRIVATE_queryWithAddedFilter(n,e){const t=n.filters.concat([e]);return new __PRIVATE_QueryImpl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function __PRIVATE_queryWithLimit(n,e,t){return new __PRIVATE_QueryImpl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function __PRIVATE_queryEquals(n,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(n),__PRIVATE_queryToTarget(e))&&n.limitType===e.limitType}function __PRIVATE_canonifyQuery(n){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(n))}|lt:${n.limitType}`}function __PRIVATE_stringifyQuery(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>__PRIVATE_stringifyFilter(o)).join(", ")}]`),__PRIVATE_isNullOrUndefined(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>canonicalId(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>canonicalId(o)).join(",")),`Target(${i})`}(__PRIVATE_queryToTarget(n))}; limitType=${n.limitType})`}function __PRIVATE_queryMatches(n,e){return e.isFoundDocument()&&function(i,o){const s=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):DocumentKey.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,o){for(const s of __PRIVATE_queryNormalizedOrderBy(i))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const s of i.filters)if(!s.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(l,c,w){const er=__PRIVATE_boundCompareToDocument(l,c,w);return l.inclusive?er<=0:er<0}(i.startAt,__PRIVATE_queryNormalizedOrderBy(i),o)||i.endAt&&!function(l,c,w){const er=__PRIVATE_boundCompareToDocument(l,c,w);return l.inclusive?er>=0:er>0}(i.endAt,__PRIVATE_queryNormalizedOrderBy(i),o))}(n,e)}function __PRIVATE_queryCollectionGroup(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function __PRIVATE_newQueryComparator(n){return(e,t)=>{let i=!1;for(const o of __PRIVATE_queryNormalizedOrderBy(n)){const s=__PRIVATE_compareDocs(o,e,t);if(s!==0)return s;i=i||o.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(n,e,t){const i=n.field.isKeyField()?DocumentKey.comparator(e.key,t.key):function(s,l,c){const w=l.data.field(s),er=c.data.field(s);return w!==null&&er!==null?__PRIVATE_valueCompare(w,er):fail(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fail(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,s]of i)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(t,i)=>{for(const[o,s]of i)e(o,s)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return Tt}const It=new SortedMap(DocumentKey.comparator);function documentMap(...n){let e=It;for(const t of n)e=e.insert(t.key,t);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(n){let e=It;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(n=>n.toString(),(n,e)=>n.isEqual(e))}const Et=new SortedMap(DocumentKey.comparator),dt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...n){let e=dt;for(const t of n)e=e.add(t);return e}const At=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return At}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(n){return{integerValue:""+n}}function toNumber(n,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(n,e,t){return n instanceof __PRIVATE_ServerTimestampTransform?function(o,s){const l={fields:{[rt]:{stringValue:nt},[st]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&__PRIVATE_isServerTimestamp(s)&&(s=__PRIVATE_getPreviousValue(s)),s&&(l.fields[it]=s),{mapValue:l}}(t,e):n instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(n,e):n instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(n,e):function(o,s){const l=__PRIVATE_computeTransformOperationBaseValue(o,s),c=asNumber(l)+asNumber(o.Re);return isInteger(l)&&isInteger(o.Re)?__PRIVATE_toInteger(c):__PRIVATE_toDouble(o.serializer,c)}(n,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(n,e,t){return n instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(n,e):n instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(n,e):t}function __PRIVATE_computeTransformOperationBaseValue(n,e){return n instanceof __PRIVATE_NumericIncrementTransformOperation?function(i){return isInteger(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(n,e){const t=__PRIVATE_coercedFieldValuesArray(e);for(const i of n.elements)t.some(o=>__PRIVATE_valueEquals(o,i))||t.push(i);return{arrayValue:{values:t}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(n,e){let t=__PRIVATE_coercedFieldValuesArray(e);for(const i of n.elements)t=t.filter(o=>!__PRIVATE_valueEquals(o,i));return{arrayValue:{values:t}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,t){super(),this.serializer=e,this.Re=t}}function asNumber(n){return __PRIVATE_normalizeNumber(n.integerValue||n.doubleValue)}function __PRIVATE_coercedFieldValuesArray(n){return isArray$1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(e,t){this.field=e,this.transform=t}}function __PRIVATE_fieldTransformEquals(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof __PRIVATE_ArrayUnionTransformOperation&&o instanceof __PRIVATE_ArrayUnionTransformOperation||i instanceof __PRIVATE_ArrayRemoveTransformOperation&&o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(i.elements,o.elements,__PRIVATE_valueEquals):i instanceof __PRIVATE_NumericIncrementTransformOperation&&o instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(i.Re,o.Re):i instanceof __PRIVATE_ServerTimestampTransform&&o instanceof __PRIVATE_ServerTimestampTransform}(n.transform,e.transform)}class MutationResult{constructor(e,t){this.version=e,this.transformResults=t}}class Precondition{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new __PRIVATE_DeleteMutation(n.key,Precondition.none()):new __PRIVATE_SetMutation(n.key,n.data,Precondition.none());{const t=n.data,i=ObjectValue.empty();let o=new SortedSet(FieldPath$1.comparator);for(let s of e.fields)if(!o.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?i.delete(s):i.set(s,l),o=o.add(s)}return new __PRIVATE_PatchMutation(n.key,i,new FieldMask(o.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(n,e,t){n instanceof __PRIVATE_SetMutation?function(o,s,l){const c=o.value.clone(),w=__PRIVATE_serverTransformResults(o.fieldTransforms,s,l.transformResults);c.setAll(w),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof __PRIVATE_PatchMutation?function(o,s,l){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,s))return void s.convertToUnknownDocument(l.version);const c=__PRIVATE_serverTransformResults(o.fieldTransforms,s,l.transformResults),w=s.data;w.setAll(__PRIVATE_getPatch(o)),w.setAll(c),s.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(n,e,t):function(o,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function __PRIVATE_mutationApplyToLocalView(n,e,t,i){return n instanceof __PRIVATE_SetMutation?function(s,l,c,w){if(!__PRIVATE_preconditionIsValidForDocument(s.precondition,l))return c;const er=s.value.clone(),nr=__PRIVATE_localTransformResults(s.fieldTransforms,w,l);return er.setAll(nr),l.convertToFoundDocument(l.version,er).setHasLocalMutations(),null}(n,e,t,i):n instanceof __PRIVATE_PatchMutation?function(s,l,c,w){if(!__PRIVATE_preconditionIsValidForDocument(s.precondition,l))return c;const er=__PRIVATE_localTransformResults(s.fieldTransforms,w,l),nr=l.data;return nr.setAll(__PRIVATE_getPatch(s)),nr.setAll(er),l.convertToFoundDocument(l.version,nr).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(rr=>rr.field))}(n,e,t,i):function(s,l,c){return __PRIVATE_preconditionIsValidForDocument(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function __PRIVATE_mutationExtractBaseValue(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),s=__PRIVATE_computeTransformOperationBaseValue(i.transform,o||null);s!=null&&(t===null&&(t=ObjectValue.empty()),t.set(i.field,s))}return t||null}function __PRIVATE_mutationEquals(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&__PRIVATE_arrayEquals(i,o,(s,l)=>__PRIVATE_fieldTransformEquals(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,t,i,o,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function __PRIVATE_serverTransformResults(n,e,t){const i=new Map;__PRIVATE_hardAssert(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const s=n[o],l=s.transform,c=e.data.field(s.field);i.set(s.field,__PRIVATE_applyTransformOperationToRemoteDocument(l,c,t[o]))}return i}function __PRIVATE_localTransformResults(n,e,t){const i=new Map;for(const o of n){const s=o.transform,l=t.data.field(o.field);i.set(o.field,__PRIVATE_applyTransformOperationToLocalView(s,l,e))}return i}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(s,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=__PRIVATE_newMutationMap();return this.mutations.forEach(o=>{const s=e.get(o.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=t.has(o.key)?null:c;const w=__PRIVATE_calculateOverlayMutation(l,c);w!==null&&i.set(o.key,w),l.isValidDocument()||l.convertToNoDocument(SnapshotVersion.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(t,i)=>__PRIVATE_mutationEquals(t,i))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(t,i)=>__PRIVATE_mutationEquals(t,i))}}class MutationBatchResult{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){__PRIVATE_hardAssert(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return Et}();const s=e.mutations;for(let l=0;l<s.length;l++)o=o.insert(s[l].key,i[l].version);return new MutationBatchResult(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Vt;function __PRIVATE_isPermanentError(n){switch(n){case x.OK:return fail(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return fail(15467,{code:n})}}function __PRIVATE_mapCodeFromRpcCode(n){if(n===void 0)return __PRIVATE_logError("GRPC error has no .code"),x.UNKNOWN;switch(n){case Rt.OK:return x.OK;case Rt.CANCELLED:return x.CANCELLED;case Rt.UNKNOWN:return x.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return x.INTERNAL;case Rt.UNAVAILABLE:return x.UNAVAILABLE;case Rt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Rt.NOT_FOUND:return x.NOT_FOUND;case Rt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Rt.ABORTED:return x.ABORTED;case Rt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Rt.DATA_LOSS:return x.DATA_LOSS;default:return fail(39323,{code:n})}}(Vt=Rt||(Rt={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(n){const e=__PRIVATE_newTextEncoder().encode(n),t=new Md5;return t.update(e),new Uint8Array(t.digest())}function __PRIVATE_get64BitUints(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Integer([t,i],0),new Integer([o,s],0)]}class BloomFilter{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${t}`);if(i<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Integer.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Integer.fromNumber(i)));return o.compare(ft)===1&&(o=new Integer([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=__PRIVATE_getMd5HashValue(e),[i,o]=__PRIVATE_get64BitUints(t);for(let s=0;s<this.hashCount;s++){const l=this.we(i,o,s);if(!this.be(l))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new BloomFilter(s,o,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=__PRIVATE_getMd5HashValue(e),[i,o]=__PRIVATE_get64BitUints(t);for(let s=0;s<this.hashCount;s++){const l=this.we(i,o,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,t,i,o,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new RemoteEvent(SnapshotVersion.min(),o,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,t,i,o,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new TargetChange(i,t,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class __PRIVATE_ExistenceFilterChange{constructor(e,t){this.targetId=e,this.Ce=t}}class __PRIVATE_WatchTargetChange{constructor(e,t,i=ByteString.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class __PRIVATE_TargetState{constructor(){this.Fe=0,this.Me=__PRIVATE_snapshotChangesMap(),this.xe=ByteString.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=__PRIVATE_documentKeySet(),t=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return this.Me.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:fail(38017,{changeType:s})}}),new TargetChange(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=__PRIVATE_snapshotChangesMap()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,__PRIVATE_hardAssert(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.ze=e,this.je=new Map,this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:fail(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const s=o.target;if(__PRIVATE_targetIsDocumentTarget(s))if(i===0){const l=new DocumentKey(s.path);this.tt(t,l,MutableDocument.newNoDocument(l,SnapshotVersion.min()))}else __PRIVATE_hardAssert(i===1,20013,{expectedCount:i});else{const l=this.ut(t);if(l!==i){const c=this.ct(e),w=c?this.lt(c,e,l):1;if(w!==0){this.st(t);const er=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,er)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=t;let l,c;try{l=__PRIVATE_normalizeByteString(i).toUint8Array()}catch(w){if(w instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{c=new BloomFilter(l,o,s)}catch(w){return __PRIVATE_logWarn(w instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(s=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,s,null),o++)}),o}It(e){const t=new Map;this.je.forEach((s,l)=>{const c=this._t(l);if(c){if(s.current&&__PRIVATE_targetIsDocumentTarget(c.target)){const w=new DocumentKey(c.target.path);this.Et(w).has(l)||this.dt(l,w)||this.tt(l,w,MutableDocument.newNoDocument(w,e))}s.Le&&(t.set(l,s.qe()),s.Qe())}});let i=__PRIVATE_documentKeySet();this.Ye.forEach((s,l)=>{let c=!0;l.forEachWhile(w=>{const er=this._t(w);return!er||er.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.He.forEach((s,l)=>l.setReadTime(e));const o=new RemoteEvent(e,t,this.Ze,this.He,i);return this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new __PRIVATE_TargetState,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new SortedSet(__PRIVATE_primitiveComparator),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new __PRIVATE_TargetState),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const gt={asc:"ASCENDING",desc:"DESCENDING"},pt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yt={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function __PRIVATE_toInt32Proto(n,e){return n.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(n,e){return toTimestamp(n,e.toTimestamp())}function __PRIVATE_fromVersion(n){return __PRIVATE_hardAssert(!!n,49232),SnapshotVersion.fromTimestamp(function(t){const i=__PRIVATE_normalizeTimestamp(t);return new Timestamp(i.seconds,i.nanos)}(n))}function __PRIVATE_toResourceName(n,e){return __PRIVATE_toResourcePath(n,e).canonicalString()}function __PRIVATE_toResourcePath(n,e){const t=function(o){return new ResourcePath(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function __PRIVATE_fromResourceName(n){const e=ResourcePath.fromString(n);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e),10190,{key:e.toString()}),e}function __PRIVATE_toName(n,e){return __PRIVATE_toResourceName(n.databaseId,e.path)}function fromName(n,e){const t=__PRIVATE_fromResourceName(e);if(t.get(1)!==n.databaseId.projectId)throw new FirestoreError(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new FirestoreError(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(t))}function __PRIVATE_toQueryPath(n,e){return __PRIVATE_toResourceName(n.databaseId,e)}function __PRIVATE_fromQueryPath(n){const e=__PRIVATE_fromResourceName(n);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(n){return new ResourcePath(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(n){return __PRIVATE_hardAssert(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function __PRIVATE_toMutationDocument(n,e,t){return{name:__PRIVATE_toName(n,e),fields:t.value.mapValue.fields}}function __PRIVATE_fromDocument(n,e,t){const i=fromName(n,e.name),o=__PRIVATE_fromVersion(e.updateTime),s=e.createTime?__PRIVATE_fromVersion(e.createTime):SnapshotVersion.min(),l=new ObjectValue({mapValue:{fields:e.fields}}),c=MutableDocument.newFoundDocument(i,o,s,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function __PRIVATE_fromBatchGetDocumentsResponse(n,e){return"found"in e?function(i,o){__PRIVATE_hardAssert(!!o.found,43571),o.found.name,o.found.updateTime;const s=fromName(i,o.found.name),l=__PRIVATE_fromVersion(o.found.updateTime),c=o.found.createTime?__PRIVATE_fromVersion(o.found.createTime):SnapshotVersion.min(),w=new ObjectValue({mapValue:{fields:o.found.fields}});return MutableDocument.newFoundDocument(s,l,c,w)}(n,e):"missing"in e?function(i,o){__PRIVATE_hardAssert(!!o.missing,3894),__PRIVATE_hardAssert(!!o.readTime,22933);const s=fromName(i,o.missing),l=__PRIVATE_fromVersion(o.readTime);return MutableDocument.newNoDocument(s,l)}(n,e):fail(7234,{result:e})}function __PRIVATE_fromWatchChange(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(er){return er==="NO_CHANGE"?0:er==="ADD"?1:er==="REMOVE"?2:er==="CURRENT"?3:er==="RESET"?4:fail(39313,{state:er})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(er,nr){return er.useProto3Json?(__PRIVATE_hardAssert(nr===void 0||typeof nr=="string",58123),ByteString.fromBase64String(nr||"")):(__PRIVATE_hardAssert(nr===void 0||nr instanceof Buffer||nr instanceof Uint8Array,16193),ByteString.fromUint8Array(nr||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(er){const nr=er.code===void 0?x.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(er.code);return new FirestoreError(nr,er.message||"")}(l);t=new __PRIVATE_WatchTargetChange(i,o,s,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=fromName(n,i.document.name),s=__PRIVATE_fromVersion(i.document.updateTime),l=i.document.createTime?__PRIVATE_fromVersion(i.document.createTime):SnapshotVersion.min(),c=new ObjectValue({mapValue:{fields:i.document.fields}}),w=MutableDocument.newFoundDocument(o,s,l,c),er=i.targetIds||[],nr=i.removedTargetIds||[];t=new __PRIVATE_DocumentWatchChange(er,nr,w.key,w)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=fromName(n,i.document),s=i.readTime?__PRIVATE_fromVersion(i.readTime):SnapshotVersion.min(),l=MutableDocument.newNoDocument(o,s),c=i.removedTargetIds||[];t=new __PRIVATE_DocumentWatchChange([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=fromName(n,i.document),s=i.removedTargetIds||[];t=new __PRIVATE_DocumentWatchChange([],s,o,null)}else{if(!("filter"in e))return fail(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:s}=i,l=new ExistenceFilter(o,s),c=i.targetId;t=new __PRIVATE_ExistenceFilterChange(c,l)}}return t}function toMutation(n,e){let t;if(e instanceof __PRIVATE_SetMutation)t={update:__PRIVATE_toMutationDocument(n,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)t={delete:__PRIVATE_toName(n,e.key)};else if(e instanceof __PRIVATE_PatchMutation)t={update:__PRIVATE_toMutationDocument(n,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail(16599,{ft:e.type});t={verify:__PRIVATE_toName(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const c=l.transform;if(c instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw fail(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fail(27497)}(n,e.precondition)),t}function __PRIVATE_fromMutation(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Precondition.updateTime(__PRIVATE_fromVersion(s.updateTime)):s.exists!==void 0?Precondition.exists(s.exists):Precondition.none()}(e.currentDocument):Precondition.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(l,c){let w=null;if("setToServerValue"in c)__PRIVATE_hardAssert(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),w=new __PRIVATE_ServerTimestampTransform;else if("appendMissingElements"in c){const nr=c.appendMissingElements.values||[];w=new __PRIVATE_ArrayUnionTransformOperation(nr)}else if("removeAllFromArray"in c){const nr=c.removeAllFromArray.values||[];w=new __PRIVATE_ArrayRemoveTransformOperation(nr)}else"increment"in c?w=new __PRIVATE_NumericIncrementTransformOperation(l,c.increment):fail(16584,{proto:c});const er=FieldPath$1.fromServerFormat(c.fieldPath);return new FieldTransform(er,w)}(n,o)):[];if(e.update){e.update.name;const o=fromName(n,e.update.name),s=new ObjectValue({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(w){const er=w.fieldPaths||[];return new FieldMask(er.map(nr=>FieldPath$1.fromServerFormat(nr)))}(e.updateMask);return new __PRIVATE_PatchMutation(o,s,l,t,i)}return new __PRIVATE_SetMutation(o,s,t,i)}if(e.delete){const o=fromName(n,e.delete);return new __PRIVATE_DeleteMutation(o,t)}if(e.verify){const o=fromName(n,e.verify);return new __PRIVATE_VerifyMutation(o,t)}return fail(1463,{proto:e})}function __PRIVATE_fromWriteResults(n,e){return n&&n.length>0?(__PRIVATE_hardAssert(e!==void 0,14353),n.map(t=>function(o,s){let l=o.updateTime?__PRIVATE_fromVersion(o.updateTime):__PRIVATE_fromVersion(s);return l.isEqual(SnapshotVersion.min())&&(l=__PRIVATE_fromVersion(s)),new MutationResult(l,o.transformResults||[])}(t,e))):[]}function __PRIVATE_toDocumentsTarget(n,e){return{documents:[__PRIVATE_toQueryPath(n,e.path)]}}function __PRIVATE_toQueryTarget(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=__PRIVATE_toQueryPath(n,o);const s=function(er){if(er.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(er,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(er){if(er.length!==0)return er.map(nr=>function(or){return{field:__PRIVATE_toFieldPathReference(or.field),direction:__PRIVATE_toDirection(or.dir)}}(nr))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=__PRIVATE_toInt32Proto(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(er){return{before:er.inclusive,values:er.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(er){return{before:!er.inclusive,values:er.position}}(e.endAt)),{gt:t,parent:o}}function __PRIVATE_convertQueryTargetToQuery(n){let e=__PRIVATE_fromQueryPath(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){__PRIVATE_hardAssert(i===1,65062);const nr=t.from[0];nr.allDescendants?o=nr.collectionId:e=e.child(nr.collectionId)}let s=[];t.where&&(s=function(rr){const or=__PRIVATE_fromFilter(rr);return or instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(or)?or.getFilters():[or]}(t.where));let l=[];t.orderBy&&(l=function(rr){return rr.map(or=>function(dr){return new OrderBy(__PRIVATE_fromFieldPathReference(dr.field),function(gr){switch(gr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dr.direction))}(or))}(t.orderBy));let c=null;t.limit&&(c=function(rr){let or;return or=typeof rr=="object"?rr.value:rr,__PRIVATE_isNullOrUndefined(or)?null:or}(t.limit));let w=null;t.startAt&&(w=function(rr){const or=!!rr.before,sr=rr.values||[];return new Bound(sr,or)}(t.startAt));let er=null;return t.endAt&&(er=function(rr){const or=!rr.before,sr=rr.values||[];return new Bound(sr,or)}(t.endAt)),__PRIVATE_newQuery(e,o,l,s,c,"F",w,er)}function __PRIVATE_toListenRequestLabels(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function __PRIVATE_fromFilter(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=__PRIVATE_fromFieldPathReference(t.unaryFilter.field);return FieldFilter.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=__PRIVATE_fromFieldPathReference(t.unaryFilter.field);return FieldFilter.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=__PRIVATE_fromFieldPathReference(t.unaryFilter.field);return FieldFilter.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=__PRIVATE_fromFieldPathReference(t.unaryFilter.field);return FieldFilter.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(n):n.fieldFilter!==void 0?function(t){return FieldFilter.create(__PRIVATE_fromFieldPathReference(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return CompositeFilter.create(t.compositeFilter.filters.map(i=>__PRIVATE_fromFilter(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(t.compositeFilter.op))}(n):fail(30097,{filter:n})}function __PRIVATE_toDirection(n){return gt[n]}function __PRIVATE_toOperatorName(n){return pt[n]}function __PRIVATE_toCompositeOperatorName(n){return yt[n]}function __PRIVATE_toFieldPathReference(n){return{fieldPath:n.canonicalString()}}function __PRIVATE_fromFieldPathReference(n){return FieldPath$1.fromServerFormat(n.fieldPath)}function __PRIVATE_toFilter(n){return n instanceof FieldFilter?function(t){if(t.op==="=="){if(__PRIVATE_isNanValue(t.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(t.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(t.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(__PRIVATE_isNanValue(t.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(t.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(t.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(t.field),op:__PRIVATE_toOperatorName(t.op),value:t.value}}}(n):n instanceof CompositeFilter?function(t){const i=t.getFilters().map(o=>__PRIVATE_toFilter(o));return i.length===1?i[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(t.op),filters:i}}}(n):fail(54877,{filter:n})}function __PRIVATE_toDocumentMask(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,t,i,o,s=SnapshotVersion.min(),l=SnapshotVersion.min(),c=ByteString.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=w}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.wt=e}}function __PRIVATE_fromDbRemoteDocument(n,e){let t;if(e.document)t=__PRIVATE_fromDocument(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=DocumentKey.fromSegments(e.noDocument.path),o=__PRIVATE_fromDbTimestamp(e.noDocument.readTime);t=MutableDocument.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fail(56709);{const i=DocumentKey.fromSegments(e.unknownDocument.path),o=__PRIVATE_fromDbTimestamp(e.unknownDocument.version);t=MutableDocument.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(o){const s=new Timestamp(o[0],o[1]);return SnapshotVersion.fromTimestamp(s)}(e.readTime)),t}function __PRIVATE_toDbRemoteDocument(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:__PRIVATE_toDbTimestampKey(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,l){return{name:__PRIVATE_toName(s,l.key),fields:l.data.value.mapValue.fields,updateTime:toTimestamp(s,l.version.toTimestamp()),createTime:toTimestamp(s,l.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:__PRIVATE_toDbTimestamp(e.version)};else{if(!e.isUnknownDocument())return fail(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:__PRIVATE_toDbTimestamp(e.version)}}return i}function __PRIVATE_toDbTimestampKey(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function __PRIVATE_toDbTimestamp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function __PRIVATE_fromDbTimestamp(n){const e=new Timestamp(n.seconds,n.nanoseconds);return SnapshotVersion.fromTimestamp(e)}function __PRIVATE_fromDbMutationBatch(n,e){const t=(e.baseMutations||[]).map(s=>__PRIVATE_fromMutation(n.wt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const i=e.mutations.map(s=>__PRIVATE_fromMutation(n.wt,s)),o=Timestamp.fromMillis(e.localWriteTimeMs);return new MutationBatch(e.batchId,o,t,i)}function __PRIVATE_fromDbTarget(n){const e=__PRIVATE_fromDbTimestamp(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?__PRIVATE_fromDbTimestamp(n.lastLimboFreeSnapshotVersion):SnapshotVersion.min();let i;return i=function(s){return s.documents!==void 0}(n.query)?function(s){const l=s.documents.length;return __PRIVATE_hardAssert(l===1,1966,{count:l}),__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(__PRIVATE_fromQueryPath(s.documents[0])))}(n.query):function(s){return __PRIVATE_queryToTarget(__PRIVATE_convertQueryTargetToQuery(s))}(n.query),new TargetData(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ByteString.fromBase64String(n.resumeToken))}function __PRIVATE_toDbTarget(n,e){const t=__PRIVATE_toDbTimestamp(e.snapshotVersion),i=__PRIVATE_toDbTimestamp(e.lastLimboFreeSnapshotVersion);let o;o=__PRIVATE_targetIsDocumentTarget(e.target)?__PRIVATE_toDocumentsTarget(n.wt,e.target):__PRIVATE_toQueryTarget(n.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:__PRIVATE_canonifyTarget(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function __PRIVATE_fromBundledQuery(n){const e=__PRIVATE_convertQueryTargetToQuery({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}function __PRIVATE_fromDbDocumentOverlay(n,e){return new Overlay(e.largestBatchId,__PRIVATE_fromMutation(n.wt,e.overlayMutation))}function __PRIVATE_toDbDocumentOverlayKey(n,e){const t=e.path.lastSegment();return[n,__PRIVATE_encodeResourcePath(e.path.popLast()),t]}function __PRIVATE_toDbIndexState(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:__PRIVATE_toDbTimestamp(i.readTime),documentKey:__PRIVATE_encodeResourcePath(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbBundleCache{getBundleMetadata(e,t){return __PRIVATE_bundlesStore(e).get(t).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:__PRIVATE_fromDbTimestamp(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,t){return __PRIVATE_bundlesStore(e).put(function(o){return{bundleId:o.id,createTime:__PRIVATE_toDbTimestamp(__PRIVATE_fromVersion(o.createTime)),version:o.version}}(t))}getNamedQuery(e,t){return __PRIVATE_namedQueriesStore(e).get(t).next(i=>{if(i)return function(s){return{name:s.name,query:__PRIVATE_fromBundledQuery(s.bundledQuery),readTime:__PRIVATE_fromDbTimestamp(s.readTime)}}(i)})}saveNamedQuery(e,t){return __PRIVATE_namedQueriesStore(e).put(function(o){return{name:o.name,readTime:__PRIVATE_toDbTimestamp(__PRIVATE_fromVersion(o.readTime)),bundledQuery:o.bundledQuery}}(t))}}function __PRIVATE_bundlesStore(n){return __PRIVATE_getStore(n,pe)}function __PRIVATE_namedQueriesStore(n){return __PRIVATE_getStore(n,we)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbDocumentOverlayCache{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const i=t.uid||"";return new __PRIVATE_IndexedDbDocumentOverlayCache(e,i)}getOverlay(e,t){return __PRIVATE_documentOverlayStore(e).get(__PRIVATE_toDbDocumentOverlayKey(this.userId,t)).next(i=>i?__PRIVATE_fromDbDocumentOverlay(this.serializer,i):null)}getOverlays(e,t){const i=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(t,o=>this.getOverlay(e,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(e,t,i){const o=[];return i.forEach((s,l)=>{const c=new Overlay(t,l);o.push(this.St(e,c))}),PersistencePromise.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(l=>o.add(__PRIVATE_encodeResourcePath(l.getCollectionPath())));const s=[];return o.forEach(l=>{const c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(__PRIVATE_documentOverlayStore(e).X($e,c))}),PersistencePromise.waitFor(s)}getOverlaysForCollection(e,t,i){const o=__PRIVATE_newOverlayMap(),s=__PRIVATE_encodeResourcePath(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore(e).J($e,l).next(c=>{for(const w of c){const er=__PRIVATE_fromDbDocumentOverlay(this.serializer,w);o.set(er.getKey(),er)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const s=__PRIVATE_newOverlayMap();let l;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore(e).te({index:Ke,range:c},(w,er,nr)=>{const rr=__PRIVATE_fromDbDocumentOverlay(this.serializer,er);s.size()<o||rr.largestBatchId===l?(s.set(rr.getKey(),rr),l=rr.largestBatchId):nr.done()}).next(()=>s)}St(e,t){return __PRIVATE_documentOverlayStore(e).put(function(o,s,l){const[c,w,er]=__PRIVATE_toDbDocumentOverlayKey(s,l.mutation.key);return{userId:s,collectionPath:w,documentId:er,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:toMutation(o.wt,l.mutation)}}(this.serializer,this.userId,t))}}function __PRIVATE_documentOverlayStore(n){return __PRIVATE_getStore(n,qe)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbGlobalsCache{Dt(e){return __PRIVATE_getStore(e,Ge)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const i=t==null?void 0:t.value;return i?ByteString.fromUint8Array(i):ByteString.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_FirestoreIndexValueWriter{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(__PRIVATE_normalizeNumber(e.integerValue));else if("doubleValue"in e){const i=__PRIVATE_normalizeNumber(e.doubleValue);isNaN(i)?this.Mt(t,13):(this.Mt(t,15),__PRIVATE_isNegativeZero(i)?t.xt(0):t.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(t,20),typeof i=="string"&&(i=__PRIVATE_normalizeTimestamp(i)),t.Ot(`${i.seconds||""}`),t.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(__PRIVATE_normalizeByteString(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Mt(t,45),t.xt(i.latitude||0),t.xt(i.longitude||0)}else"mapValue"in e?__PRIVATE_isMaxValue(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):__PRIVATE_isVectorValue(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):fail(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const i=e.fields||{};this.Mt(t,55);for(const o of Object.keys(i))this.Nt(o,t),this.Ct(i[o],t)}qt(e,t){var i,o;const s=e.fields||{};this.Mt(t,53);const l=lt,c=((o=(i=s[l].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.length)||0;this.Mt(t,15),t.xt(__PRIVATE_normalizeNumber(c)),this.Nt(l,t),this.Ct(s[l],t)}$t(e,t){const i=e.values||[];this.Mt(t,50);for(const o of i)this.Ct(o,t)}kt(e,t){this.Mt(t,37),DocumentKey.fromName(e).path.forEach(i=>{this.Mt(t,60),this.Kt(i,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}__PRIVATE_FirestoreIndexValueWriter.Wt=new __PRIVATE_FirestoreIndexValueWriter;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=255;function __PRIVATE_numberOfLeadingZerosInByte(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function __PRIVATE_unsignedNumLength(n){const e=64-function(i){let o=0;for(let s=0;s<8;++s){const l=__PRIVATE_numberOfLeadingZerosInByte(255&i[s]);if(o+=l,l!==8)break}return o}(n);return Math.ceil(e/8)}class __PRIVATE_OrderedCodeWriter{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.zt(i.value),i=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Yt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.zt(i);else if(i<2048)this.zt(960|i>>>6),this.zt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i);else{const o=t.codePointAt(0);this.zt(240|o>>>18),this.zt(128|63&o>>>12),this.zt(128|63&o>>>6),this.zt(128|63&o)}}this.jt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const o=t.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Yt()}en(e){const t=this.tn(e),i=__PRIVATE_unsignedNumLength(t);this.nn(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}rn(e){const t=this.tn(e),i=__PRIVATE_unsignedNumLength(t);this.nn(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}sn(){this._n(wt),this._n(255)}an(){this.un(wt),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===wt?(this._n(wt),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===wt?(this.un(wt),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class __PRIVATE_AscendingIndexByteEncoder{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class __PRIVATE_DescendingIndexByteEncoder{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class __PRIVATE_IndexByteEncoder{constructor(){this.ln=new __PRIVATE_OrderedCodeWriter,this.hn=new __PRIVATE_AscendingIndexByteEncoder(this.ln),this.Pn=new __PRIVATE_DescendingIndexByteEncoder(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexEntry{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new __PRIVATE_IndexEntry(this.indexId,this.documentKey,this.arrayValue,i)}}function __PRIVATE_indexEntryComparator(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=__PRIVATE_compareByteArrays(n.arrayValue,e.arrayValue),t!==0?t:(t=__PRIVATE_compareByteArrays(n.directionalValue,e.directionalValue),t!==0?t:DocumentKey.comparator(n.documentKey,e.documentKey)))}function __PRIVATE_compareByteArrays(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIndexMatcher{constructor(e){this.En=new SortedSet((t,i)=>FieldPath$1.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const i=t;i.isInequality()?this.En=this.En.add(i):this.An.push(i)}}get Rn(){return this.En.size>1}Vn(e){if(__PRIVATE_hardAssert(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=__PRIVATE_fieldIndexGetArraySegment(e);if(t!==void 0&&!this.mn(t))return!1;const i=__PRIVATE_fieldIndexGetDirectionalSegments(e);let o=new Set,s=0,l=0;for(;s<i.length&&this.mn(i[s]);++s)o=o.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.En.size>0){const c=this.En.getIterator().getNext();if(!o.has(c.field.canonicalString())){const w=i[s];if(!this.fn(c,w)||!this.gn(this.dn[l++],w))return!1}++s}for(;s<i.length;++s){const c=i[s];if(l>=this.dn.length||!this.gn(this.dn[l++],c))return!1}return!0}pn(){if(this.Rn)return null;let e=new SortedSet(FieldPath$1.comparator);const t=[];for(const i of this.An)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new IndexSegment(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new IndexSegment(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new IndexSegment(i.field,i.dir==="asc"?0:1)));return new FieldIndex(FieldIndex.UNKNOWN_ID,this.collectionId,t,IndexState.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_computeInExpansion(n){var e,t;if(__PRIVATE_hardAssert(n instanceof FieldFilter||n instanceof CompositeFilter,20012),n instanceof FieldFilter){if(n instanceof __PRIVATE_InFilter){const o=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>FieldFilter.create(n.field,"==",s)))||[];return CompositeFilter.create(o,"or")}return n}const i=n.filters.map(o=>__PRIVATE_computeInExpansion(o));return CompositeFilter.create(i,n.op)}function __PRIVATE_getDnfTerms(n){if(n.getFilters().length===0)return[];const e=__PRIVATE_computeDistributedNormalForm(__PRIVATE_computeInExpansion(n));return __PRIVATE_hardAssert(__PRIVATE_isDisjunctiveNormalForm(e),7391),__PRIVATE_isSingleFieldFilter(e)||__PRIVATE_isFlatConjunction(e)?[e]:e.getFilters()}function __PRIVATE_isSingleFieldFilter(n){return n instanceof FieldFilter}function __PRIVATE_isFlatConjunction(n){return n instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(n)}function __PRIVATE_isDisjunctiveNormalForm(n){return __PRIVATE_isSingleFieldFilter(n)||__PRIVATE_isFlatConjunction(n)||function(t){if(t instanceof CompositeFilter&&__PRIVATE_compositeFilterIsDisjunction(t)){for(const i of t.getFilters())if(!__PRIVATE_isSingleFieldFilter(i)&&!__PRIVATE_isFlatConjunction(i))return!1;return!0}return!1}(n)}function __PRIVATE_computeDistributedNormalForm(n){if(__PRIVATE_hardAssert(n instanceof FieldFilter||n instanceof CompositeFilter,34018),n instanceof FieldFilter)return n;if(n.filters.length===1)return __PRIVATE_computeDistributedNormalForm(n.filters[0]);const e=n.filters.map(i=>__PRIVATE_computeDistributedNormalForm(i));let t=CompositeFilter.create(e,n.op);return t=__PRIVATE_applyAssociation(t),__PRIVATE_isDisjunctiveNormalForm(t)?t:(__PRIVATE_hardAssert(t instanceof CompositeFilter,64498),__PRIVATE_hardAssert(__PRIVATE_compositeFilterIsConjunction(t),40251),__PRIVATE_hardAssert(t.filters.length>1,57927),t.filters.reduce((i,o)=>__PRIVATE_applyDistribution(i,o)))}function __PRIVATE_applyDistribution(n,e){let t;return __PRIVATE_hardAssert(n instanceof FieldFilter||n instanceof CompositeFilter,38388),__PRIVATE_hardAssert(e instanceof FieldFilter||e instanceof CompositeFilter,25473),t=n instanceof FieldFilter?e instanceof FieldFilter?function(o,s){return CompositeFilter.create([o,s],"and")}(n,e):__PRIVATE_applyDistributionFieldAndCompositeFilters(n,e):e instanceof FieldFilter?__PRIVATE_applyDistributionFieldAndCompositeFilters(e,n):function(o,s){if(__PRIVATE_hardAssert(o.filters.length>0&&s.filters.length>0,48005),__PRIVATE_compositeFilterIsConjunction(o)&&__PRIVATE_compositeFilterIsConjunction(s))return __PRIVATE_compositeFilterWithAddedFilters(o,s.getFilters());const l=__PRIVATE_compositeFilterIsDisjunction(o)?o:s,c=__PRIVATE_compositeFilterIsDisjunction(o)?s:o,w=l.filters.map(er=>__PRIVATE_applyDistribution(er,c));return CompositeFilter.create(w,"or")}(n,e),__PRIVATE_applyAssociation(t)}function __PRIVATE_applyDistributionFieldAndCompositeFilters(n,e){if(__PRIVATE_compositeFilterIsConjunction(e))return __PRIVATE_compositeFilterWithAddedFilters(e,n.getFilters());{const t=e.filters.map(i=>__PRIVATE_applyDistribution(n,i));return CompositeFilter.create(t,"or")}}function __PRIVATE_applyAssociation(n){if(__PRIVATE_hardAssert(n instanceof FieldFilter||n instanceof CompositeFilter,11850),n instanceof FieldFilter)return n;const e=n.getFilters();if(e.length===1)return __PRIVATE_applyAssociation(e[0]);if(__PRIVATE_compositeFilterIsFlat(n))return n;const t=e.map(o=>__PRIVATE_applyAssociation(o)),i=[];return t.forEach(o=>{o instanceof FieldFilter?i.push(o):o instanceof CompositeFilter&&(o.op===n.op?i.push(...o.filters):i.push(o))}),i.length===1?i[0]:CompositeFilter.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.yn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,t){return this.yn.add(t),PersistencePromise.resolve()}getCollectionParents(e,t){return PersistencePromise.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return PersistencePromise.resolve()}deleteFieldIndex(e,t){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,t){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,t){return PersistencePromise.resolve(null)}getIndexType(e,t){return PersistencePromise.resolve(0)}getFieldIndexes(e,t){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,t){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,t){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,t,i){return PersistencePromise.resolve()}updateIndexEntries(e,t){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new SortedSet(ResourcePath.comparator),s=!o.has(i);return this.index[t]=o.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="IndexedDbIndexManager",St=new Uint8Array(0);class __PRIVATE_IndexedDbIndexManager{constructor(e,t){this.databaseId=t,this.wn=new __PRIVATE_MemoryCollectionParentIndex,this.bn=new ObjectMap(i=>__PRIVATE_canonifyTarget(i),(i,o)=>__PRIVATE_targetEquals(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const s={collectionId:i,parent:__PRIVATE_encodeResourcePath(o)};return __PRIVATE_collectionParentsStore(e).put(s)}return PersistencePromise.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[__PRIVATE_immediateSuccessor(t),""],!1,!0);return __PRIVATE_collectionParentsStore(e).J(o).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(__PRIVATE_decodeResourcePath(l.parent))}return i})}addFieldIndex(e,t){const i=__PRIVATE_indexConfigurationStore(e),o=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(w=>[w.fieldPath.canonicalString(),w.kind])}}(t);delete o.indexId;const s=i.add(o);if(t.indexState){const l=__PRIVATE_indexStateStore(e);return s.next(c=>{l.put(__PRIVATE_toDbIndexState(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=__PRIVATE_indexConfigurationStore(e),o=__PRIVATE_indexStateStore(e),s=__PRIVATE_indexEntriesStore(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=__PRIVATE_indexConfigurationStore(e),i=__PRIVATE_indexEntriesStore(e),o=__PRIVATE_indexStateStore(e);return t.X().next(()=>i.X()).next(()=>o.X())}createTargetIndexes(e,t){return PersistencePromise.forEach(this.Sn(t),i=>this.getIndexType(e,i).next(o=>{if(o===0||o===1){const s=new __PRIVATE_TargetIndexMatcher(i).pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const i=__PRIVATE_indexEntriesStore(e);let o=!0;const s=new Map;return PersistencePromise.forEach(this.Sn(t),l=>this.Dn(e,l).next(c=>{o&&(o=!!c),s.set(l,c)})).next(()=>{if(o){let l=__PRIVATE_documentKeySet();const c=[];return PersistencePromise.forEach(s,(w,er)=>{__PRIVATE_logDebug(bt,`Using index ${function(Sr){return`id=${Sr.indexId}|cg=${Sr.collectionGroup}|f=${Sr.fields.map(Ar=>`${Ar.fieldPath}:${Ar.kind}`).join(",")}`}(w)} to execute ${__PRIVATE_canonifyTarget(t)}`);const nr=function(Sr,Ar){const Mr=__PRIVATE_fieldIndexGetArraySegment(Ar);if(Mr===void 0)return null;for(const Fr of __PRIVATE_targetGetFieldFiltersForPath(Sr,Mr.fieldPath))switch(Fr.op){case"array-contains-any":return Fr.value.arrayValue.values||[];case"array-contains":return[Fr.value]}return null}(er,w),rr=function(Sr,Ar){const Mr=new Map;for(const Fr of __PRIVATE_fieldIndexGetDirectionalSegments(Ar))for(const Tr of __PRIVATE_targetGetFieldFiltersForPath(Sr,Fr.fieldPath))switch(Tr.op){case"==":case"in":Mr.set(Fr.fieldPath.canonicalString(),Tr.value);break;case"not-in":case"!=":return Mr.set(Fr.fieldPath.canonicalString(),Tr.value),Array.from(Mr.values())}return null}(er,w),or=function(Sr,Ar){const Mr=[];let Fr=!0;for(const Tr of __PRIVATE_fieldIndexGetDirectionalSegments(Ar)){const Er=Tr.kind===0?__PRIVATE_targetGetAscendingBound(Sr,Tr.fieldPath,Sr.startAt):__PRIVATE_targetGetDescendingBound(Sr,Tr.fieldPath,Sr.startAt);Mr.push(Er.value),Fr&&(Fr=Er.inclusive)}return new Bound(Mr,Fr)}(er,w),sr=function(Sr,Ar){const Mr=[];let Fr=!0;for(const Tr of __PRIVATE_fieldIndexGetDirectionalSegments(Ar)){const Er=Tr.kind===0?__PRIVATE_targetGetDescendingBound(Sr,Tr.fieldPath,Sr.endAt):__PRIVATE_targetGetAscendingBound(Sr,Tr.fieldPath,Sr.endAt);Mr.push(Er.value),Fr&&(Fr=Er.inclusive)}return new Bound(Mr,Fr)}(er,w),dr=this.vn(w,er,or),hr=this.vn(w,er,sr),gr=this.Cn(w,er,rr),mr=this.Fn(w.indexId,nr,dr,or.inclusive,hr,sr.inclusive,gr);return PersistencePromise.forEach(mr,vr=>i.Z(vr,t.limit).next(Sr=>{Sr.forEach(Ar=>{const Mr=DocumentKey.fromSegments(Ar.documentKey);l.has(Mr)||(l=l.add(Mr),c.push(Mr))})}))}).next(()=>c)}return PersistencePromise.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=__PRIVATE_getDnfTerms(CompositeFilter.create(e.filters,"and")).map(i=>__PRIVATE_newTarget(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,i,o,s,l,c){const w=(t!=null?t.length:1)*Math.max(i.length,s.length),er=w/(t!=null?t.length:1),nr=[];for(let rr=0;rr<w;++rr){const or=t?this.Mn(t[rr/er]):St,sr=this.xn(e,or,i[rr%er],o),dr=this.On(e,or,s[rr%er],l),hr=c.map(gr=>this.xn(e,or,gr,!0));nr.push(...this.createRange(sr,dr,hr))}return nr}xn(e,t,i,o){const s=new __PRIVATE_IndexEntry(e,DocumentKey.empty(),t,i);return o?s:s.In()}On(e,t,i,o){const s=new __PRIVATE_IndexEntry(e,DocumentKey.empty(),t,i);return o?s.In():s}Dn(e,t){const i=new __PRIVATE_TargetIndexMatcher(t),o=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(s=>{let l=null;for(const c of s)i.Vn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l})}getIndexType(e,t){let i=2;const o=this.Sn(t);return PersistencePromise.forEach(o,s=>this.Dn(e,s).next(l=>{l?i!==0&&l.fields.length<function(w){let er=new SortedSet(FieldPath$1.comparator),nr=!1;for(const rr of w.filters)for(const or of rr.getFlattenedFilters())or.field.isKeyField()||(or.op==="array-contains"||or.op==="array-contains-any"?nr=!0:er=er.add(or.field));for(const rr of w.orderBy)rr.field.isKeyField()||(er=er.add(rr.field));return er.size+(nr?1:0)}(s)&&(i=1):i=0})).next(()=>function(l){return l.limit!==null}(t)&&o.length>1&&i===2?1:i)}Nn(e,t){const i=new __PRIVATE_IndexByteEncoder;for(const o of __PRIVATE_fieldIndexGetDirectionalSegments(e)){const s=t.data.field(o.fieldPath);if(s==null)return null;const l=i.Tn(o.kind);__PRIVATE_FirestoreIndexValueWriter.Wt.vt(s,l)}return i.cn()}Mn(e){const t=new __PRIVATE_IndexByteEncoder;return __PRIVATE_FirestoreIndexValueWriter.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const i=new __PRIVATE_IndexByteEncoder;return __PRIVATE_FirestoreIndexValueWriter.Wt.vt(__PRIVATE_refValue(this.databaseId,t),i.Tn(function(s){const l=__PRIVATE_fieldIndexGetDirectionalSegments(s);return l.length===0?0:l[l.length-1].kind}(e))),i.cn()}Cn(e,t,i){if(i===null)return[];let o=[];o.push(new __PRIVATE_IndexByteEncoder);let s=0;for(const l of __PRIVATE_fieldIndexGetDirectionalSegments(e)){const c=i[s++];for(const w of o)if(this.Ln(t,l.fieldPath)&&isArray$1(c))o=this.kn(o,l,c);else{const er=w.Tn(l.kind);__PRIVATE_FirestoreIndexValueWriter.Wt.vt(c,er)}}return this.qn(o)}vn(e,t,i){return this.Cn(e,t,i.position)}qn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].cn();return t}kn(e,t,i){const o=[...e],s=[];for(const l of i.arrayValue.values||[])for(const c of o){const w=new __PRIVATE_IndexByteEncoder;w.seed(c.cn()),__PRIVATE_FirestoreIndexValueWriter.Wt.vt(l,w.Tn(t.kind)),s.push(w)}return s}Ln(e,t){return!!e.filters.find(i=>i instanceof FieldFilter&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){const i=__PRIVATE_indexConfigurationStore(e),o=__PRIVATE_indexStateStore(e);return(t?i.J(ve,IDBKeyRange.bound(t,t)):i.J()).next(s=>{const l=[];return PersistencePromise.forEach(s,c=>o.get([c.indexId,this.uid]).next(w=>{l.push(function(nr,rr){const or=rr?new IndexState(rr.sequenceNumber,new IndexOffset(__PRIVATE_fromDbTimestamp(rr.readTime),new DocumentKey(__PRIVATE_decodeResourcePath(rr.documentKey)),rr.largestBatchId)):IndexState.empty(),sr=nr.fields.map(([dr,hr])=>new IndexSegment(FieldPath$1.fromServerFormat(dr),hr));return new FieldIndex(nr.indexId,nr.collectionGroup,sr,or)}(c,w))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,o)=>{const s=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return s!==0?s:__PRIVATE_primitiveComparator(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=__PRIVATE_indexConfigurationStore(e),s=__PRIVATE_indexStateStore(e);return this.Qn(e).next(l=>o.J(ve,IDBKeyRange.bound(t,t)).next(c=>PersistencePromise.forEach(c,w=>s.put(__PRIVATE_toDbIndexState(w.indexId,this.uid,l,i)))))}updateIndexEntries(e,t){const i=new Map;return PersistencePromise.forEach(t,(o,s)=>{const l=i.get(o.collectionGroup);return(l?PersistencePromise.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(c=>(i.set(o.collectionGroup,c),PersistencePromise.forEach(c,w=>this.$n(e,o,w).next(er=>{const nr=this.Un(s,w);return er.isEqual(nr)?PersistencePromise.resolve():this.Kn(e,s,w,er,nr)}))))})}Wn(e,t,i,o){return __PRIVATE_indexEntriesStore(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.Bn(i,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,i,o){return __PRIVATE_indexEntriesStore(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.Bn(i,t.key),t.key.path.toArray()])}$n(e,t,i){const o=__PRIVATE_indexEntriesStore(e);let s=new SortedSet(__PRIVATE_indexEntryComparator);return o.te({index:Le,range:IDBKeyRange.only([i.indexId,this.uid,this.Bn(i,t)])},(l,c)=>{s=s.add(new __PRIVATE_IndexEntry(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}Un(e,t){let i=new SortedSet(__PRIVATE_indexEntryComparator);const o=this.Nn(t,e);if(o==null)return i;const s=__PRIVATE_fieldIndexGetArraySegment(t);if(s!=null){const l=e.data.field(s.fieldPath);if(isArray$1(l))for(const c of l.arrayValue.values||[])i=i.add(new __PRIVATE_IndexEntry(t.indexId,e.key,this.Mn(c),o))}else i=i.add(new __PRIVATE_IndexEntry(t.indexId,e.key,St,o));return i}Kn(e,t,i,o,s){__PRIVATE_logDebug(bt,"Updating index entries for document '%s'",t.key);const l=[];return function(w,er,nr,rr,or){const sr=w.getIterator(),dr=er.getIterator();let hr=__PRIVATE_advanceIterator(sr),gr=__PRIVATE_advanceIterator(dr);for(;hr||gr;){let mr=!1,vr=!1;if(hr&&gr){const Sr=nr(hr,gr);Sr<0?vr=!0:Sr>0&&(mr=!0)}else hr!=null?vr=!0:mr=!0;mr?(rr(gr),gr=__PRIVATE_advanceIterator(dr)):vr?(or(hr),hr=__PRIVATE_advanceIterator(sr)):(hr=__PRIVATE_advanceIterator(sr),gr=__PRIVATE_advanceIterator(dr))}}(o,s,__PRIVATE_indexEntryComparator,c=>{l.push(this.Wn(e,t,i,c))},c=>{l.push(this.Gn(e,t,i,c))}),PersistencePromise.waitFor(l)}Qn(e){let t=1;return __PRIVATE_indexStateStore(e).te({index:xe,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,s)=>{s.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,c)=>__PRIVATE_indexEntryComparator(l,c)).filter((l,c,w)=>!c||__PRIVATE_indexEntryComparator(l,w[c-1])!==0);const o=[];o.push(e);for(const l of i){const c=__PRIVATE_indexEntryComparator(l,e),w=__PRIVATE_indexEntryComparator(l,t);if(c===0)o[0]=e.In();else if(c>0&&w<0)o.push(l),o.push(l.In());else if(w>0)break}o.push(t);const s=[];for(let l=0;l<o.length;l+=2){if(this.zn(o[l],o[l+1]))return[];const c=[o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,St,[]],w=[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,St,[]];s.push(IDBKeyRange.bound(c,w))}return s}zn(e,t){return __PRIVATE_indexEntryComparator(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(__PRIVATE_getMinOffsetFromFieldIndexes)}getMinOffset(e,t){return PersistencePromise.mapArray(this.Sn(t),i=>this.Dn(e,i).next(o=>o||fail(44426))).next(__PRIVATE_getMinOffsetFromFieldIndexes)}}function __PRIVATE_collectionParentsStore(n){return __PRIVATE_getStore(n,Ve)}function __PRIVATE_indexEntriesStore(n){return __PRIVATE_getStore(n,Ne)}function __PRIVATE_indexConfigurationStore(n){return __PRIVATE_getStore(n,Se)}function __PRIVATE_indexStateStore(n){return __PRIVATE_getStore(n,Fe)}function __PRIVATE_getMinOffsetFromFieldIndexes(n){__PRIVATE_hardAssert(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;__PRIVATE_indexOffsetComparator(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new IndexOffset(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vt=41943040;class LruParams{static withCacheSize(e){return new LruParams(e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function removeMutationBatch(n,e,t){const i=n.store(Y),o=n.store(ne),s=[],l=IDBKeyRange.only(t.batchId);let c=0;const w=i.te({range:l},(nr,rr,or)=>(c++,or.delete()));s.push(w.next(()=>{__PRIVATE_hardAssert(c===1,47070,{batchId:t.batchId})}));const er=[];for(const nr of t.mutations){const rr=__PRIVATE_newDbDocumentMutationKey(e,nr.key.path,t.batchId);s.push(o.delete(rr)),er.push(nr.key)}return PersistencePromise.waitFor(s).next(()=>er)}function __PRIVATE_dbDocumentSize(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw fail(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(vt,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_IndexedDbMutationQueue{constructor(e,t,i,o){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=o,this.jn={}}static bt(e,t,i,o){__PRIVATE_hardAssert(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new __PRIVATE_IndexedDbMutationQueue(s,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(e).te({index:X,range:i},(o,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const s=__PRIVATE_documentMutationsStore(e),l=__PRIVATE_mutationsStore(e);return l.add({}).next(c=>{__PRIVATE_hardAssert(typeof c=="number",49019);const w=new MutationBatch(c,t,i,o),er=function(sr,dr,hr){const gr=hr.baseMutations.map(vr=>toMutation(sr.wt,vr)),mr=hr.mutations.map(vr=>toMutation(sr.wt,vr));return{userId:dr,batchId:hr.batchId,localWriteTimeMs:hr.localWriteTime.toMillis(),baseMutations:gr,mutations:mr}}(this.serializer,this.userId,w),nr=[];let rr=new SortedSet((or,sr)=>__PRIVATE_primitiveComparator(or.canonicalString(),sr.canonicalString()));for(const or of o){const sr=__PRIVATE_newDbDocumentMutationKey(this.userId,or.key.path,c);rr=rr.add(or.key.path.popLast()),nr.push(l.put(er)),nr.push(s.put(sr,te))}return rr.forEach(or=>{nr.push(this.indexManager.addToCollectionParentIndex(e,or))}),e.addOnCommittedListener(()=>{this.jn[c]=w.keys()}),PersistencePromise.waitFor(nr).next(()=>w)})}lookupMutationBatch(e,t){return __PRIVATE_mutationsStore(e).get(t).next(i=>i?(__PRIVATE_hardAssert(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),__PRIVATE_fromDbMutationBatch(this.serializer,i)):null)}Hn(e,t){return this.jn[t]?PersistencePromise.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.jn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return __PRIVATE_mutationsStore(e).te({index:X,range:o},(l,c,w)=>{c.userId===this.userId&&(__PRIVATE_hardAssert(c.batchId>=i,47524,{Jn:i}),s=__PRIVATE_fromDbMutationBatch(this.serializer,c)),w.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=K;return __PRIVATE_mutationsStore(e).te({index:X,range:t,reverse:!0},(o,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,K],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(e).J(X,t).next(i=>i.map(o=>__PRIVATE_fromDbMutationBatch(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=[];return __PRIVATE_documentMutationsStore(e).te({range:o},(l,c,w)=>{const[er,nr,rr]=l,or=__PRIVATE_decodeResourcePath(nr);if(er===this.userId&&t.path.isEqual(or))return __PRIVATE_mutationsStore(e).get(rr).next(sr=>{if(!sr)throw fail(61480,{Yn:l,batchId:rr});__PRIVATE_hardAssert(sr.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:sr.userId,batchId:rr}),s.push(__PRIVATE_fromDbMutationBatch(this.serializer,sr))});w.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new SortedSet(__PRIVATE_primitiveComparator);const o=[];return t.forEach(s=>{const l=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,s.path),c=IDBKeyRange.lowerBound(l),w=__PRIVATE_documentMutationsStore(e).te({range:c},(er,nr,rr)=>{const[or,sr,dr]=er,hr=__PRIVATE_decodeResourcePath(sr);or===this.userId&&s.path.isEqual(hr)?i=i.add(dr):rr.done()});o.push(w)}),PersistencePromise.waitFor(o).next(()=>this.Zn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,s=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(s);let c=new SortedSet(__PRIVATE_primitiveComparator);return __PRIVATE_documentMutationsStore(e).te({range:l},(w,er,nr)=>{const[rr,or,sr]=w,dr=__PRIVATE_decodeResourcePath(or);rr===this.userId&&i.isPrefixOf(dr)?dr.length===o&&(c=c.add(sr)):nr.done()}).next(()=>this.Zn(e,c))}Zn(e,t){const i=[],o=[];return t.forEach(s=>{o.push(__PRIVATE_mutationsStore(e).get(s).next(l=>{if(l===null)throw fail(35274,{batchId:s});__PRIVATE_hardAssert(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),i.push(__PRIVATE_fromDbMutationBatch(this.serializer,l))}))}),PersistencePromise.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return removeMutationBatch(e.he,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),PersistencePromise.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return PersistencePromise.resolve();const i=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),o=[];return __PRIVATE_documentMutationsStore(e).te({range:i},(s,l,c)=>{if(s[0]===this.userId){const w=__PRIVATE_decodeResourcePath(s[1]);o.push(w)}else c.done()}).next(()=>{__PRIVATE_hardAssert(o.length===0,56720,{er:o.map(s=>s.canonicalString())})})})}containsKey(e,t){return __PRIVATE_mutationQueueContainsKey(e,this.userId,t)}tr(e){return __PRIVATE_mutationQueuesStore(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:K,lastStreamToken:""})}}function __PRIVATE_mutationQueueContainsKey(n,e,t){const i=__PRIVATE_newDbDocumentMutationPrefixForPath(e,t.path),o=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return __PRIVATE_documentMutationsStore(n).te({range:s,ee:!0},(c,w,er)=>{const[nr,rr,or]=c;nr===e&&rr===o&&(l=!0),er.done()}).next(()=>l)}function __PRIVATE_mutationsStore(n){return __PRIVATE_getStore(n,Y)}function __PRIVATE_documentMutationsStore(n){return __PRIVATE_getStore(n,ne)}function __PRIVATE_mutationQueuesStore(n){return __PRIVATE_getStore(n,H$1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new __PRIVATE_TargetIdGenerator(0)}static ir(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbTargetCache{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const i=new __PRIVATE_TargetIdGenerator(t.highestTargetId);return t.highestTargetId=i.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>SnapshotVersion.fromTimestamp(new Timestamp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.sr(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this._r(e,o)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(i=>(i.targetCount+=1,this.ur(t,i),this._r(e,i))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>__PRIVATE_targetsStore(e).delete(t.targetId)).next(()=>this.sr(e)).next(i=>(__PRIVATE_hardAssert(i.targetCount>0,8065),i.targetCount-=1,this._r(e,i)))}removeTargets(e,t,i){let o=0;const s=[];return __PRIVATE_targetsStore(e).te((l,c)=>{const w=__PRIVATE_fromDbTarget(c);w.sequenceNumber<=t&&i.get(w.targetId)===null&&(o++,s.push(this.removeTargetData(e,w)))}).next(()=>PersistencePromise.waitFor(s)).next(()=>o)}forEachTarget(e,t){return __PRIVATE_targetsStore(e).te((i,o)=>{const s=__PRIVATE_fromDbTarget(o);t(s)})}sr(e){return __PRIVATE_globalTargetStore(e).get(Ae).next(t=>(__PRIVATE_hardAssert(t!==null,2888),t))}_r(e,t){return __PRIVATE_globalTargetStore(e).put(Ae,t)}ar(e,t){return __PRIVATE_targetsStore(e).put(__PRIVATE_toDbTarget(this.serializer,t))}ur(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const i=__PRIVATE_canonifyTarget(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return __PRIVATE_targetsStore(e).te({range:o,index:he},(l,c,w)=>{const er=__PRIVATE_fromDbTarget(c);__PRIVATE_targetEquals(t,er.target)&&(s=er,w.done())}).next(()=>s)}addMatchingKeys(e,t,i){const o=[],s=__PRIVATE_documentTargetStore(e);return t.forEach(l=>{const c=__PRIVATE_encodeResourcePath(l.path);o.push(s.put({targetId:i,path:c})),o.push(this.referenceDelegate.addReference(e,i,l))}),PersistencePromise.waitFor(o)}removeMatchingKeys(e,t,i){const o=__PRIVATE_documentTargetStore(e);return PersistencePromise.forEach(t,s=>{const l=__PRIVATE_encodeResourcePath(s.path);return PersistencePromise.waitFor([o.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=__PRIVATE_documentTargetStore(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=__PRIVATE_documentTargetStore(e);let s=__PRIVATE_documentKeySet();return o.te({range:i,ee:!0},(l,c,w)=>{const er=__PRIVATE_decodeResourcePath(l[1]),nr=new DocumentKey(er);s=s.add(nr)}).next(()=>s)}containsKey(e,t){const i=__PRIVATE_encodeResourcePath(t.path),o=IDBKeyRange.bound([i],[__PRIVATE_immediateSuccessor(i)],!1,!0);let s=0;return __PRIVATE_documentTargetStore(e).te({index:Ee,ee:!0,range:o},([l,c],w,er)=>{l!==0&&(s++,er.done())}).next(()=>s>0)}Rt(e,t){return __PRIVATE_targetsStore(e).get(t).next(i=>i?__PRIVATE_fromDbTarget(i):null)}}function __PRIVATE_targetsStore(n){return __PRIVATE_getStore(n,le)}function __PRIVATE_globalTargetStore(n){return __PRIVATE_getStore(n,Re)}function __PRIVATE_documentTargetStore(n){return __PRIVATE_getStore(n,Te)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="LruGarbageCollector",Ft=1048576;function __PRIVATE_bufferEntryComparator([n,e],[t,i]){const o=__PRIVATE_primitiveComparator(n,t);return o===0?__PRIVATE_primitiveComparator(e,i):o}class __PRIVATE_RollingSequenceNumberBuffer{constructor(e){this.cr=e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();__PRIVATE_bufferEntryComparator(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){__PRIVATE_logDebug(Ct,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){__PRIVATE_isIndexedDbTransactionError(t)?__PRIVATE_logDebug(Ct,"Ignoring IndexedDB error during garbage collection: ",t):await __PRIVATE_ignoreIfPrimaryLeaseLoss(t)}await this.Ir(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.le);const i=new __PRIVATE_RollingSequenceNumberBuffer(t);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Dt)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dt):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,o,s,l,c,w,er;const nr=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(rr=>(rr>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${rr}`),o=this.params.maximumSequenceNumbersToCollect):o=rr,l=Date.now(),this.nthSequenceNumber(e,o))).next(rr=>(i=rr,c=Date.now(),this.removeTargets(e,i,t))).next(rr=>(s=rr,w=Date.now(),this.removeOrphanedDocuments(e,i))).next(rr=>(er=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-nr}ms
	Determined least recently used ${o} in `+(c-l)+`ms
	Removed ${s} targets in `+(w-c)+`ms
	Removed ${rr} documents in `+(er-w)+`ms
Total Duration: ${er-nr}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:rr})))}}function __PRIVATE_newLruGarbageCollector(n,e){return new __PRIVATE_LruGarbageCollectorImpl(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbLruDelegateImpl{constructor(e,t){this.db=e,this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(i,o)=>t(o))}addReference(e,t,i){return __PRIVATE_writeSentinelKey(e,i)}removeReference(e,t,i){return __PRIVATE_writeSentinelKey(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return __PRIVATE_writeSentinelKey(e,t)}gr(e,t){return function(o,s){let l=!1;return __PRIVATE_mutationQueuesStore(o).ne(c=>__PRIVATE_mutationQueueContainsKey(o,c,s).next(w=>(w&&(l=!0),PersistencePromise.resolve(!w)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let s=0;return this.mr(e,(l,c)=>{if(c<=t){const w=this.gr(e,l).next(er=>{if(!er)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,SnapshotVersion.min()),__PRIVATE_documentTargetStore(e).delete(function(rr){return[0,__PRIVATE_encodeResourcePath(rr.path)]}(l))))});o.push(w)}}).next(()=>PersistencePromise.waitFor(o)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return __PRIVATE_writeSentinelKey(e,t)}mr(e,t){const i=__PRIVATE_documentTargetStore(e);let o,s=__PRIVATE_ListenSequence.le;return i.te({index:Ee},([l,c],{path:w,sequenceNumber:er})=>{l===0?(s!==__PRIVATE_ListenSequence.le&&t(new DocumentKey(__PRIVATE_decodeResourcePath(o)),s),s=er,o=w):s=__PRIVATE_ListenSequence.le}).next(()=>{s!==__PRIVATE_ListenSequence.le&&t(new DocumentKey(__PRIVATE_decodeResourcePath(o)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function __PRIVATE_writeSentinelKey(n,e){return __PRIVATE_documentTargetStore(n).put(function(i,o){return{targetId:0,path:__PRIVATE_encodeResourcePath(i.path),sequenceNumber:o}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?PersistencePromise.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbRemoteDocumentCacheImpl{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return __PRIVATE_remoteDocumentsStore(e).put(i)}removeEntry(e,t,i){return __PRIVATE_remoteDocumentsStore(e).delete(function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],__PRIVATE_toDbTimestampKey(l),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.pr(e,i)))}getEntry(e,t){let i=MutableDocument.newInvalidDocument(t);return __PRIVATE_remoteDocumentsStore(e).te({index:se,range:IDBKeyRange.only(__PRIVATE_dbKey(t))},(o,s)=>{i=this.yr(t,s)}).next(()=>i)}wr(e,t){let i={size:0,document:MutableDocument.newInvalidDocument(t)};return __PRIVATE_remoteDocumentsStore(e).te({index:se,range:IDBKeyRange.only(__PRIVATE_dbKey(t))},(o,s)=>{i={document:this.yr(t,s),size:__PRIVATE_dbDocumentSize(s)}}).next(()=>i)}getEntries(e,t){let i=__PRIVATE_mutableDocumentMap();return this.br(e,t,(o,s)=>{const l=this.yr(o,s);i=i.insert(o,l)}).next(()=>i)}Sr(e,t){let i=__PRIVATE_mutableDocumentMap(),o=new SortedMap(DocumentKey.comparator);return this.br(e,t,(s,l)=>{const c=this.yr(s,l);i=i.insert(s,c),o=o.insert(s,__PRIVATE_dbDocumentSize(l))}).next(()=>({documents:i,Dr:o}))}br(e,t,i){if(t.isEmpty())return PersistencePromise.resolve();let o=new SortedSet(__PRIVATE_dbKeyComparator);t.forEach(w=>o=o.add(w));const s=IDBKeyRange.bound(__PRIVATE_dbKey(o.first()),__PRIVATE_dbKey(o.last())),l=o.getIterator();let c=l.getNext();return __PRIVATE_remoteDocumentsStore(e).te({index:se,range:s},(w,er,nr)=>{const rr=DocumentKey.fromSegments([...er.prefixPath,er.collectionGroup,er.documentId]);for(;c&&__PRIVATE_dbKeyComparator(c,rr)<0;)i(c,null),c=l.getNext();c&&c.isEqual(rr)&&(i(c,er),c=l.hasNext()?l.getNext():null),c?nr.H(__PRIVATE_dbKey(c)):nr.done()}).next(()=>{for(;c;)i(c,null),c=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,o,s){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),__PRIVATE_toDbTimestampKey(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],w=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return __PRIVATE_remoteDocumentsStore(e).J(IDBKeyRange.bound(c,w,!0)).next(er=>{s==null||s.incrementDocumentReadCount(er.length);let nr=__PRIVATE_mutableDocumentMap();for(const rr of er){const or=this.yr(DocumentKey.fromSegments(rr.prefixPath.concat(rr.collectionGroup,rr.documentId)),rr);or.isFoundDocument()&&(__PRIVATE_queryMatches(t,or)||o.has(or.key))&&(nr=nr.insert(or.key,or))}return nr})}getAllFromCollectionGroup(e,t,i,o){let s=__PRIVATE_mutableDocumentMap();const l=__PRIVATE_dbCollectionGroupKey(t,i),c=__PRIVATE_dbCollectionGroupKey(t,IndexOffset.max());return __PRIVATE_remoteDocumentsStore(e).te({index:_e,range:IDBKeyRange.bound(l,c,!0)},(w,er,nr)=>{const rr=this.yr(DocumentKey.fromSegments(er.prefixPath.concat(er.collectionGroup,er.documentId)),er);s=s.insert(rr.key,rr),s.size===o&&nr.done()}).next(()=>s)}newChangeBuffer(e){return new __PRIVATE_IndexedDbRemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return __PRIVATE_documentGlobalStore(e).get(ce).next(t=>(__PRIVATE_hardAssert(!!t,20021),t))}pr(e,t){return __PRIVATE_documentGlobalStore(e).put(ce,t)}yr(e,t){if(t){const i=__PRIVATE_fromDbRemoteDocument(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(SnapshotVersion.min())))return i}return MutableDocument.newInvalidDocument(e)}}function __PRIVATE_newIndexedDbRemoteDocumentCache(n){return new __PRIVATE_IndexedDbRemoteDocumentCacheImpl(n)}class __PRIVATE_IndexedDbRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new ObjectMap(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new SortedSet((s,l)=>__PRIVATE_primitiveComparator(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const c=this.Cr.get(s);if(t.push(this.vr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const w=__PRIVATE_toDbRemoteDocument(this.vr.serializer,l);o=o.add(s.path.popLast());const er=__PRIVATE_dbDocumentSize(w);i+=er-c.size,t.push(this.vr.addEntry(e,s,w))}else if(i-=c.size,this.trackRemovals){const w=__PRIVATE_toDbRemoteDocument(this.vr.serializer,l.convertToNoDocument(SnapshotVersion.min()));t.push(this.vr.addEntry(e,s,w))}}),o.forEach(s=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.vr.updateMetadata(e,i)),PersistencePromise.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(i=>(this.Cr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:i,Dr:o})=>(o.forEach((s,l)=>{this.Cr.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function __PRIVATE_documentGlobalStore(n){return __PRIVATE_getStore(n,ue)}function __PRIVATE_remoteDocumentsStore(n){return __PRIVATE_getStore(n,re)}function __PRIVATE_dbKey(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function __PRIVATE_dbCollectionGroupKey(n,e){const t=e.documentKey.path.toArray();return[n,__PRIVATE_toDbTimestampKey(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function __PRIVATE_dbKeyComparator(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(o=__PRIVATE_primitiveComparator(t[s],i[s]),o)return o;return o=__PRIVATE_primitiveComparator(t.length,i.length),o||(o=__PRIVATE_primitiveComparator(t[t.length-2],i[i.length-2]),o||__PRIVATE_primitiveComparator(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&__PRIVATE_mutationApplyToLocalView(i.mutation,o,FieldMask.empty(),Timestamp.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,__PRIVATE_documentKeySet()).next(()=>i))}getLocalViewOfDocuments(e,t,i=__PRIVATE_documentKeySet()){const o=__PRIVATE_newOverlayMap();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(s=>{let l=documentMap();return s.forEach((c,w)=>{l=l.insert(c,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=__PRIVATE_newOverlayMap();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,__PRIVATE_documentKeySet()))}populateOverlays(e,t,i){const o=[];return i.forEach(s=>{t.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,o){let s=__PRIVATE_mutableDocumentMap();const l=__PRIVATE_newDocumentKeyMap(),c=function(){return __PRIVATE_newDocumentKeyMap()}();return t.forEach((w,er)=>{const nr=i.get(er.key);o.has(er.key)&&(nr===void 0||nr.mutation instanceof __PRIVATE_PatchMutation)?s=s.insert(er.key,er):nr!==void 0?(l.set(er.key,nr.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(nr.mutation,er,nr.mutation.getFieldMask(),Timestamp.now())):l.set(er.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,s).next(w=>(w.forEach((er,nr)=>l.set(er,nr)),t.forEach((er,nr)=>{var rr;return c.set(er,new OverlayedDocument(nr,(rr=l.get(er))!==null&&rr!==void 0?rr:null))}),c))}recalculateAndSaveOverlays(e,t){const i=__PRIVATE_newDocumentKeyMap();let o=new SortedMap((l,c)=>l-c),s=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(w=>{const er=t.get(w);if(er===null)return;let nr=i.get(w)||FieldMask.empty();nr=c.applyToLocalView(er,nr),i.set(w,nr);const rr=(o.get(c.batchId)||__PRIVATE_documentKeySet()).add(w);o=o.insert(c.batchId,rr)})}).next(()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const w=c.getNext(),er=w.key,nr=w.value,rr=__PRIVATE_newMutationMap();nr.forEach(or=>{if(!s.has(or)){const sr=__PRIVATE_calculateOverlayMutation(t.get(or),i.get(or));sr!==null&&rr.set(or,sr),s=s.add(or)}}),l.push(this.documentOverlayCache.saveOverlays(e,er,rr))}return PersistencePromise.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(l){return DocumentKey.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):__PRIVATE_isCollectionGroupQuery(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(s=>{const l=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-s.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let c=k$1,w=s;return l.next(er=>PersistencePromise.forEach(er,(nr,rr)=>(c<rr.largestBatchId&&(c=rr.largestBatchId),s.get(nr)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,nr).next(or=>{w=w.insert(nr,or)}))).next(()=>this.populateOverlays(e,er,s)).next(()=>this.computeViews(e,w,er,__PRIVATE_documentKeySet())).next(nr=>({batchId:c,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(nr)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new DocumentKey(t)).next(i=>{let o=documentMap();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const s=t.collectionGroup;let l=documentMap();return this.indexManager.getCollectionParents(e,s).next(c=>PersistencePromise.forEach(c,w=>{const er=function(rr,or){return new __PRIVATE_QueryImpl(or,null,rr.explicitOrderBy.slice(),rr.filters.slice(),rr.limit,rr.limitType,rr.startAt,rr.endAt)}(t,w.child(s));return this.getDocumentsMatchingCollectionQuery(e,er,i,o).next(nr=>{nr.forEach((rr,or)=>{l=l.insert(rr,or)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,o))).next(l=>{s.forEach((w,er)=>{const nr=er.getKey();l.get(nr)===null&&(l=l.insert(nr,MutableDocument.newInvalidDocument(nr)))});let c=documentMap();return l.forEach((w,er)=>{const nr=s.get(w);nr!==void 0&&__PRIVATE_mutationApplyToLocalView(nr.mutation,er,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(t,er)&&(c=c.insert(w,er))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return PersistencePromise.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:__PRIVATE_fromVersion(o.createTime)}}(t)),PersistencePromise.resolve()}getNamedQuery(e,t){return PersistencePromise.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:__PRIVATE_fromBundledQuery(o.bundledQuery),readTime:__PRIVATE_fromVersion(o.readTime)}}(t)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Or=new Map}getOverlay(e,t){return PersistencePromise.resolve(this.overlays.get(t))}getOverlays(e,t){const i=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(t,o=>this.getOverlay(e,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,s)=>{this.St(e,t,s)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(i)),PersistencePromise.resolve()}getOverlaysForCollection(e,t,i){const o=__PRIVATE_newOverlayMap(),s=t.length+1,l=new DocumentKey(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const w=c.getNext().value,er=w.getKey();if(!t.isPrefixOf(er.path))break;er.path.length===s&&w.largestBatchId>i&&o.set(w.getKey(),w)}return PersistencePromise.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let s=new SortedMap((er,nr)=>er-nr);const l=this.overlays.getIterator();for(;l.hasNext();){const er=l.getNext().value;if(er.getKey().getCollectionGroup()===t&&er.largestBatchId>i){let nr=s.get(er.largestBatchId);nr===null&&(nr=__PRIVATE_newOverlayMap(),s=s.insert(er.largestBatchId,nr)),nr.set(er.getKey(),er)}}const c=__PRIVATE_newOverlayMap(),w=s.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((er,nr)=>c.set(er,nr)),!(c.size()>=o)););return PersistencePromise.resolve(c)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const l=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Overlay(t,i));let s=this.Or.get(t);s===void 0&&(s=__PRIVATE_documentKeySet(),this.Or.set(t,s)),this.Or.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Nr=new SortedSet(__PRIVATE_DocReference.Br),this.Lr=new SortedSet(__PRIVATE_DocReference.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new __PRIVATE_DocReference(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new __PRIVATE_DocReference(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new DocumentKey(new ResourcePath([])),i=new __PRIVATE_DocReference(t,e),o=new __PRIVATE_DocReference(t,e+1),s=[];return this.Lr.forEachInRange([i,o],l=>{this.Qr(l),s.push(l.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new DocumentKey(new ResourcePath([])),i=new __PRIVATE_DocReference(t,e),o=new __PRIVATE_DocReference(t,e+1);let s=__PRIVATE_documentKeySet();return this.Lr.forEachInRange([i,o],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new __PRIVATE_DocReference(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class __PRIVATE_DocReference{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return DocumentKey.comparator(e.key,t.key)||__PRIVATE_primitiveComparator(e.Gr,t.Gr)}static kr(e,t){return __PRIVATE_primitiveComparator(e.Gr,t.Gr)||DocumentKey.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new SortedSet(__PRIVATE_DocReference.Br)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new MutationBatch(s,t,i,o);this.mutationQueue.push(l);for(const c of o)this.zr=this.zr.add(new __PRIVATE_DocReference(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return PersistencePromise.resolve(l)}lookupMutationBatch(e,t){return PersistencePromise.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Hr(i),s=o<0?0:o;return PersistencePromise.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?K:this.Jn-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new __PRIVATE_DocReference(t,0),o=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([i,o],l=>{const c=this.jr(l.Gr);s.push(c)}),PersistencePromise.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new SortedSet(__PRIVATE_primitiveComparator);return t.forEach(o=>{const s=new __PRIVATE_DocReference(o,0),l=new __PRIVATE_DocReference(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,l],c=>{i=i.add(c.Gr)})}),PersistencePromise.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let s=i;DocumentKey.isDocumentKey(s)||(s=s.child(""));const l=new __PRIVATE_DocReference(new DocumentKey(s),0);let c=new SortedSet(__PRIVATE_primitiveComparator);return this.zr.forEachWhile(w=>{const er=w.key.path;return!!i.isPrefixOf(er)&&(er.length===o&&(c=c.add(w.Gr)),!0)},l),PersistencePromise.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){__PRIVATE_hardAssert(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return PersistencePromise.forEach(t.mutations,o=>{const s=new __PRIVATE_DocReference(o.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new __PRIVATE_DocReference(t,0),o=this.zr.firstAfterOrEqual(i);return PersistencePromise.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Zr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),s=o?o.size:0,l=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return PersistencePromise.resolve(i?i.document.mutableCopy():MutableDocument.newInvalidDocument(t))}getEntries(e,t){let i=__PRIVATE_mutableDocumentMap();return t.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():MutableDocument.newInvalidDocument(o))}),PersistencePromise.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let s=__PRIVATE_mutableDocumentMap();const l=t.path,c=new DocumentKey(l.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(c);for(;w.hasNext();){const{key:er,value:{document:nr}}=w.getNext();if(!l.isPrefixOf(er.path))break;er.path.length>l.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(nr),i)<=0||(o.has(nr.key)||__PRIVATE_queryMatches(t,nr))&&(s=s.insert(nr.key,nr.mutableCopy()))}return PersistencePromise.resolve(s)}getAllFromCollectionGroup(e,t,i,o){fail(9500)}Xr(e,t){return PersistencePromise.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),PersistencePromise.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.ei=new ObjectMap(t=>__PRIVATE_canonifyTarget(t),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.ti=0,this.ni=new __PRIVATE_ReferenceSet,this.targetCount=0,this.ri=__PRIVATE_TargetIdGenerator.rr()}forEachTarget(e,t){return this.ei.forEach((i,o)=>t(o)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),PersistencePromise.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new __PRIVATE_TargetIdGenerator(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,t){return this.ar(t),PersistencePromise.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,t,i){let o=0;const s=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.ei.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),PersistencePromise.waitFor(s).next(()=>o)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return PersistencePromise.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),PersistencePromise.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const o=this.persistence.referenceDelegate,s=[];return o&&t.forEach(l=>{s.push(o.markPotentiallyOrphaned(e,l))}),PersistencePromise.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return PersistencePromise.resolve(i)}containsKey(e,t){return PersistencePromise.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,t){this.ii={},this.overlays={},this.si=new __PRIVATE_ListenSequence(0),this.oi=!1,this.oi=!0,this._i=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.ai=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(o){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new __PRIVATE_LocalSerializer(t),this.ci=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new __PRIVATE_MemoryMutationQueue(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const o=new __PRIVATE_MemoryTransaction(this.si.next());return this.referenceDelegate.li(),i(o).next(s=>this.referenceDelegate.hi(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Pi(e,t){return PersistencePromise.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Ti=new __PRIVATE_ReferenceSet,this.Ii=null}static Ei(e){return new __PRIVATE_MemoryEagerDelegate(e)}get di(){if(this.Ii)return this.Ii;throw fail(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),PersistencePromise.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),PersistencePromise.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.di,i=>{const o=DocumentKey.fromPath(i);return this.Ai(e,o).next(s=>{s||t.removeEntry(o,SnapshotVersion.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class __PRIVATE_MemoryLruDelegate{constructor(e,t){this.persistence=e,this.Ri=new ObjectMap(i=>__PRIVATE_encodeResourcePath(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,t)}static Ei(e,t){return new __PRIVATE_MemoryLruDelegate(e,t)}li(){}hi(e){return PersistencePromise.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return PersistencePromise.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(s=>s?PersistencePromise.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),s=o.newChangeBuffer();return o.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(i++,s.removeEntry(l,SnapshotVersion.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),PersistencePromise.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),PersistencePromise.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=__PRIVATE_estimateByteSize(e.data.value)),t}gr(e,t,i){return PersistencePromise.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return PersistencePromise.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SchemaConverter{constructor(e){this.serializer=e}q(e,t,i,o){const s=new __PRIVATE_SimpleDbTransaction("createOrUpgrade",t);i<1&&o>=1&&(function(w){w.createObjectStore(z$1)}(e),function(w){w.createObjectStore(H$1,{keyPath:J}),w.createObjectStore(Y,{keyPath:Z,autoIncrement:!0}).createIndex(X,ee,{unique:!0}),w.createObjectStore(ne)}(e),__PRIVATE_createQueryCache(e),function(w){w.createObjectStore(G)}(e));let l=PersistencePromise.resolve();return i<3&&o>=3&&(i!==0&&(function(w){w.deleteObjectStore(Te),w.deleteObjectStore(le),w.deleteObjectStore(Re)}(e),__PRIVATE_createQueryCache(e)),l=l.next(()=>function(w){const er=w.store(Re),nr={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:SnapshotVersion.min().toTimestamp(),targetCount:0};return er.put(Ae,nr)}(s))),i<4&&o>=4&&(i!==0&&(l=l.next(()=>function(w,er){return er.store(Y).J().next(rr=>{w.deleteObjectStore(Y),w.createObjectStore(Y,{keyPath:Z,autoIncrement:!0}).createIndex(X,ee,{unique:!0});const or=er.store(Y),sr=rr.map(dr=>or.put(dr));return PersistencePromise.waitFor(sr)})}(e,s))),l=l.next(()=>{(function(w){w.createObjectStore(fe,{keyPath:ge})})(e)})),i<5&&o>=5&&(l=l.next(()=>this.Vi(s))),i<6&&o>=6&&(l=l.next(()=>(function(w){w.createObjectStore(ue)}(e),this.mi(s)))),i<7&&o>=7&&(l=l.next(()=>this.fi(s))),i<8&&o>=8&&(l=l.next(()=>this.gi(e,s))),i<9&&o>=9&&(l=l.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&o>=10&&(l=l.next(()=>this.pi(s))),i<11&&o>=11&&(l=l.next(()=>{(function(w){w.createObjectStore(pe,{keyPath:ye})})(e),function(w){w.createObjectStore(we,{keyPath:be})}(e)})),i<12&&o>=12&&(l=l.next(()=>{(function(w){const er=w.createObjectStore(qe,{keyPath:Qe});er.createIndex($e,Ue,{unique:!1}),er.createIndex(Ke,We,{unique:!1})})(e)})),i<13&&o>=13&&(l=l.next(()=>function(w){const er=w.createObjectStore(re,{keyPath:ie});er.createIndex(se,oe),er.createIndex(_e,ae)}(e)).next(()=>this.yi(e,s)).next(()=>e.deleteObjectStore(G))),i<14&&o>=14&&(l=l.next(()=>this.wi(e,s))),i<15&&o>=15&&(l=l.next(()=>function(w){w.createObjectStore(Se,{keyPath:De,autoIncrement:!0}).createIndex(ve,Ce,{unique:!1}),w.createObjectStore(Fe,{keyPath:Me}).createIndex(xe,Oe,{unique:!1}),w.createObjectStore(Ne,{keyPath:Be}).createIndex(Le,ke,{unique:!1})}(e))),i<16&&o>=16&&(l=l.next(()=>{t.objectStore(Fe).clear()}).next(()=>{t.objectStore(Ne).clear()})),i<17&&o>=17&&(l=l.next(()=>{(function(w){w.createObjectStore(Ge,{keyPath:ze})})(e)})),l}mi(e){let t=0;return e.store(G).te((i,o)=>{t+=__PRIVATE_dbDocumentSize(o)}).next(()=>{const i={byteSize:t};return e.store(ue).put(ce,i)})}Vi(e){const t=e.store(H$1),i=e.store(Y);return t.J().next(o=>PersistencePromise.forEach(o,s=>{const l=IDBKeyRange.bound([s.userId,K],[s.userId,s.lastAcknowledgedBatchId]);return i.J(X,l).next(c=>PersistencePromise.forEach(c,w=>{__PRIVATE_hardAssert(w.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:w.batchId});const er=__PRIVATE_fromDbMutationBatch(this.serializer,w);return removeMutationBatch(e,s.userId,er).next(()=>{})}))}))}fi(e){const t=e.store(Te),i=e.store(G);return e.store(Re).get(Ae).next(o=>{const s=[];return i.te((l,c)=>{const w=new ResourcePath(l),er=function(rr){return[0,__PRIVATE_encodeResourcePath(rr)]}(w);s.push(t.get(er).next(nr=>nr?PersistencePromise.resolve():(rr=>t.put({targetId:0,path:__PRIVATE_encodeResourcePath(rr),sequenceNumber:o.highestListenSequenceNumber}))(w)))}).next(()=>PersistencePromise.waitFor(s))})}gi(e,t){e.createObjectStore(Ve,{keyPath:me});const i=t.store(Ve),o=new __PRIVATE_MemoryCollectionParentIndex,s=l=>{if(o.add(l)){const c=l.lastSegment(),w=l.popLast();return i.put({collectionId:c,parent:__PRIVATE_encodeResourcePath(w)})}};return t.store(G).te({ee:!0},(l,c)=>{const w=new ResourcePath(l);return s(w.popLast())}).next(()=>t.store(ne).te({ee:!0},([l,c,w],er)=>{const nr=__PRIVATE_decodeResourcePath(c);return s(nr.popLast())}))}pi(e){const t=e.store(le);return t.te((i,o)=>{const s=__PRIVATE_fromDbTarget(o),l=__PRIVATE_toDbTarget(this.serializer,s);return t.put(l)})}yi(e,t){const i=t.store(G),o=[];return i.te((s,l)=>{const c=t.store(re),w=function(rr){return rr.document?new DocumentKey(ResourcePath.fromString(rr.document.name).popFirst(5)):rr.noDocument?DocumentKey.fromSegments(rr.noDocument.path):rr.unknownDocument?DocumentKey.fromSegments(rr.unknownDocument.path):fail(36783)}(l).path.toArray(),er={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(c.put(er))}).next(()=>PersistencePromise.waitFor(o))}wi(e,t){const i=t.store(Y),o=__PRIVATE_newIndexedDbRemoteDocumentCache(this.serializer),s=new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Ei,this.serializer.wt);return i.J().next(l=>{const c=new Map;return l.forEach(w=>{var er;let nr=(er=c.get(w.userId))!==null&&er!==void 0?er:__PRIVATE_documentKeySet();__PRIVATE_fromDbMutationBatch(this.serializer,w).keys().forEach(rr=>nr=nr.add(rr)),c.set(w.userId,nr)}),PersistencePromise.forEach(c,(w,er)=>{const nr=new User(er),rr=__PRIVATE_IndexedDbDocumentOverlayCache.bt(this.serializer,nr),or=s.getIndexManager(nr),sr=__PRIVATE_IndexedDbMutationQueue.bt(nr,this.serializer,or,s.referenceDelegate);return new LocalDocumentsView(o,sr,rr,or).recalculateAndSaveOverlaysForDocumentKeys(new __PRIVATE_IndexedDbTransaction(t,__PRIVATE_ListenSequence.le),w).next()})})}}function __PRIVATE_createQueryCache(n){n.createObjectStore(Te,{keyPath:Ie}).createIndex(Ee,de,{unique:!0}),n.createObjectStore(le,{keyPath:"targetId"}).createIndex(he,Pe,{unique:!0}),n.createObjectStore(Re)}const Mt="IndexedDbPersistence",xt=18e5,Ot=5e3,Nt="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bt="main";class __PRIVATE_IndexedDbPersistence{constructor(e,t,i,o,s,l,c,w,er,nr,rr=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.bi=s,this.window=l,this.document=c,this.Si=er,this.Di=nr,this.Ci=rr,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=or=>Promise.resolve(),!__PRIVATE_IndexedDbPersistence.C())throw new FirestoreError(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new __PRIVATE_IndexedDbLruDelegateImpl(this,o),this.Bi=t+Bt,this.serializer=new __PRIVATE_LocalSerializer(w),this.Li=new __PRIVATE_SimpleDb(this.Bi,this.Ci,new __PRIVATE_SchemaConverter(this.serializer)),this._i=new __PRIVATE_IndexedDbGlobalsCache,this.ai=new __PRIVATE_IndexedDbTargetCache(this.referenceDelegate,this.serializer),this.remoteDocumentCache=__PRIVATE_newIndexedDbRemoteDocumentCache(this.serializer),this.ci=new __PRIVATE_IndexedDbBundleCache,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,nr===!1&&__PRIVATE_logError(Mt,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new FirestoreError(x.FAILED_PRECONDITION,Nt);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new __PRIVATE_ListenSequence(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>__PRIVATE_clientMetadataStore(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(__PRIVATE_isIndexedDbTransactionError(e))return __PRIVATE_logDebug(Mt,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return __PRIVATE_logDebug(Mt,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return __PRIVATE_primaryClientStore(e).get(j).next(t=>PersistencePromise.resolve(this.Hi(t)))}Ji(e){return __PRIVATE_clientMetadataStore(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,xt)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const i=__PRIVATE_getStore(t,fe);return i.J().next(o=>{const s=this.Xi(o,xt),l=o.filter(c=>s.indexOf(c)===-1);return PersistencePromise.forEach(l,c=>i.delete(c.clientId)).next(()=>l)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?PersistencePromise.resolve(!0):__PRIVATE_primaryClientStore(e).get(j).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Ot)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new FirestoreError(x.FAILED_PRECONDITION,Nt);return!1}}return!(!this.networkEnabled||!this.inForeground)||__PRIVATE_clientMetadataStore(e).J().next(i=>this.Xi(i,Ot).find(o=>{if(this.clientId!==o.clientId){const s=!this.networkEnabled&&o.networkEnabled,l=!this.inForeground&&o.inForeground,c=this.networkEnabled===o.networkEnabled;if(s||l&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&__PRIVATE_logDebug(Mt,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[z$1,fe],e=>{const t=new __PRIVATE_IndexedDbTransaction(e,__PRIVATE_ListenSequence.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(i=>this.Zi(i.updateTimeMs,t)&&!this.ts(i.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>__PRIVATE_clientMetadataStore(e).J().next(t=>this.Xi(t,xt).map(i=>i.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return __PRIVATE_IndexedDbMutationQueue.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new __PRIVATE_IndexedDbIndexManager(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return __PRIVATE_IndexedDbDocumentOverlayCache.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,i){__PRIVATE_logDebug(Mt,"Starting transaction:",e);const o=t==="readonly"?"readonly":"readwrite",s=function(w){return w===17?et:w===16?Xe:w===15?Ze:w===14?Ye:w===13?Je:w===12?He:w===11?je:void fail(60245)}(this.Ci);let l;return this.Li.runTransaction(e,o,s,c=>(l=new __PRIVATE_IndexedDbTransaction(c,this.si?this.si.next():__PRIVATE_ListenSequence.le),t==="readwrite-primary"?this.Wi(l).next(w=>!!w||this.Gi(l)).next(w=>{if(!w)throw __PRIVATE_logError(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new FirestoreError(x.FAILED_PRECONDITION,q$1);return i(l)}).next(w=>this.ji(l).next(()=>w)):this.cs(l).next(()=>i(l)))).then(c=>(l.raiseOnCommittedEvent(),c))}cs(e){return __PRIVATE_primaryClientStore(e).get(j).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Ot)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new FirestoreError(x.FAILED_PRECONDITION,Nt)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return __PRIVATE_primaryClientStore(e).put(j,t)}static C(){return __PRIVATE_SimpleDb.C()}zi(e){const t=__PRIVATE_primaryClientStore(e);return t.get(j).next(i=>this.Hi(i)?(__PRIVATE_logDebug(Mt,"Releasing primary lease."),t.delete(j)):PersistencePromise.resolve())}Zi(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(__PRIVATE_logError(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const i=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return __PRIVATE_logDebug(Mt,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return __PRIVATE_logError(Mt,"Failed to get zombied client id.",i),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){__PRIVATE_logError("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function __PRIVATE_primaryClientStore(n){return __PRIVATE_getStore(n,z$1)}function __PRIVATE_clientMetadataStore(n){return __PRIVATE_getStore(n,fe)}function __PRIVATE_indexedDbStoragePrefix(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=o}static Ps(e,t){let i=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new __PRIVATE_LocalViewChanges(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,o){const s={result:null};return this.Rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Vs(e,t,o,i).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new QueryContext;return this.fs(e,t,l).next(c=>{if(s.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>s.result)}gs(e,t,i,o){return i.documentReadCount<this.Es?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(t))):PersistencePromise.resolve())}Rs(e,t){if(__PRIVATE_queryMatchesAllDocuments(t))return PersistencePromise.resolve(null);let i=__PRIVATE_queryToTarget(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=__PRIVATE_queryWithLimit(t,null,"F"),i=__PRIVATE_queryToTarget(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=__PRIVATE_documentKeySet(...s);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(w=>{const er=this.ps(t,c);return this.ys(t,er,l,w.readTime)?this.Rs(e,__PRIVATE_queryWithLimit(t,null,"F")):this.ws(e,er,t,w)}))})))}Vs(e,t,i,o){return __PRIVATE_queryMatchesAllDocuments(t)||o.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.As.getDocuments(e,i).next(s=>{const l=this.ps(t,s);return this.ys(t,l,i,o)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),__PRIVATE_stringifyQuery(t)),this.ws(e,l,t,__PRIVATE_newIndexOffsetSuccessorFromReadTime(o,k$1)).next(c=>c))})}ps(e,t){let i=new SortedSet(__PRIVATE_newQueryComparator(e));return t.forEach((o,s)=>{__PRIVATE_queryMatches(e,s)&&(i=i.add(s))}),i}ys(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}fs(e,t,i){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(t)),this.As.getDocumentsMatchingQuery(e,t,IndexOffset.min(),i)}ws(e,t,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="LocalStore",kt=3e8;class __PRIVATE_LocalStoreImpl{constructor(e,t,i,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new SortedMap(__PRIVATE_primitiveComparator),this.Ds=new ObjectMap(s=>__PRIVATE_canonifyTarget(s),__PRIVATE_targetEquals),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function __PRIVATE_newLocalStore(n,e,t,i){return new __PRIVATE_LocalStoreImpl(n,e,t,i)}async function __PRIVATE_localStoreHandleUserChange(n,e){const t=__PRIVATE_debugCast(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],c=[];let w=__PRIVATE_documentKeySet();for(const er of o){l.push(er.batchId);for(const nr of er.mutations)w=w.add(nr.key)}for(const er of s){c.push(er.batchId);for(const nr of er.mutations)w=w.add(nr.key)}return t.localDocuments.getDocuments(i,w).next(er=>({Ms:er,removedBatchIds:l,addedBatchIds:c}))})})}function __PRIVATE_localStoreAcknowledgeBatch(n,e){const t=__PRIVATE_debugCast(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,w,er,nr){const rr=er.batch,or=rr.keys();let sr=PersistencePromise.resolve();return or.forEach(dr=>{sr=sr.next(()=>nr.getEntry(w,dr)).next(hr=>{const gr=er.docVersions.get(dr);__PRIVATE_hardAssert(gr!==null,48541),hr.version.compareTo(gr)<0&&(rr.applyToRemoteDocument(hr,er),hr.isValidDocument()&&(hr.setReadTime(er.commitVersion),nr.addEntry(hr)))})}),sr.next(()=>c.mutationQueue.removeMutationBatch(w,rr))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let w=__PRIVATE_documentKeySet();for(let er=0;er<c.mutationResults.length;++er)c.mutationResults[er].transformResults.length>0&&(w=w.add(c.batch.mutations[er].key));return w}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(n){const e=__PRIVATE_debugCast(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(n,e){const t=__PRIVATE_debugCast(n),i=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const c=[];e.targetChanges.forEach((nr,rr)=>{const or=o.get(rr);if(!or)return;c.push(t.ai.removeMatchingKeys(s,nr.removedDocuments,rr).next(()=>t.ai.addMatchingKeys(s,nr.addedDocuments,rr)));let sr=or.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(rr)!==null?sr=sr.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):nr.resumeToken.approximateByteSize()>0&&(sr=sr.withResumeToken(nr.resumeToken,i)),o=o.insert(rr,sr),function(hr,gr,mr){return hr.resumeToken.approximateByteSize()===0||gr.snapshotVersion.toMicroseconds()-hr.snapshotVersion.toMicroseconds()>=kt?!0:mr.addedDocuments.size+mr.modifiedDocuments.size+mr.removedDocuments.size>0}(or,sr,nr)&&c.push(t.ai.updateTargetData(s,sr))});let w=__PRIVATE_mutableDocumentMap(),er=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(nr=>{e.resolvedLimboDocuments.has(nr)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,nr))}),c.push(__PRIVATE_populateDocumentChangeBuffer(s,l,e.documentUpdates).next(nr=>{w=nr.xs,er=nr.Os})),!i.isEqual(SnapshotVersion.min())){const nr=t.ai.getLastRemoteSnapshotVersion(s).next(rr=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(nr)}return PersistencePromise.waitFor(c).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,w,er)).next(()=>w)}).then(s=>(t.Ss=o,s))}function __PRIVATE_populateDocumentChangeBuffer(n,e,t){let i=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=__PRIVATE_mutableDocumentMap();return t.forEach((c,w)=>{const er=s.get(c);w.isFoundDocument()!==er.isFoundDocument()&&(o=o.add(c)),w.isNoDocument()&&w.version.isEqual(SnapshotVersion.min())?(e.removeEntry(c,w.readTime),l=l.insert(c,w)):!er.isValidDocument()||w.version.compareTo(er.version)>0||w.version.compareTo(er.version)===0&&er.hasPendingWrites?(e.addEntry(w),l=l.insert(c,w)):__PRIVATE_logDebug(Lt,"Ignoring outdated watch update for ",c,". Current version:",er.version," Watch version:",w.version)}),{xs:l,Os:o}})}function __PRIVATE_localStoreGetNextMutationBatch(n,e){const t=__PRIVATE_debugCast(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=K),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function __PRIVATE_localStoreAllocateTarget(n,e){const t=__PRIVATE_debugCast(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.ai.getTargetData(i,e).next(s=>s?(o=s,PersistencePromise.resolve(o)):t.ai.allocateTargetId(i).next(l=>(o=new TargetData(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function __PRIVATE_localStoreReleaseTarget(n,e,t){const i=__PRIVATE_debugCast(n),o=i.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!__PRIVATE_isIndexedDbTransactionError(l))throw l;__PRIVATE_logDebug(Lt,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function __PRIVATE_localStoreExecuteQuery(n,e,t){const i=__PRIVATE_debugCast(n);let o=SnapshotVersion.min(),s=__PRIVATE_documentKeySet();return i.persistence.runTransaction("Execute query","readwrite",l=>function(w,er,nr){const rr=__PRIVATE_debugCast(w),or=rr.Ds.get(nr);return or!==void 0?PersistencePromise.resolve(rr.Ss.get(or)):rr.ai.getTargetData(er,nr)}(i,l,__PRIVATE_queryToTarget(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,c.targetId).next(w=>{s=w})}).next(()=>i.bs.getDocumentsMatchingQuery(l,e,t?o:SnapshotVersion.min(),t?s:__PRIVATE_documentKeySet())).next(c=>(__PRIVATE_setMaxReadTime(i,__PRIVATE_queryCollectionGroup(e),c),{documents:c,Ns:s})))}function __PRIVATE_localStoreGetCachedTarget(n,e){const t=__PRIVATE_debugCast(n),i=__PRIVATE_debugCast(t.ai),o=t.Ss.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Rt(s,e).next(l=>l?l.target:null))}function __PRIVATE_localStoreGetNewDocumentChanges(n,e){const t=__PRIVATE_debugCast(n),i=t.vs.get(e)||SnapshotVersion.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Cs.getAllFromCollectionGroup(o,e,__PRIVATE_newIndexOffsetSuccessorFromReadTime(i,k$1),Number.MAX_SAFE_INTEGER)).then(o=>(__PRIVATE_setMaxReadTime(t,e,o),o))}function __PRIVATE_setMaxReadTime(n,e,t){let i=n.vs.get(e)||SnapshotVersion.min();t.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.vs.set(e,i)}async function __PRIVATE_localStoreApplyBundledDocuments(n,e,t,i){const o=__PRIVATE_debugCast(n);let s=__PRIVATE_documentKeySet(),l=__PRIVATE_mutableDocumentMap();for(const er of t){const nr=e.Bs(er.metadata.name);er.document&&(s=s.add(nr));const rr=e.Ls(er);rr.setReadTime(e.ks(er.metadata.readTime)),l=l.insert(nr,rr)}const c=o.Cs.newChangeBuffer({trackRemovals:!0}),w=await __PRIVATE_localStoreAllocateTarget(o,function(nr){return __PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(ResourcePath.fromString(`__bundle__/docs/${nr}`)))}(i));return o.persistence.runTransaction("Apply bundle documents","readwrite",er=>__PRIVATE_populateDocumentChangeBuffer(er,c,l).next(nr=>(c.apply(er),nr)).next(nr=>o.ai.removeMatchingKeysForTargetId(er,w.targetId).next(()=>o.ai.addMatchingKeys(er,s,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(er,nr.xs,nr.Os)).next(()=>nr.xs)))}async function __PRIVATE_localStoreSaveNamedQuery(n,e,t=__PRIVATE_documentKeySet()){const i=await __PRIVATE_localStoreAllocateTarget(n,__PRIVATE_queryToTarget(__PRIVATE_fromBundledQuery(e.bundledQuery))),o=__PRIVATE_debugCast(n);return o.persistence.runTransaction("Save named query","readwrite",s=>{const l=__PRIVATE_fromVersion(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return o.ci.saveNamedQuery(s,e);const c=i.withResumeToken(ByteString.EMPTY_BYTE_STRING,l);return o.Ss=o.Ss.insert(c.targetId,c),o.ai.updateTargetData(s,c).next(()=>o.ai.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>o.ai.addMatchingKeys(s,t,i.targetId)).next(()=>o.ci.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="firestore_clients";function createWebStorageClientStateKey(n,e){return`${qt}_${n}_${e}`}const Qt="firestore_mutations";function createWebStorageMutationBatchKey(n,e,t){let i=`${Qt}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const $t="firestore_targets";function createWebStorageQueryTargetMetadataKey(n,e){return`${$t}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="SharedClientState";class __PRIVATE_MutationMetadata{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static qs(e,t,i){const o=JSON.parse(i);let s,l=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return l&&o.error&&(l=typeof o.error.message=="string"&&typeof o.error.code=="string",l&&(s=new FirestoreError(o.error.code,o.error.message))),l?new __PRIVATE_MutationMetadata(e,t,o.state,s):(__PRIVATE_logError(Ut,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class __PRIVATE_QueryTargetMetadata{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static qs(e,t){const i=JSON.parse(t);let o,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new FirestoreError(i.error.code,i.error.message))),s?new __PRIVATE_QueryTargetMetadata(e,i.state,o):(__PRIVATE_logError(Ut,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class __PRIVATE_RemoteClientState{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const i=JSON.parse(t);let o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=__PRIVATE_targetIdSet();for(let l=0;o&&l<i.activeTargetIds.length;++l)o=isSafeInteger(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return o?new __PRIVATE_RemoteClientState(e,s):(__PRIVATE_logError(Ut,`Failed to parse client data for instance '${e}': ${t}`),null)}}class __PRIVATE_SharedOnlineState{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new __PRIVATE_SharedOnlineState(t.clientId,t.onlineState):(__PRIVATE_logError(Ut,`Failed to parse online state: ${e}`),null)}}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_WebStorageSharedClientState{constructor(e,t,i,o,s){this.window=e,this.bi=t,this.persistenceKey=i,this.Ks=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new SortedMap(__PRIVATE_primitiveComparator),this.started=!1,this.js=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Hs=createWebStorageClientStateKey(this.persistenceKey,this.Ks),this.Js=function(w){return`firestore_sequence_number_${w}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new __PRIVATE_LocalClientState),this.Ys=new RegExp(`^${qt}_${l}_([^_]*)$`),this.Zs=new RegExp(`^${Qt}_${l}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${$t}_${l}_(\\d+)$`),this.eo=function(w){return`firestore_online_state_${w}`}(this.persistenceKey),this.no=function(w){return`firestore_bundle_loaded_v2_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const i of e){if(i===this.Ks)continue;const o=this.getItem(createWebStorageClientStateKey(this.persistenceKey,i));if(o){const s=__PRIVATE_RemoteClientState.qs(i,o);s&&(this.zs=this.zs.insert(s.clientId,s))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const i=this.io(t);i&&this.so(i)}for(const i of this.js)this.Gs(i);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,i){this._o(e,t,i),this.ao(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,e));if(o){const s=__PRIVATE_QueryTargetMetadata.qs(e,o);s&&(i=s.state)}}return t&&this.uo.$s(e),this.ro(),i}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,e))}updateQueryState(e,t,i){this.co(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.ao(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return __PRIVATE_logDebug(Ut,"READ",e,t),t}setItem(e,t){__PRIVATE_logDebug(Ut,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){__PRIVATE_logDebug(Ut,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(__PRIVATE_logDebug(Ut,"EVENT",t.key,t.newValue),t.key===this.Hs)return void __PRIVATE_logError("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const i=this.Po(t.key);return this.To(i,null)}{const i=this.Io(t.key,t.newValue);if(i)return this.To(i.clientId,i)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const i=this.Eo(t.key,t.newValue);if(i)return this.Ao(i)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const i=this.Ro(t.key,t.newValue);if(i)return this.Vo(i)}}else if(t.key===this.eo){if(t.newValue!==null){const i=this.io(t.newValue);if(i)return this.so(i)}}else if(t.key===this.Js){const i=function(s){let l=__PRIVATE_ListenSequence.le;if(s!=null)try{const c=JSON.parse(s);__PRIVATE_hardAssert(typeof c=="number",30636,{mo:s}),l=c}catch(c){__PRIVATE_logError(Ut,"Failed to read sequence number from WebStorage",c)}return l}(t.newValue);i!==__PRIVATE_ListenSequence.le&&this.sequenceNumberHandler(i)}else if(t.key===this.no){const i=this.fo(t.newValue);await Promise.all(i.map(o=>this.syncEngine.po(o)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,i){const o=new __PRIVATE_MutationMetadata(this.currentUser,e,t,i),s=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,e);this.setItem(s,o.Qs())}ao(e){const t=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,i){const o=createWebStorageQueryTargetMetadataKey(this.persistenceKey,e),s=new __PRIVATE_QueryTargetMetadata(e,t,i);this.setItem(o,s.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const i=this.Po(e);return __PRIVATE_RemoteClientState.qs(i,t)}Eo(e,t){const i=this.Zs.exec(e),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return __PRIVATE_MutationMetadata.qs(new User(s),o,t)}Ro(e,t){const i=this.Xs.exec(e),o=Number(i[1]);return __PRIVATE_QueryTargetMetadata.qs(o,t)}io(e){return __PRIVATE_SharedOnlineState.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);__PRIVATE_logDebug(Ut,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const i=t?this.zs.insert(e,t):this.zs.remove(e),o=this.oo(this.zs),s=this.oo(i),l=[],c=[];return s.forEach(w=>{o.has(w)||l.push(w)}),o.forEach(w=>{s.has(w)||c.push(w)}),this.syncEngine.bo(l,c).then(()=>{this.zs=i})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=__PRIVATE_targetIdSet();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class __PRIVATE_MemorySharedClientState{constructor(){this.So=new __PRIVATE_LocalClientState,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){__PRIVATE_logDebug(Kt,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){__PRIVATE_logDebug(Kt,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=null;function __PRIVATE_generateUniqueDebugId(){return Wt===null?Wt=function(){return 268435456+Math.round(2147483648*Math.random())}():Wt++,"0x"+Wt.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="RestConnection",zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===ot?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,t,i,o,s){const l=__PRIVATE_generateUniqueDebugId(),c=this.$o(e,t.toUriEncodedString());__PRIVATE_logDebug(Gt,`Sending RPC '${e}' ${l}:`,c,i);const w={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(w,o,s);const{host:er}=new URL(c),nr=isCloudWorkstation(er);return this.Ko(e,c,w,i,nr).then(rr=>(__PRIVATE_logDebug(Gt,`Received RPC '${e}' ${l}: `,rr),rr),rr=>{throw __PRIVATE_logWarn(Gt,`RPC '${e}' ${l} failed with error: `,rr,"url: ",c,"request:",i),rr})}Wo(e,t,i,o,s,l){return this.Qo(e,t,i,o,s)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+F$1}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,s)=>e[s]=o),i&&i.headers.forEach((o,s)=>e[s]=o)}$o(e,t){const i=zt[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,o,s){const l=__PRIVATE_generateUniqueDebugId();return new Promise((c,w)=>{const er=new XhrIo;er.setWithCredentials(!0),er.listenOnce(EventType.COMPLETE,()=>{try{switch(er.getLastErrorCode()){case ErrorCode.NO_ERROR:const rr=er.getResponseJson();__PRIVATE_logDebug(jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(rr)),c(rr);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(jt,`RPC '${e}' ${l} timed out`),w(new FirestoreError(x.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const or=er.getStatus();if(__PRIVATE_logDebug(jt,`RPC '${e}' ${l} failed with status:`,or,"response text:",er.getResponseText()),or>0){let sr=er.getResponseJson();Array.isArray(sr)&&(sr=sr[0]);const dr=sr==null?void 0:sr.error;if(dr&&dr.status&&dr.message){const hr=function(mr){const vr=mr.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(vr)>=0?vr:x.UNKNOWN}(dr.status);w(new FirestoreError(hr,dr.message))}else w(new FirestoreError(x.UNKNOWN,"Server responded with status "+er.getStatus()))}else w(new FirestoreError(x.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{s_:e,streamId:l,o_:er.getLastErrorCode(),__:er.getLastError()})}}finally{__PRIVATE_logDebug(jt,`RPC '${e}' ${l} completed.`)}});const nr=JSON.stringify(o);__PRIVATE_logDebug(jt,`RPC '${e}' ${l} sending request:`,o),er.send(t,"POST",nr,i,15)})}a_(e,t,i){const o=__PRIVATE_generateUniqueDebugId(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=createWebChannelTransport(),c=getStatEventTarget(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},er=this.longPollingOptions.timeoutSeconds;er!==void 0&&(w.longPollingTimeout=Math.round(1e3*er)),this.useFetchStreams&&(w.useFetchStreams=!0),this.Uo(w.initMessageHeaders,t,i),w.encodeInitMessageHeaders=!0;const nr=s.join("");__PRIVATE_logDebug(jt,`Creating RPC '${e}' stream ${o}: ${nr}`,w);const rr=l.createWebChannel(nr,w);let or=!1,sr=!1;const dr=new __PRIVATE_StreamBridge({Go:gr=>{sr?__PRIVATE_logDebug(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,gr):(or||(__PRIVATE_logDebug(jt,`Opening RPC '${e}' stream ${o} transport.`),rr.open(),or=!0),__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} sending:`,gr),rr.send(gr))},zo:()=>rr.close()}),hr=(gr,mr,vr)=>{gr.listen(mr,Sr=>{try{vr(Sr)}catch(Ar){setTimeout(()=>{throw Ar},0)}})};return hr(rr,WebChannel.EventType.OPEN,()=>{sr||(__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} transport opened.`),dr.t_())}),hr(rr,WebChannel.EventType.CLOSE,()=>{sr||(sr=!0,__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} transport closed`),dr.r_())}),hr(rr,WebChannel.EventType.ERROR,gr=>{sr||(sr=!0,__PRIVATE_logWarn(jt,`RPC '${e}' stream ${o} transport errored. Name:`,gr.name,"Message:",gr.message),dr.r_(new FirestoreError(x.UNAVAILABLE,"The operation could not be completed")))}),hr(rr,WebChannel.EventType.MESSAGE,gr=>{var mr;if(!sr){const vr=gr.data[0];__PRIVATE_hardAssert(!!vr,16349);const Sr=vr,Ar=(Sr==null?void 0:Sr.error)||((mr=Sr[0])===null||mr===void 0?void 0:mr.error);if(Ar){__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} received error:`,Ar);const Mr=Ar.status;let Fr=function(Rr){const wr=Rt[Rr];if(wr!==void 0)return __PRIVATE_mapCodeFromRpcCode(wr)}(Mr),Tr=Ar.message;Fr===void 0&&(Fr=x.INTERNAL,Tr="Unknown error status: "+Mr+" with message "+Ar.message),sr=!0,dr.r_(new FirestoreError(Fr,Tr)),rr.close()}else __PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} received:`,vr),dr.i_(vr)}}),hr(c,Event$1.STAT_EVENT,gr=>{gr.stat===Stat.PROXY?__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} detected buffering proxy`):gr.stat===Stat.NOPROXY&&__PRIVATE_logDebug(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{dr.n_()},0),dr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_getWindow(){return typeof window<"u"?window:null}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(n){return new JsonProtoSerializer(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,t,i=1e3,o=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=o,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-i);o>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="PersistentStream";class __PRIVATE_PersistentStream{constructor(e,t,i,o,s,l,c,w){this.bi=e,this.R_=i,this.V_=o,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=w,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new __PRIVATE_ExponentialBackoff(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(__PRIVATE_logError(t.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===t&&this.B_(i,o)},i=>{e(()=>{const o=new FirestoreError(x.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return __PRIVATE_logDebug(Ht,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(__PRIVATE_logDebug(Ht,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,t,i,o,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,l),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=__PRIVATE_fromWatchChange(this.serializer,e),i=function(s){if(!("targetChange"in s))return SnapshotVersion.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?SnapshotVersion.min():l.readTime?__PRIVATE_fromVersion(l.readTime):SnapshotVersion.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.addTarget=function(s,l){let c;const w=l.target;if(c=__PRIVATE_targetIsDocumentTarget(w)?{documents:__PRIVATE_toDocumentsTarget(s,w)}:{query:__PRIVATE_toQueryTarget(s,w).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=__PRIVATE_toBytes(s,l.resumeToken);const er=__PRIVATE_toInt32Proto(s,l.expectedCount);er!==null&&(c.expectedCount=er)}else if(l.snapshotVersion.compareTo(SnapshotVersion.min())>0){c.readTime=toTimestamp(s,l.snapshotVersion.toTimestamp());const er=__PRIVATE_toInt32Proto(s,l.expectedCount);er!==null&&(c.expectedCount=er)}return c}(this.serializer,e);const i=__PRIVATE_toListenRequestLabels(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.removeTarget=e,this.F_(t)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,t,i,o,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,l),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return __PRIVATE_hardAssert(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),i=__PRIVATE_fromVersion(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>toMutation(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new FirestoreError(x.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Qo(e,__PRIVATE_toResourcePath(t,i),o,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new FirestoreError(x.UNKNOWN,s.toString())})}Wo(e,t,i,o,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,__PRIVATE_toResourcePath(t,i),o,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new FirestoreError(x.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(__PRIVATE_logError(t),this.ea=!1):__PRIVATE_logDebug("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(e,t,i,o,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(l=>{i.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Jt,"Restarting streams for network reachability change."),await async function(w){const er=__PRIVATE_debugCast(w);er.aa.add(4),await __PRIVATE_disableNetworkInternal(er),er.la.set("Unknown"),er.aa.delete(4),await __PRIVATE_enableNetworkInternal(er)}(this))})}),this.la=new __PRIVATE_OnlineStateTracker(i,o)}}async function __PRIVATE_enableNetworkInternal(n){if(__PRIVATE_canUseNetwork(n))for(const e of n.ua)await e(!0)}async function __PRIVATE_disableNetworkInternal(n){for(const e of n.ua)await e(!1)}function __PRIVATE_remoteStoreListen(n,e){const t=__PRIVATE_debugCast(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(t)?__PRIVATE_startWatchStream(t):__PRIVATE_ensureWatchStream(t).b_()&&__PRIVATE_sendWatchRequest(t,e))}function __PRIVATE_remoteStoreUnlisten(n,e){const t=__PRIVATE_debugCast(n),i=__PRIVATE_ensureWatchStream(t);t._a.delete(e),i.b_()&&__PRIVATE_sendUnwatchRequest(t,e),t._a.size===0&&(i.b_()?i.v_():__PRIVATE_canUseNetwork(t)&&t.la.set("Unknown"))}function __PRIVATE_sendWatchRequest(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}__PRIVATE_ensureWatchStream(n).U_(e)}function __PRIVATE_sendUnwatchRequest(n,e){n.ha.Ke(e),__PRIVATE_ensureWatchStream(n).K_(e)}function __PRIVATE_startWatchStream(n){n.ha=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(n).start(),n.la.ta()}function __PRIVATE_shouldStartWatchStream(n){return __PRIVATE_canUseNetwork(n)&&!__PRIVATE_ensureWatchStream(n).w_()&&n._a.size>0}function __PRIVATE_canUseNetwork(n){return __PRIVATE_debugCast(n).aa.size===0}function __PRIVATE_cleanUpWatchStreamState(n){n.ha=void 0}async function __PRIVATE_onWatchStreamConnected(n){n.la.set("Online")}async function __PRIVATE_onWatchStreamOpen(n){n._a.forEach((e,t)=>{__PRIVATE_sendWatchRequest(n,e)})}async function __PRIVATE_onWatchStreamClose(n,e){__PRIVATE_cleanUpWatchStreamState(n),__PRIVATE_shouldStartWatchStream(n)?(n.la.ia(e),__PRIVATE_startWatchStream(n)):n.la.set("Unknown")}async function __PRIVATE_onWatchStreamChange(n,e,t){if(n.la.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(o,s){const l=s.cause;for(const c of s.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o._a.delete(c),o.ha.removeTarget(c))}(n,e)}catch(i){__PRIVATE_logDebug(Jt,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await __PRIVATE_disableNetworkUntilRecovery(n,i)}else if(e instanceof __PRIVATE_DocumentWatchChange?n.ha.Xe(e):e instanceof __PRIVATE_ExistenceFilterChange?n.ha.ot(e):n.ha.nt(e),!t.isEqual(SnapshotVersion.min()))try{const i=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(n.localStore);t.compareTo(i)>=0&&await function(s,l){const c=s.ha.It(l);return c.targetChanges.forEach((w,er)=>{if(w.resumeToken.approximateByteSize()>0){const nr=s._a.get(er);nr&&s._a.set(er,nr.withResumeToken(w.resumeToken,l))}}),c.targetMismatches.forEach((w,er)=>{const nr=s._a.get(w);if(!nr)return;s._a.set(w,nr.withResumeToken(ByteString.EMPTY_BYTE_STRING,nr.snapshotVersion)),__PRIVATE_sendUnwatchRequest(s,w);const rr=new TargetData(nr.target,w,er,nr.sequenceNumber);__PRIVATE_sendWatchRequest(s,rr)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){__PRIVATE_logDebug(Jt,"Failed to raise snapshot:",i),await __PRIVATE_disableNetworkUntilRecovery(n,i)}}async function __PRIVATE_disableNetworkUntilRecovery(n,e,t){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;n.aa.add(1),await __PRIVATE_disableNetworkInternal(n),n.la.set("Offline"),t||(t=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(Jt,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await __PRIVATE_enableNetworkInternal(n)})}function __PRIVATE_executeWithRecovery(n,e){return e().catch(t=>__PRIVATE_disableNetworkUntilRecovery(n,t,e))}async function __PRIVATE_fillWritePipeline(n){const e=__PRIVATE_debugCast(n),t=__PRIVATE_ensureWriteStream(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:K;for(;__PRIVATE_canAddToWritePipeline(e);)try{const o=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,i);if(o===null){e.oa.length===0&&t.v_();break}i=o.batchId,__PRIVATE_addToWritePipeline(e,o)}catch(o){await __PRIVATE_disableNetworkUntilRecovery(e,o)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(n){return __PRIVATE_canUseNetwork(n)&&n.oa.length<10}function __PRIVATE_addToWritePipeline(n,e){n.oa.push(e);const t=__PRIVATE_ensureWriteStream(n);t.b_()&&t.W_&&t.G_(e.mutations)}function __PRIVATE_shouldStartWriteStream(n){return __PRIVATE_canUseNetwork(n)&&!__PRIVATE_ensureWriteStream(n).w_()&&n.oa.length>0}function __PRIVATE_startWriteStream(n){__PRIVATE_ensureWriteStream(n).start()}async function __PRIVATE_onWriteStreamOpen(n){__PRIVATE_ensureWriteStream(n).H_()}async function __PRIVATE_onWriteHandshakeComplete(n){const e=__PRIVATE_ensureWriteStream(n);for(const t of n.oa)e.G_(t.mutations)}async function __PRIVATE_onMutationResult(n,e,t){const i=n.oa.shift(),o=MutationBatchResult.from(i,e,t);await __PRIVATE_executeWithRecovery(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await __PRIVATE_fillWritePipeline(n)}async function __PRIVATE_onWriteStreamClose(n,e){e&&__PRIVATE_ensureWriteStream(n).W_&&await async function(i,o){if(function(l){return __PRIVATE_isPermanentError(l)&&l!==x.ABORTED}(o.code)){const s=i.oa.shift();__PRIVATE_ensureWriteStream(i).D_(),await __PRIVATE_executeWithRecovery(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),await __PRIVATE_fillWritePipeline(i)}}(n,e),__PRIVATE_shouldStartWriteStream(n)&&__PRIVATE_startWriteStream(n)}async function __PRIVATE_remoteStoreHandleCredentialChange(n,e){const t=__PRIVATE_debugCast(n);t.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Jt,"RemoteStore received new credentials");const i=__PRIVATE_canUseNetwork(t);t.aa.add(3),await __PRIVATE_disableNetworkInternal(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await __PRIVATE_enableNetworkInternal(t)}async function __PRIVATE_remoteStoreApplyPrimaryState(n,e){const t=__PRIVATE_debugCast(n);e?(t.aa.delete(2),await __PRIVATE_enableNetworkInternal(t)):e||(t.aa.add(2),await __PRIVATE_disableNetworkInternal(t),t.la.set("Unknown"))}function __PRIVATE_ensureWatchStream(n){return n.Pa||(n.Pa=function(t,i,o){const s=__PRIVATE_debugCast(t);return s.Y_(),new __PRIVATE_PersistentListenStream(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(n.datastore,n.asyncQueue,{jo:__PRIVATE_onWatchStreamConnected.bind(null,n),Jo:__PRIVATE_onWatchStreamOpen.bind(null,n),Zo:__PRIVATE_onWatchStreamClose.bind(null,n),Q_:__PRIVATE_onWatchStreamChange.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):n.la.set("Unknown")):(await n.Pa.stop(),__PRIVATE_cleanUpWatchStreamState(n))})),n.Pa}function __PRIVATE_ensureWriteStream(n){return n.Ta||(n.Ta=function(t,i,o){const s=__PRIVATE_debugCast(t);return s.Y_(),new __PRIVATE_PersistentWriteStream(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:__PRIVATE_onWriteStreamOpen.bind(null,n),Zo:__PRIVATE_onWriteStreamClose.bind(null,n),z_:__PRIVATE_onWriteHandshakeComplete.bind(null,n),j_:__PRIVATE_onMutationResult.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await __PRIVATE_fillWritePipeline(n)):(await n.Ta.stop(),n.oa.length>0&&(__PRIVATE_logDebug(Jt,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,t,i,o,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,s){const l=Date.now()+i,c=new DelayedOperation(e,t,l,o,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(n,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${n}`),__PRIVATE_isIndexedDbTransactionError(n))return new FirestoreError(x.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(e){return new DocumentSet(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||DocumentKey.comparator(t.key,i.key):(t,i)=>DocumentKey.comparator(t.key,i.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new DocumentSet;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.Ia=new SortedMap(DocumentKey.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):fail(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class ViewSnapshot{constructor(e,t,i,o,s,l,c,w,er){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=w,this.hasCachedResults=er}static fromInitialDocuments(e,t,i,o,s){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ViewSnapshot(e,t,DocumentSet.emptySet(t),l,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const o=__PRIVATE_debugCast(t),s=o.queries;o.queries=__PRIVATE_newQueriesObjectMap(),s.forEach((l,c)=>{for(const w of c.Ra)w.onError(i)})})(this,new FirestoreError(x.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(n=>__PRIVATE_canonifyQuery(n),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(n,e){const t=__PRIVATE_debugCast(n);let i=3;const o=e.query;let s=t.queries.get(o);s?!s.Va()&&e.ma()&&(i=2):(s=new __PRIVATE_QueryListenersInfo,i=e.ma()?0:1);try{switch(i){case 0:s.Aa=await t.onListen(o,!0);break;case 1:s.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const c=__PRIVATE_wrapInUserErrorIfRecoverable(l,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&__PRIVATE_raiseSnapshotsInSyncEvent(t)}async function __PRIVATE_eventManagerUnlisten(n,e){const t=__PRIVATE_debugCast(n),i=e.query;let o=3;const s=t.queries.get(i);if(s){const l=s.Ra.indexOf(e);l>=0&&(s.Ra.splice(l,1),s.Ra.length===0?o=e.ma()?0:1:!s.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function __PRIVATE_eventManagerOnWatchChange(n,e){const t=__PRIVATE_debugCast(n);let i=!1;for(const o of e){const s=o.query,l=t.queries.get(s);if(l){for(const c of l.Ra)c.pa(o)&&(i=!0);l.Aa=o}}i&&__PRIVATE_raiseSnapshotsInSyncEvent(t)}function __PRIVATE_eventManagerOnWatchError(n,e,t){const i=__PRIVATE_debugCast(n),o=i.queries.get(e);if(o)for(const s of o.Ra)s.onError(t);i.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(n){n.fa.forEach(e=>{e.next()})}var Yt,Zt;(Zt=Yt||(Yt={})).ya="default",Zt.Cache="cache";class __PRIVATE_QueryListener{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Yt.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SizedBundleElement{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BundleConverterImpl{constructor(e){this.serializer=e}Bs(e){return fromName(this.serializer,e)}Ls(e){return e.metadata.exists?__PRIVATE_fromDocument(this.serializer,e.document,!1):MutableDocument.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return __PRIVATE_fromVersion(e)}}class __PRIVATE_BundleLoader{constructor(e,t,i){this.Oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=__PRIVATE_bundleInitialProgress(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const i=ResourcePath.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,i=new __PRIVATE_BundleConverterImpl(this.serializer);for(const o of e)if(o.metadata.queries){const s=i.Bs(o.metadata.name);for(const l of o.metadata.queries){const c=(t.get(l)||__PRIVATE_documentKeySet()).add(s);t.set(l,c)}}return t}async complete(){const e=await __PRIVATE_localStoreApplyBundledDocuments(this.localStore,new __PRIVATE_BundleConverterImpl(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const i of this.queries)await __PRIVATE_localStoreSaveNamedQuery(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function __PRIVATE_bundleInitialProgress(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ua=__PRIVATE_newQueryComparator(e),this.Ka=new DocumentSet(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new __PRIVATE_DocumentChangeSet,o=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,l=o,c=!1;const w=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,er=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((nr,rr)=>{const or=o.get(nr),sr=__PRIVATE_queryMatches(this.query,rr)?rr:null,dr=!!or&&this.mutatedKeys.has(or.key),hr=!!sr&&(sr.hasLocalMutations||this.mutatedKeys.has(sr.key)&&sr.hasCommittedMutations);let gr=!1;or&&sr?or.data.isEqual(sr.data)?dr!==hr&&(i.track({type:3,doc:sr}),gr=!0):this.ja(or,sr)||(i.track({type:2,doc:sr}),gr=!0,(w&&this.Ua(sr,w)>0||er&&this.Ua(sr,er)<0)&&(c=!0)):!or&&sr?(i.track({type:0,doc:sr}),gr=!0):or&&!sr&&(i.track({type:1,doc:or}),gr=!0,(w||er)&&(c=!0)),gr&&(sr?(l=l.add(sr),s=hr?s.add(nr):s.delete(nr)):(l=l.delete(nr),s=s.delete(nr)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const nr=this.query.limitType==="F"?l.last():l.first();l=l.delete(nr.key),s=s.delete(nr.key),i.track({type:1,doc:nr})}return{Ka:l,za:i,ys:c,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((nr,rr)=>function(sr,dr){const hr=gr=>{switch(gr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{Vt:gr})}};return hr(sr)-hr(dr)}(nr.type,rr.type)||this.Ua(nr.doc,rr.doc)),this.Ha(i),o=o!=null&&o;const c=t&&!o?this.Ja():[],w=this.$a.size===0&&this.current&&!o?1:0,er=w!==this.Qa;return this.Qa=w,l.length!==0||er?{snapshot:new ViewSnapshot(this.query,e.Ka,s,l,e.mutatedKeys,w===0,er,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=__PRIVATE_documentKeySet(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new __PRIVATE_RemovedLimboDocument(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new __PRIVATE_AddedLimboDocument(i))}),t}Xa(e){this.qa=e.Ns,this.$a=__PRIVATE_documentKeySet();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xt="SyncEngine";class __PRIVATE_QueryView{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LimboResolution{constructor(e){this.key=e,this.tu=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,t,i,o,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new ObjectMap(c=>__PRIVATE_canonifyQuery(c),__PRIVATE_queryEquals),this.iu=new Map,this.su=new Set,this.ou=new SortedMap(DocumentKey.comparator),this._u=new Map,this.au=new __PRIVATE_ReferenceSet,this.uu={},this.cu=new Map,this.lu=__PRIVATE_TargetIdGenerator.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function __PRIVATE_syncEngineListen(n,e,t=!0){const i=__PRIVATE_ensureWatchCallbacks(n);let o;const s=i.ru.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.eu()):o=await __PRIVATE_allocateTargetAndMaybeListen(i,e,t,!0),o}async function __PRIVATE_triggerRemoteStoreListen(n,e){const t=__PRIVATE_ensureWatchCallbacks(n);await __PRIVATE_allocateTargetAndMaybeListen(t,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(n,e,t,i){const o=await __PRIVATE_localStoreAllocateTarget(n.localStore,__PRIVATE_queryToTarget(e)),s=o.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let c;return i&&(c=await __PRIVATE_initializeViewAndComputeSnapshot(n,e,s,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&__PRIVATE_remoteStoreListen(n.remoteStore,o),c}async function __PRIVATE_initializeViewAndComputeSnapshot(n,e,t,i,o){n.Pu=(rr,or,sr)=>async function(hr,gr,mr,vr){let Sr=gr.view.Ga(mr);Sr.ys&&(Sr=await __PRIVATE_localStoreExecuteQuery(hr.localStore,gr.query,!1).then(({documents:Tr})=>gr.view.Ga(Tr,Sr)));const Ar=vr&&vr.targetChanges.get(gr.targetId),Mr=vr&&vr.targetMismatches.get(gr.targetId)!=null,Fr=gr.view.applyChanges(Sr,hr.isPrimaryClient,Ar,Mr);return __PRIVATE_updateTrackedLimbos(hr,gr.targetId,Fr.Ya),Fr.snapshot}(n,rr,or,sr);const s=await __PRIVATE_localStoreExecuteQuery(n.localStore,e,!0),l=new __PRIVATE_View(e,s.Ns),c=l.Ga(s.documents),w=TargetChange.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),er=l.applyChanges(c,n.isPrimaryClient,w);__PRIVATE_updateTrackedLimbos(n,t,er.Ya);const nr=new __PRIVATE_QueryView(e,t,l);return n.ru.set(e,nr),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),er.snapshot}async function __PRIVATE_syncEngineUnlisten(n,e,t){const i=__PRIVATE_debugCast(n),o=i.ru.get(e),s=i.iu.get(o.targetId);if(s.length>1)return i.iu.set(o.targetId,s.filter(l=>!__PRIVATE_queryEquals(l,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await __PRIVATE_localStoreReleaseTarget(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&__PRIVATE_remoteStoreUnlisten(i.remoteStore,o.targetId),__PRIVATE_removeAndCleanupTarget(i,o.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(i,o.targetId),await __PRIVATE_localStoreReleaseTarget(i.localStore,o.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(n,e){const t=__PRIVATE_debugCast(n),i=t.ru.get(e),o=t.iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),__PRIVATE_remoteStoreUnlisten(t.remoteStore,i.targetId))}async function __PRIVATE_syncEngineWrite(n,e,t){const i=__PRIVATE_syncEngineEnsureWriteCallbacks(n);try{const o=await function(l,c){const w=__PRIVATE_debugCast(l),er=Timestamp.now(),nr=c.reduce((sr,dr)=>sr.add(dr.key),__PRIVATE_documentKeySet());let rr,or;return w.persistence.runTransaction("Locally write mutations","readwrite",sr=>{let dr=__PRIVATE_mutableDocumentMap(),hr=__PRIVATE_documentKeySet();return w.Cs.getEntries(sr,nr).next(gr=>{dr=gr,dr.forEach((mr,vr)=>{vr.isValidDocument()||(hr=hr.add(mr))})}).next(()=>w.localDocuments.getOverlayedDocuments(sr,dr)).next(gr=>{rr=gr;const mr=[];for(const vr of c){const Sr=__PRIVATE_mutationExtractBaseValue(vr,rr.get(vr.key).overlayedDocument);Sr!=null&&mr.push(new __PRIVATE_PatchMutation(vr.key,Sr,__PRIVATE_extractFieldMask(Sr.value.mapValue),Precondition.exists(!0)))}return w.mutationQueue.addMutationBatch(sr,er,mr,c)}).next(gr=>{or=gr;const mr=gr.applyToLocalDocumentSet(rr,hr);return w.documentOverlayCache.saveOverlays(sr,gr.batchId,mr)})}).then(()=>({batchId:or.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(rr)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(l,c,w){let er=l.uu[l.currentUser.toKey()];er||(er=new SortedMap(__PRIVATE_primitiveComparator)),er=er.insert(c,w),l.uu[l.currentUser.toKey()]=er}(i,o.batchId,t),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(i,o.changes),await __PRIVATE_fillWritePipeline(i.remoteStore)}catch(o){const s=__PRIVATE_wrapInUserErrorIfRecoverable(o,"Failed to persist write");t.reject(s)}}async function __PRIVATE_syncEngineApplyRemoteEvent(n,e){const t=__PRIVATE_debugCast(n);try{const i=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(t.localStore,e);e.targetChanges.forEach((o,s)=>{const l=t._u.get(s);l&&(__PRIVATE_hardAssert(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.tu=!0:o.modifiedDocuments.size>0?__PRIVATE_hardAssert(l.tu,14607):o.removedDocuments.size>0&&(__PRIVATE_hardAssert(l.tu,42227),l.tu=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,i,e)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}function __PRIVATE_syncEngineApplyOnlineStateChange(n,e,t){const i=__PRIVATE_debugCast(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ru.forEach((s,l)=>{const c=l.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(l,c){const w=__PRIVATE_debugCast(l);w.onlineState=c;let er=!1;w.queries.forEach((nr,rr)=>{for(const or of rr.Ra)or.ga(c)&&(er=!0)}),er&&__PRIVATE_raiseSnapshotsInSyncEvent(w)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(n,e,t){const i=__PRIVATE_debugCast(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i._u.get(e),s=o&&o.key;if(s){let l=new SortedMap(DocumentKey.comparator);l=l.insert(s,MutableDocument.newNoDocument(s,SnapshotVersion.min()));const c=__PRIVATE_documentKeySet().add(s),w=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),l,c);await __PRIVATE_syncEngineApplyRemoteEvent(i,w),i.ou=i.ou.remove(s),i._u.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(i)}else await __PRIVATE_localStoreReleaseTarget(i.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(i,e,t)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(n,e){const t=__PRIVATE_debugCast(n),i=e.batch.batchId;try{const o=await __PRIVATE_localStoreAcknowledgeBatch(t.localStore,e);__PRIVATE_processUserCallback(t,i,null),__PRIVATE_triggerPendingWritesCallbacks(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}async function __PRIVATE_syncEngineRejectFailedWrite(n,e,t){const i=__PRIVATE_debugCast(n);try{const o=await function(l,c){const w=__PRIVATE_debugCast(l);return w.persistence.runTransaction("Reject batch","readwrite-primary",er=>{let nr;return w.mutationQueue.lookupMutationBatch(er,c).next(rr=>(__PRIVATE_hardAssert(rr!==null,37113),nr=rr.keys(),w.mutationQueue.removeMutationBatch(er,rr))).next(()=>w.mutationQueue.performConsistencyCheck(er)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(er,nr,c)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(er,nr)).next(()=>w.localDocuments.getDocuments(er,nr))})}(i.localStore,e);__PRIVATE_processUserCallback(i,e,t),__PRIVATE_triggerPendingWritesCallbacks(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(i,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}async function __PRIVATE_syncEngineRegisterPendingWritesCallback(n,e){const t=__PRIVATE_debugCast(n);__PRIVATE_canUseNetwork(t.remoteStore)||__PRIVATE_logDebug(Xt,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(l){const c=__PRIVATE_debugCast(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>c.mutationQueue.getHighestUnacknowledgedBatchId(w))}(t.localStore);if(i===K)return void e.resolve();const o=t.cu.get(i)||[];o.push(e),t.cu.set(i,o)}catch(i){const o=__PRIVATE_wrapInUserErrorIfRecoverable(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}function __PRIVATE_triggerPendingWritesCallbacks(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function __PRIVATE_processUserCallback(n,e,t){const i=__PRIVATE_debugCast(n);let o=i.uu[i.currentUser.toKey()];if(o){const s=o.get(e);s&&(t?s.reject(t):s.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function __PRIVATE_removeAndCleanupTarget(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||__PRIVATE_removeLimboTarget(n,i)})}function __PRIVATE_removeLimboTarget(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(__PRIVATE_remoteStoreUnlisten(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(n))}function __PRIVATE_updateTrackedLimbos(n,e,t){for(const i of t)i instanceof __PRIVATE_AddedLimboDocument?(n.au.addReference(i.key,e),__PRIVATE_trackLimboChange(n,i)):i instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(Xt,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||__PRIVATE_removeLimboTarget(n,i.key)):fail(19791,{Iu:i})}function __PRIVATE_trackLimboChange(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(__PRIVATE_logDebug(Xt,"New document in limbo: "+t),n.su.add(i),__PRIVATE_pumpEnqueuedLimboResolutions(n))}function __PRIVATE_pumpEnqueuedLimboResolutions(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new DocumentKey(ResourcePath.fromString(e)),i=n.lu.next();n._u.set(i,new LimboResolution(t)),n.ou=n.ou.insert(t,i),__PRIVATE_remoteStoreListen(n.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(t.path)),i,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.le))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e,t){const i=__PRIVATE_debugCast(n),o=[],s=[],l=[];i.ru.isEmpty()||(i.ru.forEach((c,w)=>{l.push(i.Pu(w,e,t).then(er=>{var nr;if((er||t)&&i.isPrimaryClient){const rr=er?!er.fromCache:(nr=t==null?void 0:t.targetChanges.get(w.targetId))===null||nr===void 0?void 0:nr.current;i.sharedClientState.updateQueryState(w.targetId,rr?"current":"not-current")}if(er){o.push(er);const rr=__PRIVATE_LocalViewChanges.Ps(w.targetId,er);s.push(rr)}}))}),await Promise.all(l),i.nu.Q_(o),await async function(w,er){const nr=__PRIVATE_debugCast(w);try{await nr.persistence.runTransaction("notifyLocalViewChanges","readwrite",rr=>PersistencePromise.forEach(er,or=>PersistencePromise.forEach(or.ls,sr=>nr.persistence.referenceDelegate.addReference(rr,or.targetId,sr)).next(()=>PersistencePromise.forEach(or.hs,sr=>nr.persistence.referenceDelegate.removeReference(rr,or.targetId,sr)))))}catch(rr){if(!__PRIVATE_isIndexedDbTransactionError(rr))throw rr;__PRIVATE_logDebug(Lt,"Failed to update sequence numbers: "+rr)}for(const rr of er){const or=rr.targetId;if(!rr.fromCache){const sr=nr.Ss.get(or),dr=sr.snapshotVersion,hr=sr.withLastLimboFreeSnapshotVersion(dr);nr.Ss=nr.Ss.insert(or,hr)}}}(i.localStore,s))}async function __PRIVATE_syncEngineHandleCredentialChange(n,e){const t=__PRIVATE_debugCast(n);if(!t.currentUser.isEqual(e)){__PRIVATE_logDebug(Xt,"User change. New user:",e.toKey());const i=await __PRIVATE_localStoreHandleUserChange(t.localStore,e);t.currentUser=e,function(s,l){s.cu.forEach(c=>{c.forEach(w=>{w.reject(new FirestoreError(x.CANCELLED,l))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,i.Ms)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(n,e){const t=__PRIVATE_debugCast(n),i=t._u.get(e);if(i&&i.tu)return __PRIVATE_documentKeySet().add(i.key);{let o=__PRIVATE_documentKeySet();const s=t.iu.get(e);if(!s)return o;for(const l of s){const c=t.ru.get(l);o=o.unionWith(c.view.Wa)}return o}}async function __PRIVATE_synchronizeViewAndComputeSnapshot(n,e){const t=__PRIVATE_debugCast(n),i=await __PRIVATE_localStoreExecuteQuery(t.localStore,e.query,!0),o=e.view.Xa(i);return t.isPrimaryClient&&__PRIVATE_updateTrackedLimbos(t,e.targetId,o.Ya),o}async function __PRIVATE_syncEngineSynchronizeWithChangedDocuments(n,e){const t=__PRIVATE_debugCast(n);return __PRIVATE_localStoreGetNewDocumentChanges(t.localStore,e).then(i=>__PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,i))}async function __PRIVATE_syncEngineApplyBatchState(n,e,t,i){const o=__PRIVATE_debugCast(n),s=await function(c,w){const er=__PRIVATE_debugCast(c),nr=__PRIVATE_debugCast(er.mutationQueue);return er.persistence.runTransaction("Lookup mutation documents","readonly",rr=>nr.Hn(rr,w).next(or=>or?er.localDocuments.getDocuments(rr,or):PersistencePromise.resolve(null)))}(o.localStore,e);s!==null?(t==="pending"?await __PRIVATE_fillWritePipeline(o.remoteStore):t==="acknowledged"||t==="rejected"?(__PRIVATE_processUserCallback(o,e,i||null),__PRIVATE_triggerPendingWritesCallbacks(o,e),function(c,w){__PRIVATE_debugCast(__PRIVATE_debugCast(c).mutationQueue).Xn(w)}(o.localStore,e)):fail(6720,"Unknown batchState",{Eu:t}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,s)):__PRIVATE_logDebug(Xt,"Cannot apply mutation batch with id: "+e)}async function __PRIVATE_syncEngineApplyPrimaryState(n,e){const t=__PRIVATE_debugCast(n);if(__PRIVATE_ensureWatchCallbacks(t),__PRIVATE_syncEngineEnsureWriteCallbacks(t),e===!0&&t.hu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),o=await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(t,i.toArray());t.hu=!0,await __PRIVATE_remoteStoreApplyPrimaryState(t.remoteStore,!0);for(const s of o)__PRIVATE_remoteStoreListen(t.remoteStore,s)}else if(e===!1&&t.hu!==!1){const i=[];let o=Promise.resolve();t.iu.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):o=o.then(()=>(__PRIVATE_removeAndCleanupTarget(t,l),__PRIVATE_localStoreReleaseTarget(t.localStore,l,!0))),__PRIVATE_remoteStoreUnlisten(t.remoteStore,l)}),await o,await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(t,i),function(l){const c=__PRIVATE_debugCast(l);c._u.forEach((w,er)=>{__PRIVATE_remoteStoreUnlisten(c.remoteStore,er)}),c.au.Kr(),c._u=new Map,c.ou=new SortedMap(DocumentKey.comparator)}(t),t.hu=!1,await __PRIVATE_remoteStoreApplyPrimaryState(t.remoteStore,!1)}}async function __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(n,e,t){const i=__PRIVATE_debugCast(n),o=[],s=[];for(const l of e){let c;const w=i.iu.get(l);if(w&&w.length!==0){c=await __PRIVATE_localStoreAllocateTarget(i.localStore,__PRIVATE_queryToTarget(w[0]));for(const er of w){const nr=i.ru.get(er),rr=await __PRIVATE_synchronizeViewAndComputeSnapshot(i,nr);rr.snapshot&&s.push(rr.snapshot)}}else{const er=await __PRIVATE_localStoreGetCachedTarget(i.localStore,l);c=await __PRIVATE_localStoreAllocateTarget(i.localStore,er),await __PRIVATE_initializeViewAndComputeSnapshot(i,__PRIVATE_synthesizeTargetToQuery(er),l,!1,c.resumeToken)}o.push(c)}return i.nu.Q_(s),o}function __PRIVATE_synthesizeTargetToQuery(n){return __PRIVATE_newQuery(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function __PRIVATE_syncEngineGetActiveClients(n){return function(t){return __PRIVATE_debugCast(__PRIVATE_debugCast(t).persistence).us()}(__PRIVATE_debugCast(n).localStore)}async function __PRIVATE_syncEngineApplyTargetState(n,e,t,i){const o=__PRIVATE_debugCast(n);if(o.hu)return void __PRIVATE_logDebug(Xt,"Ignoring unexpected query state notification.");const s=o.iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await __PRIVATE_localStoreGetNewDocumentChanges(o.localStore,__PRIVATE_queryCollectionGroup(s[0])),c=RemoteEvent.createSynthesizedRemoteEventForCurrentChange(e,t==="current",ByteString.EMPTY_BYTE_STRING);await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,l,c);break}case"rejected":await __PRIVATE_localStoreReleaseTarget(o.localStore,e,!0),__PRIVATE_removeAndCleanupTarget(o,e,i);break;default:fail(64155,t)}}async function __PRIVATE_syncEngineApplyActiveTargetsChange(n,e,t){const i=__PRIVATE_ensureWatchCallbacks(n);if(i.hu){for(const o of e){if(i.iu.has(o)&&i.sharedClientState.isActiveQueryTarget(o)){__PRIVATE_logDebug(Xt,"Adding an already active target "+o);continue}const s=await __PRIVATE_localStoreGetCachedTarget(i.localStore,o),l=await __PRIVATE_localStoreAllocateTarget(i.localStore,s);await __PRIVATE_initializeViewAndComputeSnapshot(i,__PRIVATE_synthesizeTargetToQuery(s),l.targetId,!1,l.resumeToken),__PRIVATE_remoteStoreListen(i.remoteStore,l)}for(const o of t)i.iu.has(o)&&await __PRIVATE_localStoreReleaseTarget(i.localStore,o,!1).then(()=>{__PRIVATE_remoteStoreUnlisten(i.remoteStore,o),__PRIVATE_removeAndCleanupTarget(i,o)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}}function __PRIVATE_ensureWatchCallbacks(n){const e=__PRIVATE_debugCast(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.nu.Q_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.nu.Tu=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(n){const e=__PRIVATE_debugCast(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}function __PRIVATE_syncEngineLoadBundle(n,e,t){const i=__PRIVATE_debugCast(n);(async function(s,l,c){try{const w=await l.getMetadata();if(await function(sr,dr){const hr=__PRIVATE_debugCast(sr),gr=__PRIVATE_fromVersion(dr.createTime);return hr.persistence.runTransaction("hasNewerBundle","readonly",mr=>hr.ci.getBundleMetadata(mr,dr.id)).then(mr=>!!mr&&mr.createTime.compareTo(gr)>=0)}(s.localStore,w))return await l.close(),c._completeWith(function(sr){return{taskState:"Success",documentsLoaded:sr.totalDocuments,bytesLoaded:sr.totalBytes,totalDocuments:sr.totalDocuments,totalBytes:sr.totalBytes}}(w)),Promise.resolve(new Set);c._updateProgress(__PRIVATE_bundleInitialProgress(w));const er=new __PRIVATE_BundleLoader(w,s.localStore,l.serializer);let nr=await l.du();for(;nr;){const or=await er.Na(nr);or&&c._updateProgress(or),nr=await l.du()}const rr=await er.complete();return await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,rr.ka,void 0),await function(sr,dr){const hr=__PRIVATE_debugCast(sr);return hr.persistence.runTransaction("Save bundle","readwrite",gr=>hr.ci.saveBundleMetadata(gr,dr))}(s.localStore,w),c._completeWith(rr.progress),Promise.resolve(rr.La)}catch(w){return __PRIVATE_logWarn(Xt,`Loading bundle failed with ${w}`),c._failWith(w),Promise.resolve(new Set)}})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ru(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Ei,this.serializer)}Au(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(i=>__PRIVATE_MemoryLruDelegate.Ei(i,t),this.serializer)}}class __PRIVATE_IndexedDbOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(e,t,i){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await __PRIVATE_syncEngineEnsureWriteCallbacks(this.gu.syncEngine),await __PRIVATE_fillWritePipeline(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}mu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(i,e.asyncQueue,t)}fu(e,t){const i=new __PRIVATE_IndexBackfiller(t,this.persistence);return new __PRIVATE_IndexBackfillerScheduler(e.asyncQueue,i)}Ru(e){const t=__PRIVATE_indexedDbStoragePrefix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_IndexedDbPersistence(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,__PRIVATE_getWindow(),getDocument(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new __PRIVATE_MemorySharedClientState}}class __PRIVATE_MultiTabOfflineComponentProvider extends __PRIVATE_IndexedDbOfflineComponentProvider{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof __PRIVATE_WebStorageSharedClientState&&(this.sharedClientState.syncEngine={yo:__PRIVATE_syncEngineApplyBatchState.bind(null,t),wo:__PRIVATE_syncEngineApplyTargetState.bind(null,t),bo:__PRIVATE_syncEngineApplyActiveTargetsChange.bind(null,t),us:__PRIVATE_syncEngineGetActiveClients.bind(null,t),po:__PRIVATE_syncEngineSynchronizeWithChangedDocuments.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async i=>{await __PRIVATE_syncEngineApplyPrimaryState(this.gu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}Au(e){const t=__PRIVATE_getWindow();if(!__PRIVATE_WebStorageSharedClientState.C(t))throw new FirestoreError(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=__PRIVATE_indexedDbStoragePrefix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new __PRIVATE_WebStorageSharedClientState(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class OnlineComponentProvider{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const t=__PRIVATE_newSerializer(e.databaseInfo.databaseId),i=function(s){return new __PRIVATE_WebChannelConnection(s)}(e.databaseInfo);return function(s,l,c,w){return new __PRIVATE_DatastoreImpl(s,l,c,w)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,s,l,c){return new __PRIVATE_RemoteStoreImpl(i,o,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,t,0),function(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,t){return function(o,s,l,c,w,er,nr){const rr=new __PRIVATE_SyncEngineImpl(o,s,l,c,w,er);return nr&&(rr.hu=!0),rr}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const s=__PRIVATE_debugCast(o);__PRIVATE_logDebug(Jt,"RemoteStore shutting down."),s.aa.add(5),await __PRIVATE_disableNetworkInternal(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};function __PRIVATE_toByteStreamReaderHelper(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BundleReaderImpl{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new __PRIVATE_Deferred,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(i=>{i&&i.xa()?this.metadata.resolve(i.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Ma)}`))},i=>this.metadata.reject(i))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),i=Number(t);isNaN(i)&&this.vu(`length string (${t}) is not valid number`);const o=await this.Cu(i);return new __PRIVATE_SizedBundleElement(JSON.parse(o),e.length+i)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Transaction$2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new FirestoreError(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(o,s){const l=__PRIVATE_debugCast(o),c={documents:s.map(rr=>__PRIVATE_toName(l.serializer,rr))},w=await l.Wo("BatchGetDocuments",l.serializer.databaseId,ResourcePath.emptyPath(),c,s.length),er=new Map;w.forEach(rr=>{const or=__PRIVATE_fromBatchGetDocumentsResponse(l.serializer,rr);er.set(or.key.toString(),or)});const nr=[];return s.forEach(rr=>{const or=er.get(rr.toString());__PRIVATE_hardAssert(!!or,55234,{key:rr}),nr.push(or)}),nr}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new __PRIVATE_DeleteMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const o=DocumentKey.fromPath(i);this.mutations.push(new __PRIVATE_VerifyMutation(o,this.precondition(o)))}),await async function(i,o){const s=__PRIVATE_debugCast(i),l={writes:o.map(c=>toMutation(s.serializer,c))};await s.Qo("Commit",s.serializer.databaseId,ResourcePath.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fail(50498,{xu:e.constructor.name});t=SnapshotVersion.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new FirestoreError(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(SnapshotVersion.min())?Precondition.exists(!1):Precondition.updateTime(t):Precondition.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(SnapshotVersion.min()))throw new FirestoreError(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Precondition.updateTime(t)}return Precondition.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TransactionRunner{constructor(e,t,i,o,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=s,this.Ou=i.maxAttempts,this.y_=new __PRIVATE_ExponentialBackoff(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new Transaction$2(this.datastore),t=this.Lu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(o=>{this.ku(o)}))}).catch(i=>{this.ku(i)})})}Lu(e){try{const t=this.updateFunction(e);return!__PRIVATE_isNullOrUndefined(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!__PRIVATE_isPermanentError(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="FirestoreClient";class FirestoreClient{constructor(e,t,i,o,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async l=>{__PRIVATE_logDebug(en,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(__PRIVATE_logDebug(en,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=__PRIVATE_wrapInUserErrorIfRecoverable(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(n,e){n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(en,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(n,e){n.asyncQueue.verifyOperationInProgress();const t=await __PRIVATE_ensureOfflineComponents(n);__PRIVATE_logDebug(en,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,o)),n._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){__PRIVATE_logDebug(en,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===x.FAILED_PRECONDITION||o.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+t),await __PRIVATE_setOfflineComponentProvider(n,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(en,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(n,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return n._offlineComponents}async function __PRIVATE_ensureOnlineComponents(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(__PRIVATE_logDebug(en,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(n,n._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(en,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(n,new OnlineComponentProvider))),n._onlineComponents}function __PRIVATE_getPersistence(n){return __PRIVATE_ensureOfflineComponents(n).then(e=>e.persistence)}function __PRIVATE_getLocalStore(n){return __PRIVATE_ensureOfflineComponents(n).then(e=>e.localStore)}function __PRIVATE_getRemoteStore(n){return __PRIVATE_ensureOnlineComponents(n).then(e=>e.remoteStore)}function __PRIVATE_getSyncEngine(n){return __PRIVATE_ensureOnlineComponents(n).then(e=>e.syncEngine)}function __PRIVATE_getDatastore(n){return __PRIVATE_ensureOnlineComponents(n).then(e=>e.datastore)}async function __PRIVATE_getEventManager(n){const e=await __PRIVATE_ensureOnlineComponents(n),t=e.eventManager;return t.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),t.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),t}function __PRIVATE_firestoreClientEnableNetwork(n){return n.asyncQueue.enqueue(async()=>{const e=await __PRIVATE_getPersistence(n),t=await __PRIVATE_getRemoteStore(n);return e.setNetworkEnabled(!0),function(o){const s=__PRIVATE_debugCast(o);return s.aa.delete(0),__PRIVATE_enableNetworkInternal(s)}(t)})}function __PRIVATE_firestoreClientDisableNetwork(n){return n.asyncQueue.enqueue(async()=>{const e=await __PRIVATE_getPersistence(n),t=await __PRIVATE_getRemoteStore(n);return e.setNetworkEnabled(!1),async function(o){const s=__PRIVATE_debugCast(o);s.aa.add(0),await __PRIVATE_disableNetworkInternal(s),s.la.set("Offline")}(t)})}function __PRIVATE_firestoreClientGetDocumentFromLocalCache(n,e){const t=new __PRIVATE_Deferred;return n.asyncQueue.enqueueAndForget(async()=>async function(o,s,l){try{const c=await function(er,nr){const rr=__PRIVATE_debugCast(er);return rr.persistence.runTransaction("read document","readonly",or=>rr.localDocuments.getDocument(or,nr))}(o,s);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new FirestoreError(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const w=__PRIVATE_wrapInUserErrorIfRecoverable(c,`Failed to get document '${s} from cache`);l.reject(w)}}(await __PRIVATE_getLocalStore(n),e,t)),t.promise}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(n,e,t={}){const i=new __PRIVATE_Deferred;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,c,w,er){const nr=new __PRIVATE_AsyncObserver({next:or=>{nr.yu(),l.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(s,rr));const sr=or.docs.has(c);!sr&&or.fromCache?er.reject(new FirestoreError(x.UNAVAILABLE,"Failed to get document because the client is offline.")):sr&&or.fromCache&&w&&w.source==="server"?er.reject(new FirestoreError(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):er.resolve(or)},error:or=>er.reject(or)}),rr=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(c.path),nr,{includeMetadataChanges:!0,Fa:!0});return __PRIVATE_eventManagerListen(s,rr)}(await __PRIVATE_getEventManager(n),n.asyncQueue,e,t,i)),i.promise}function __PRIVATE_firestoreClientGetDocumentsFromLocalCache(n,e){const t=new __PRIVATE_Deferred;return n.asyncQueue.enqueueAndForget(async()=>async function(o,s,l){try{const c=await __PRIVATE_localStoreExecuteQuery(o,s,!0),w=new __PRIVATE_View(s,c.Ns),er=w.Ga(c.documents),nr=w.applyChanges(er,!1);l.resolve(nr.snapshot)}catch(c){const w=__PRIVATE_wrapInUserErrorIfRecoverable(c,`Failed to execute query '${s} against cache`);l.reject(w)}}(await __PRIVATE_getLocalStore(n),e,t)),t.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,e,t={}){const i=new __PRIVATE_Deferred;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,c,w,er){const nr=new __PRIVATE_AsyncObserver({next:or=>{nr.yu(),l.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(s,rr)),or.fromCache&&w.source==="server"?er.reject(new FirestoreError(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):er.resolve(or)},error:or=>er.reject(or)}),rr=new __PRIVATE_QueryListener(c,nr,{includeMetadataChanges:!0,Fa:!0});return __PRIVATE_eventManagerListen(s,rr)}(await __PRIVATE_getEventManager(n),n.asyncQueue,e,t,i)),i.promise}function __PRIVATE_firestoreClientAddSnapshotsInSyncListener(n,e){const t=new __PRIVATE_AsyncObserver(e);return n.asyncQueue.enqueueAndForget(async()=>function(o,s){__PRIVATE_debugCast(o).fa.add(s),s.next()}(await __PRIVATE_getEventManager(n),t)),()=>{t.yu(),n.asyncQueue.enqueueAndForget(async()=>function(o,s){__PRIVATE_debugCast(o).fa.delete(s)}(await __PRIVATE_getEventManager(n),t))}}function __PRIVATE_firestoreClientLoadBundle(n,e,t,i){const o=function(l,c){let w;return w=typeof l=="string"?__PRIVATE_newTextEncoder().encode(l):l,function(nr,rr){return new __PRIVATE_BundleReaderImpl(nr,rr)}(function(nr,rr){if(nr instanceof Uint8Array)return __PRIVATE_toByteStreamReaderHelper(nr,rr);if(nr instanceof ArrayBuffer)return __PRIVATE_toByteStreamReaderHelper(new Uint8Array(nr),rr);if(nr instanceof ReadableStream)return nr.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),c)}(t,__PRIVATE_newSerializer(e));n.asyncQueue.enqueueAndForget(async()=>{__PRIVATE_syncEngineLoadBundle(await __PRIVATE_getSyncEngine(n),o,i)})}function __PRIVATE_firestoreClientGetNamedQuery(n,e){return n.asyncQueue.enqueue(async()=>function(i,o){const s=__PRIVATE_debugCast(i);return s.persistence.runTransaction("Get named query","readonly",l=>s.ci.getNamedQuery(l,o))}(await __PRIVATE_getLocalStore(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(n,e,t){if(!t)throw new FirestoreError(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(n,e,t,i){if(e===!0&&i===!0)throw new FirestoreError(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function __PRIVATE_validateDocumentPath(n){if(!DocumentKey.isDocumentKey(n))throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function __PRIVATE_validateCollectionPath(n){if(DocumentKey.isDocumentKey(n))throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function __PRIVATE_valueDescription(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fail(12329,{type:typeof n})}function __PRIVATE_cast(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new FirestoreError(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=__PRIVATE_valueDescription(n);throw new FirestoreError(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function __PRIVATE_validatePositiveNumber(n,e){if(e<=0)throw new FirestoreError(x.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="firestore.googleapis.com",rn=!0;class FirestoreSettingsImpl{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nn,this.ssl=rn}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rn;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vt;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ft)throw new FirestoreError(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new FirestoreError(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new FirestoreError(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new FirestoreError(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(i.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new FirestoreError(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=tn.get(t);i&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),tn.delete(t),i.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(n,e,t,i={}){var o;n=__PRIVATE_cast(n,Firestore$1);const s=isCloudWorkstation(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),w=`${e}:${t}`;s&&pingServer(`https://${w}`),l.host!==nn&&l.host!==w&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const er=Object.assign(Object.assign({},l),{host:w,ssl:s,emulatorOptions:i});if(!deepEqual(er,c)&&(n._setSettings(er),i.mockUserToken)){let nr,rr;if(typeof i.mockUserToken=="string")nr=i.mockUserToken,rr=User.MOCK_USER;else{nr=createMockUserToken(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const or=i.mockUserToken.sub||i.mockUserToken.user_id;if(!or)throw new FirestoreError(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");rr=new User(or)}n._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(nr,rr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Query$1=class gg{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gg(this.firestore,e,this._query)}},DocumentReference$1=class hg{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference$1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hg(this.firestore,e,this._key)}},CollectionReference$1=class fg extends Query$1{constructor(e,t,i){super(e,t,__PRIVATE_newQueryForPath(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference$1(this.firestore,null,new DocumentKey(e))}withConverter(e){return new fg(this.firestore,e,this._path)}};function collection(n,e,...t){if(n=getModularInstance(n),__PRIVATE_validateNonEmptyArgument("collection","path",e),n instanceof Firestore$1){const i=ResourcePath.fromString(e,...t);return __PRIVATE_validateCollectionPath(i),new CollectionReference$1(n,null,i)}{if(!(n instanceof DocumentReference$1||n instanceof CollectionReference$1))throw new FirestoreError(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ResourcePath.fromString(e,...t));return __PRIVATE_validateCollectionPath(i),new CollectionReference$1(n.firestore,null,i)}}function collectionGroup(n,e){if(n=__PRIVATE_cast(n,Firestore$1),__PRIVATE_validateNonEmptyArgument("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Query$1(n,null,function(i){return new __PRIVATE_QueryImpl(ResourcePath.emptyPath(),i)}(e))}function doc(n,e,...t){if(n=getModularInstance(n),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),n instanceof Firestore$1){const i=ResourcePath.fromString(e,...t);return __PRIVATE_validateDocumentPath(i),new DocumentReference$1(n,null,new DocumentKey(i))}{if(!(n instanceof DocumentReference$1||n instanceof CollectionReference$1))throw new FirestoreError(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ResourcePath.fromString(e,...t));return __PRIVATE_validateDocumentPath(i),new DocumentReference$1(n.firestore,n instanceof CollectionReference$1?n.converter:null,new DocumentKey(i))}}function refEqual(n,e){return n=getModularInstance(n),e=getModularInstance(e),(n instanceof DocumentReference$1||n instanceof CollectionReference$1)&&(e instanceof DocumentReference$1||e instanceof CollectionReference$1)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function queryEqual(n,e){return n=getModularInstance(n),e=getModularInstance(e),n instanceof Query$1&&e instanceof Query$1&&n.firestore===e.firestore&&__PRIVATE_queryEquals(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.ju=()=>{const i=getDocument();i&&__PRIVATE_logDebug(sn,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=getDocument();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=getDocument();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new __PRIVATE_Deferred;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(sn,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=DelayedOperation.createAndSchedule(this,e,t,i,s=>this.Xu(s));return this.Uu.push(o),o}Ju(){this.Ku&&fail(47125,{ec:__PRIVATE_getMessageOrStack(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function __PRIVATE_getMessageOrStack(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isPartialObserver(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const s of i)if(s in o&&typeof o[s]=="function")return!0;return!1}(n,["next","error","complete"])}class LoadBundleTask{constructor(){this._progressObserver={},this._taskCompletionResolver=new __PRIVATE_Deferred,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=-1;let Firestore$2=class extends Firestore$1{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}};function ensureFirestoreConfigured(n){if(n._terminated)throw new FirestoreError(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||__PRIVATE_configureFirestore(n),n._firestoreClient}function __PRIVATE_configureFirestore(n){var e,t,i;const o=n._freezeSettings(),s=function(c,w,er,nr){return new DatabaseInfo(c,w,er,nr.host,nr.ssl,nr.experimentalForceLongPolling,nr.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(nr.experimentalLongPollingOptions),nr.useFetchStreams,nr.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new FirestoreClient(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const w=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(w),_online:w}}(n._componentsProvider))}function enableIndexedDbPersistence(n,e){__PRIVATE_logWarn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return __PRIVATE_setPersistenceProviders(n,OnlineComponentProvider.provider,{build:i=>new __PRIVATE_IndexedDbOfflineComponentProvider(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function enableMultiTabIndexedDbPersistence(n){__PRIVATE_logWarn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();__PRIVATE_setPersistenceProviders(n,OnlineComponentProvider.provider,{build:t=>new __PRIVATE_MultiTabOfflineComponentProvider(t,e.cacheSizeBytes)})}function __PRIVATE_setPersistenceProviders(n,e,t){if((n=__PRIVATE_cast(n,Firestore$2))._firestoreClient||n._terminated)throw new FirestoreError(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new FirestoreError(x.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},__PRIVATE_configureFirestore(n)}function clearIndexedDbPersistence(n){if(n._initialized&&!n._terminated)throw new FirestoreError(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new __PRIVATE_Deferred;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!__PRIVATE_SimpleDb.C())return Promise.resolve();const o=i+Bt;await __PRIVATE_SimpleDb.delete(o)}(__PRIVATE_indexedDbStoragePrefix(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function waitForPendingWrites(n){return function(t){const i=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineRegisterPendingWritesCallback(await __PRIVATE_getSyncEngine(t),i)),i.promise}(ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)))}function enableNetwork(n){return __PRIVATE_firestoreClientEnableNetwork(ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)))}function disableNetwork(n){return __PRIVATE_firestoreClientDisableNetwork(ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)))}function loadBundle(n,e){const t=ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)),i=new LoadBundleTask;return __PRIVATE_firestoreClientLoadBundle(t,n._databaseId,e,i),i}function namedQuery(n,e){return __PRIVATE_firestoreClientGetNamedQuery(ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)),e).then(t=>t?new Query$1(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(t){throw new FirestoreError(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldPath$2=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new FirestoreError(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldValue$1=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new FirestoreError(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==o[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=/^__.*__$/;class ParsedSetData{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,t,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function __PRIVATE_isWrite(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{oc:n})}}class __PRIVATE_ParseContextImpl{constructor(e,t,i,o,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(__PRIVATE_isWrite(this.oc)&&_n.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||__PRIVATE_newSerializer(e)}dc(e,t,i,o=!1){return new __PRIVATE_ParseContextImpl({oc:e,methodName:t,Ec:i,path:FieldPath$1.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(n){const e=n._freezeSettings(),t=__PRIVATE_newSerializer(n._databaseId);return new __PRIVATE_UserDataReader(n._databaseId,!!e.ignoreUndefinedProperties,t)}function __PRIVATE_parseSetData(n,e,t,i,o,s={}){const l=n.dc(s.merge||s.mergeFields?2:0,e,t,o);__PRIVATE_validatePlainObject("Data must be an object, but it was:",l,i);const c=__PRIVATE_parseObject(i,l);let w,er;if(s.merge)w=new FieldMask(l.fieldMask),er=l.fieldTransforms;else if(s.mergeFields){const nr=[];for(const rr of s.mergeFields){const or=__PRIVATE_fieldPathFromArgument$1(e,rr,t);if(!l.contains(or))throw new FirestoreError(x.INVALID_ARGUMENT,`Field '${or}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(nr,or)||nr.push(or)}w=new FieldMask(nr),er=l.fieldTransforms.filter(rr=>w.covers(rr.field))}else w=null,er=l.fieldTransforms;return new ParsedSetData(new ObjectValue(c),w,er)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue$1{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(n,e,t){return new __PRIVATE_ParseContextImpl({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue$1{_toFieldTransform(e){return new FieldTransform(e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue$1{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=__PRIVATE_createSentinelChildContext(this,e,!0),i=this.Ac.map(s=>__PRIVATE_parseData(s,t)),o=new __PRIVATE_ArrayUnionTransformOperation(i);return new FieldTransform(e.path,o)}isEqual(e){return e instanceof __PRIVATE_ArrayUnionFieldValueImpl&&deepEqual(this.Ac,e.Ac)}}class __PRIVATE_ArrayRemoveFieldValueImpl extends FieldValue$1{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=__PRIVATE_createSentinelChildContext(this,e,!0),i=this.Ac.map(s=>__PRIVATE_parseData(s,t)),o=new __PRIVATE_ArrayRemoveTransformOperation(i);return new FieldTransform(e.path,o)}isEqual(e){return e instanceof __PRIVATE_ArrayRemoveFieldValueImpl&&deepEqual(this.Ac,e.Ac)}}class __PRIVATE_NumericIncrementFieldValueImpl extends FieldValue$1{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new __PRIVATE_NumericIncrementTransformOperation(e.serializer,toNumber(e.serializer,this.Rc));return new FieldTransform(e.path,t)}isEqual(e){return e instanceof __PRIVATE_NumericIncrementFieldValueImpl&&this.Rc===e.Rc}}function __PRIVATE_parseUpdateData(n,e,t,i){const o=n.dc(1,e,t);__PRIVATE_validatePlainObject("Data must be an object, but it was:",o,i);const s=[],l=ObjectValue.empty();forEach(i,(w,er)=>{const nr=__PRIVATE_fieldPathFromDotSeparatedString(e,w,t);er=getModularInstance(er);const rr=o.hc(nr);if(er instanceof __PRIVATE_DeleteFieldValueImpl)s.push(nr);else{const or=__PRIVATE_parseData(er,rr);or!=null&&(s.push(nr),l.set(nr,or))}});const c=new FieldMask(s);return new ParsedUpdateData(l,c,o.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(n,e,t,i,o,s){const l=n.dc(1,e,t),c=[__PRIVATE_fieldPathFromArgument$1(e,i,t)],w=[o];if(s.length%2!=0)throw new FirestoreError(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let or=0;or<s.length;or+=2)c.push(__PRIVATE_fieldPathFromArgument$1(e,s[or])),w.push(s[or+1]);const er=[],nr=ObjectValue.empty();for(let or=c.length-1;or>=0;--or)if(!__PRIVATE_fieldMaskContains(er,c[or])){const sr=c[or];let dr=w[or];dr=getModularInstance(dr);const hr=l.hc(sr);if(dr instanceof __PRIVATE_DeleteFieldValueImpl)er.push(sr);else{const gr=__PRIVATE_parseData(dr,hr);gr!=null&&(er.push(sr),nr.set(sr,gr))}}const rr=new FieldMask(er);return new ParsedUpdateData(nr,rr,l.fieldTransforms)}function __PRIVATE_parseQueryValue(n,e,t,i=!1){return __PRIVATE_parseData(t,n.dc(i?4:3,e))}function __PRIVATE_parseData(n,e){if(__PRIVATE_looksLikeJsonObject(n=getModularInstance(n)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,n),__PRIVATE_parseObject(n,e);if(n instanceof FieldValue$1)return function(i,o){if(!__PRIVATE_isWrite(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const s=[];let l=0;for(const c of i){let w=__PRIVATE_parseData(c,o.Pc(l));w==null&&(w={nullValue:"NULL_VALUE"}),s.push(w),l++}return{arrayValue:{values:s}}}(n,e)}return function(i,o){if((i=getModularInstance(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return toNumber(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Timestamp.fromDate(i);return{timestampValue:toTimestamp(o.serializer,s)}}if(i instanceof Timestamp){const s=new Timestamp(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:toTimestamp(o.serializer,s)}}if(i instanceof GeoPoint)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(o.serializer,i._byteString)};if(i instanceof DocumentReference$1){const s=o.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw o.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:__PRIVATE_toResourceName(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof VectorValue)return function(l,c){return{mapValue:{fields:{[_t]:{stringValue:ct},[lt]:{arrayValue:{values:l.toArray().map(er=>{if(typeof er!="number")throw c.Tc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(c.serializer,er)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${__PRIVATE_valueDescription(i)}`)}(n,e)}function __PRIVATE_parseObject(n,e){const t={};return isEmpty(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(n,(i,o)=>{const s=__PRIVATE_parseData(o,e.uc(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function __PRIVATE_looksLikeJsonObject(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Timestamp||n instanceof GeoPoint||n instanceof Bytes||n instanceof DocumentReference$1||n instanceof FieldValue$1||n instanceof VectorValue)}function __PRIVATE_validatePlainObject(n,e,t){if(!__PRIVATE_looksLikeJsonObject(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=__PRIVATE_valueDescription(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function __PRIVATE_fieldPathFromArgument$1(n,e,t){if((e=getModularInstance(e))instanceof FieldPath$2)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(n,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",n,!1,void 0,t)}const an=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(n,e,t){if(e.search(an)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new FieldPath$2(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function __PRIVATE_createError(n,e,t,i,o){const s=i&&!i.isEmpty(),l=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let w="";return(s||l)&&(w+=" (found",s&&(w+=` in field ${i}`),l&&(w+=` in document ${o}`),w+=")"),new FirestoreError(x.INVALID_ARGUMENT,c+n+w)}function __PRIVATE_fieldMaskContains(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,t,i,o,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference$1(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(n,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(n,e):e instanceof FieldPath$2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new FirestoreError(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(n,e,...t){let i=[];e instanceof AppliableConstraint&&i.push(e),i=i.concat(t),function(s){const l=s.filter(w=>w instanceof QueryCompositeFilterConstraint).length,c=s.filter(w=>w instanceof QueryFieldFilterConstraint).length;if(l>1||l>0&&c>0)throw new FirestoreError(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new QueryFieldFilterConstraint(e,t,i)}_apply(e){const t=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,t),new Query$1(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t))}_parse(e){const t=__PRIVATE_newUserDataReader(e.firestore);return function(s,l,c,w,er,nr,rr){let or;if(er.isKeyField()){if(nr==="array-contains"||nr==="array-contains-any")throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${nr}' queries on documentId().`);if(nr==="in"||nr==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(rr,nr);const dr=[];for(const hr of rr)dr.push(__PRIVATE_parseDocumentIdValue(w,s,hr));or={arrayValue:{values:dr}}}else or=__PRIVATE_parseDocumentIdValue(w,s,rr)}else nr!=="in"&&nr!=="not-in"&&nr!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(rr,nr),or=__PRIVATE_parseQueryValue(c,l,rr,nr==="in"||nr==="not-in");return FieldFilter.create(er,nr,or)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function where(n,e,t){const i=e,o=__PRIVATE_fieldPathFromArgument("where",n);return QueryFieldFilterConstraint._create(o,i,t)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QueryCompositeFilterConstraint(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:CompositeFilter.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,s){let l=o;const c=s.getFlattenedFilters();for(const w of c)__PRIVATE_validateNewFieldFilter(l,w),l=__PRIVATE_queryWithAddedFilter(l,w)}(e._query,t),new Query$1(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QueryOrderByConstraint(e,t)}_apply(e){const t=function(o,s,l){if(o.startAt!==null)throw new FirestoreError(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new FirestoreError(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(s,l)}(e._query,this._field,this._direction);return new Query$1(e.firestore,e.converter,function(o,s){const l=o.explicitOrderBy.concat([s]);return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function orderBy(n,e="asc"){const t=e,i=__PRIVATE_fieldPathFromArgument("orderBy",n);return QueryOrderByConstraint._create(i,t)}class QueryLimitConstraint extends QueryConstraint{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new QueryLimitConstraint(e,t,i)}_apply(e){return new Query$1(e.firestore,e.converter,__PRIVATE_queryWithLimit(e._query,this._limit,this._limitType))}}function limit(n){return __PRIVATE_validatePositiveNumber("limit",n),QueryLimitConstraint._create("limit",n,"F")}function limitToLast(n){return __PRIVATE_validatePositiveNumber("limitToLast",n),QueryLimitConstraint._create("limitToLast",n,"L")}class QueryStartAtConstraint extends QueryConstraint{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new QueryStartAtConstraint(e,t,i)}_apply(e){const t=__PRIVATE_newQueryBoundFromDocOrFields(e,this.type,this._docOrFields,this._inclusive);return new Query$1(e.firestore,e.converter,function(o,s){return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(e._query,t))}}function startAt(...n){return QueryStartAtConstraint._create("startAt",n,!0)}function startAfter(...n){return QueryStartAtConstraint._create("startAfter",n,!1)}class QueryEndAtConstraint extends QueryConstraint{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new QueryEndAtConstraint(e,t,i)}_apply(e){const t=__PRIVATE_newQueryBoundFromDocOrFields(e,this.type,this._docOrFields,this._inclusive);return new Query$1(e.firestore,e.converter,function(o,s){return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(e._query,t))}}function endBefore(...n){return QueryEndAtConstraint._create("endBefore",n,!1)}function endAt(...n){return QueryEndAtConstraint._create("endAt",n,!0)}function __PRIVATE_newQueryBoundFromDocOrFields(n,e,t,i){if(t[0]=getModularInstance(t[0]),t[0]instanceof DocumentSnapshot$1)return function(s,l,c,w,er){if(!w)throw new FirestoreError(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const nr=[];for(const rr of __PRIVATE_queryNormalizedOrderBy(s))if(rr.field.isKeyField())nr.push(__PRIVATE_refValue(l,w.key));else{const or=w.data.field(rr.field);if(__PRIVATE_isServerTimestamp(or))throw new FirestoreError(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+rr.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(or===null){const sr=rr.field.canonicalString();throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${sr}' (used as the orderBy) does not exist.`)}nr.push(or)}return new Bound(nr,er)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=__PRIVATE_newUserDataReader(n.firestore);return function(l,c,w,er,nr,rr){const or=l.explicitOrderBy;if(nr.length>or.length)throw new FirestoreError(x.INVALID_ARGUMENT,`Too many arguments provided to ${er}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const sr=[];for(let dr=0;dr<nr.length;dr++){const hr=nr[dr];if(or[dr].field.isKeyField()){if(typeof hr!="string")throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${er}(), but got a ${typeof hr}`);if(!__PRIVATE_isCollectionGroupQuery(l)&&hr.indexOf("/")!==-1)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${er}() must be a plain document ID, but '${hr}' contains a slash.`);const gr=l.path.child(ResourcePath.fromString(hr));if(!DocumentKey.isDocumentKey(gr))throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${er}() must result in a valid document path, but '${gr}' is not because it contains an odd number of segments.`);const mr=new DocumentKey(gr);sr.push(__PRIVATE_refValue(c,mr))}else{const gr=__PRIVATE_parseQueryValue(w,er,hr);sr.push(gr)}}return new Bound(sr,rr)}(n._query,n.firestore._databaseId,o,e,t,i)}}function __PRIVATE_parseDocumentIdValue(n,e,t){if(typeof(t=getModularInstance(t))=="string"){if(t==="")throw new FirestoreError(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&t.indexOf("/")!==-1)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ResourcePath.fromString(t));if(!DocumentKey.isDocumentKey(i))throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return __PRIVATE_refValue(n,new DocumentKey(i))}if(t instanceof DocumentReference$1)return __PRIVATE_refValue(n,t._key);throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(t)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(n,e){if(!Array.isArray(n)||n.length===0)throw new FirestoreError(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(n,e){const t=function(o,s){for(const l of o)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,t="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fail(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return forEach(e,(o,s)=>{i[o]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,o;const s=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[lt].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(l=>__PRIVATE_normalizeNumber(l.doubleValue));return new VectorValue(s)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=__PRIVATE_getPreviousValue(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const t=__PRIVATE_normalizeTimestamp(e);return new Timestamp(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(i),9688,{name:e});const o=new DatabaseId(i.get(1),i.get(3)),s=new DocumentKey(i.popFirst(5));return o.isEqual(t)||__PRIVATE_logError(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class __PRIVATE_LiteUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference$1(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let DocumentSnapshot$2=class extends DocumentSnapshot$1{constructor(e,t,i,o,s,l){super(e,t,i,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},QueryDocumentSnapshot$2=class extends DocumentSnapshot$2{data(e={}){return super.data(e)}},QuerySnapshot$1=class{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new SnapshotMetadata(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new QueryDocumentSnapshot$2(this._firestore,this._userDataWriter,i.key,i,new SnapshotMetadata(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(c=>{const w=new QueryDocumentSnapshot$2(o._firestore,o._userDataWriter,c.doc.key,c.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:w,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const w=new QueryDocumentSnapshot$2(o._firestore,o._userDataWriter,c.doc.key,c.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let er=-1,nr=-1;return c.type!==0&&(er=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),nr=l.indexOf(c.doc.key)),{type:__PRIVATE_resultChangeType(c.type),doc:w,oldIndex:er,newIndex:nr}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function __PRIVATE_resultChangeType(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:n})}}function snapshotEqual(n,e){return n instanceof DocumentSnapshot$2&&e instanceof DocumentSnapshot$2?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof QuerySnapshot$1&&e instanceof QuerySnapshot$1&&n._firestore===e._firestore&&queryEqual(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(n){n=__PRIVATE_cast(n,DocumentReference$1);const e=__PRIVATE_cast(n.firestore,Firestore$2);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),n._key).then(t=>__PRIVATE_convertToDocSnapshot(e,n,t))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference$1(this.firestore,null,t)}}function getDocFromCache(n){n=__PRIVATE_cast(n,DocumentReference$1);const e=__PRIVATE_cast(n.firestore,Firestore$2),t=ensureFirestoreConfigured(e),i=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_firestoreClientGetDocumentFromLocalCache(t,n._key).then(o=>new DocumentSnapshot$2(e,i,n._key,o,new SnapshotMetadata(o!==null&&o.hasLocalMutations,!0),n.converter))}function getDocFromServer(n){n=__PRIVATE_cast(n,DocumentReference$1);const e=__PRIVATE_cast(n.firestore,Firestore$2);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),n._key,{source:"server"}).then(t=>__PRIVATE_convertToDocSnapshot(e,n,t))}function getDocs(n){n=__PRIVATE_cast(n,Query$1);const e=__PRIVATE_cast(n.firestore,Firestore$2),t=ensureFirestoreConfigured(e),i=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(n._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,n._query).then(o=>new QuerySnapshot$1(e,i,n,o))}function getDocsFromCache(n){n=__PRIVATE_cast(n,Query$1);const e=__PRIVATE_cast(n.firestore,Firestore$2),t=ensureFirestoreConfigured(e),i=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_firestoreClientGetDocumentsFromLocalCache(t,n._query).then(o=>new QuerySnapshot$1(e,i,n,o))}function getDocsFromServer(n){n=__PRIVATE_cast(n,Query$1);const e=__PRIVATE_cast(n.firestore,Firestore$2),t=ensureFirestoreConfigured(e),i=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,n._query,{source:"server"}).then(o=>new QuerySnapshot$1(e,i,n,o))}function setDoc(n,e,t){n=__PRIVATE_cast(n,DocumentReference$1);const i=__PRIVATE_cast(n.firestore,Firestore$2),o=__PRIVATE_applyFirestoreDataConverter(n.converter,e,t);return executeWrite(i,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Precondition.none())])}function updateDoc(n,e,t,...i){n=__PRIVATE_cast(n,DocumentReference$1);const o=__PRIVATE_cast(n.firestore,Firestore$2),s=__PRIVATE_newUserDataReader(o);let l;return l=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(s,"updateDoc",n._key,e,t,i):__PRIVATE_parseUpdateData(s,"updateDoc",n._key,e),executeWrite(o,[l.toMutation(n._key,Precondition.exists(!0))])}function deleteDoc(n){return executeWrite(__PRIVATE_cast(n.firestore,Firestore$2),[new __PRIVATE_DeleteMutation(n._key,Precondition.none())])}function addDoc(n,e){const t=__PRIVATE_cast(n.firestore,Firestore$2),i=doc(n),o=__PRIVATE_applyFirestoreDataConverter(n.converter,e);return executeWrite(t,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Precondition.exists(!1))]).then(()=>i)}function onSnapshot(n,...e){var t,i,o;n=getModularInstance(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||__PRIVATE_isPartialObserver(e[l])||(s=e[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(__PRIVATE_isPartialObserver(e[l])){const rr=e[l];e[l]=(t=rr.next)===null||t===void 0?void 0:t.bind(rr),e[l+1]=(i=rr.error)===null||i===void 0?void 0:i.bind(rr),e[l+2]=(o=rr.complete)===null||o===void 0?void 0:o.bind(rr)}let w,er,nr;if(n instanceof DocumentReference$1)er=__PRIVATE_cast(n.firestore,Firestore$2),nr=__PRIVATE_newQueryForPath(n._key.path),w={next:rr=>{e[l]&&e[l](__PRIVATE_convertToDocSnapshot(er,n,rr))},error:e[l+1],complete:e[l+2]};else{const rr=__PRIVATE_cast(n,Query$1);er=__PRIVATE_cast(rr.firestore,Firestore$2),nr=rr._query;const or=new __PRIVATE_ExpUserDataWriter(er);w={next:sr=>{e[l]&&e[l](new QuerySnapshot$1(er,or,rr,sr))},error:e[l+1],complete:e[l+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(n._query)}return function(or,sr,dr,hr){const gr=new __PRIVATE_AsyncObserver(hr),mr=new __PRIVATE_QueryListener(sr,gr,dr);return or.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(or),mr)),()=>{gr.yu(),or.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(or),mr))}}(ensureFirestoreConfigured(er),nr,c,w)}function onSnapshotsInSync(n,e){return __PRIVATE_firestoreClientAddSnapshotsInSyncListener(ensureFirestoreConfigured(n=__PRIVATE_cast(n,Firestore$2)),__PRIVATE_isPartialObserver(e)?e:{next:e})}function executeWrite(n,e){return function(i,o){const s=new __PRIVATE_Deferred;return i.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(i),o,s)),s.promise}(ensureFirestoreConfigured(n),e)}function __PRIVATE_convertToDocSnapshot(n,e,t){const i=t.docs.get(e._key),o=new __PRIVATE_ExpUserDataWriter(n);return new DocumentSnapshot$2(n,o,e._key,i,new SnapshotMetadata(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WriteBatch$1=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(e)}set(e,t,i){this._verifyNotCommitted();const o=__PRIVATE_validateReference(e,this._firestore),s=__PRIVATE_applyFirestoreDataConverter(o.converter,t,i),l=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(l.toMutation(o._key,Precondition.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const s=__PRIVATE_validateReference(e,this._firestore);let l;return l=typeof(t=getModularInstance(t))=="string"||t instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",s._key,t,i,o):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Precondition.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=__PRIVATE_validateReference(e,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(t._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function __PRIVATE_validateReference(n,e){if((n=getModularInstance(n)).firestore!==e)throw new FirestoreError(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Transaction$1{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=__PRIVATE_newUserDataReader(e)}get(e){const t=__PRIVATE_validateReference(e,this._firestore),i=new __PRIVATE_LiteUserDataWriter(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||o.length!==1)return fail(24041);const s=o[0];if(s.isFoundDocument())return new DocumentSnapshot$1(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new DocumentSnapshot$1(this._firestore,i,t._key,null,t.converter);throw fail(18433,{doc:s})})}set(e,t,i){const o=__PRIVATE_validateReference(e,this._firestore),s=__PRIVATE_applyFirestoreDataConverter(o.converter,t,i),l=__PRIVATE_parseSetData(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,l),this}update(e,t,i,...o){const s=__PRIVATE_validateReference(e,this._firestore);let l;return l=typeof(t=getModularInstance(t))=="string"||t instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(this._dataReader,"Transaction.update",s._key,t,i,o):__PRIVATE_parseUpdateData(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=__PRIVATE_validateReference(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Transaction$3=class extends Transaction$1{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=__PRIVATE_validateReference(e,this._firestore),i=new __PRIVATE_ExpUserDataWriter(this._firestore);return super.get(e).then(o=>new DocumentSnapshot$2(this._firestore,i,t._key,o._document,new SnapshotMetadata(!1,!1),t.converter))}};function runTransaction(n,e,t){n=__PRIVATE_cast(n,Firestore$2);const i=Object.assign(Object.assign({},un),t);return function(s){if(s.maxAttempts<1)throw new FirestoreError(x.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,l,c){const w=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget(async()=>{const er=await __PRIVATE_getDatastore(s);new __PRIVATE_TransactionRunner(s.asyncQueue,er,c,l,w).Nu()}),w.promise}(ensureFirestoreConfigured(n),o=>e(new Transaction$3(n,o)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deleteField(){return new __PRIVATE_DeleteFieldValueImpl("deleteField")}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function arrayUnion(...n){return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",n)}function arrayRemove(...n){return new __PRIVATE_ArrayRemoveFieldValueImpl("arrayRemove",n)}function increment(n){return new __PRIVATE_NumericIncrementFieldValueImpl("increment",n)}(function(e,t=!0){(function(o){F$1=o})(SDK_VERSION),_registerComponent(new Component("firestore",(i,{instanceIdentifier:o,options:s})=>{const l=i.getProvider("app").getImmediate(),c=new Firestore$2(new __PRIVATE_FirebaseAuthCredentialsProvider(i.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(l,i.getProvider("app-check-internal")),function(er,nr){if(!Object.prototype.hasOwnProperty.apply(er.options,["projectId"]))throw new FirestoreError(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(er.options.projectId,nr)}(l,o),l);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),registerVersion(v$1,C$1,e),registerVersion(v$1,C$1,"esm2017")})();const name="@firebase/firestore-compat",version$1="0.3.47";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateSetOptions(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new FirestoreError("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertUint8ArrayAvailable(){if(typeof Uint8Array>"u")throw new FirestoreError("unimplemented","Uint8Arrays are not available in this environment.")}function assertBase64Available(){if(!__PRIVATE_isBase64Available())throw new FirestoreError("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Blob$1=class pp{constructor(e){this._delegate=e}static fromBase64String(e){return assertBase64Available(),new pp(Bytes.fromBase64String(e))}static fromUint8Array(e){return assertUint8ArrayAvailable(),new pp(Bytes.fromUint8Array(e))}toBase64(){return assertBase64Available(),this._delegate.toBase64()}toUint8Array(){return assertUint8ArrayAvailable(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isPartialObserver(n){return implementsAnyMethods(n,["next","error","complete"])}function implementsAnyMethods(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedDbPersistenceProvider{enableIndexedDbPersistence(e,t){return enableIndexedDbPersistence(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return enableMultiTabIndexedDbPersistence(e._delegate)}clearIndexedDbPersistence(e){return clearIndexedDbPersistence(e._delegate)}}class Firestore{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof DatabaseId||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&__PRIVATE_logWarn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){connectFirestoreEmulator(this._delegate,e,t,i)}enableNetwork(){return enableNetwork(this._delegate)}disableNetwork(){return disableNetwork(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,__PRIVATE_validateIsNotUsedTogether("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return waitForPendingWrites(this._delegate)}onSnapshotsInSync(e){return onSnapshotsInSync(this._delegate,e)}get app(){if(!this._appCompat)throw new FirestoreError("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new CollectionReference(this,collection(this._delegate,e))}catch(t){throw replaceFunctionName(t,"collection()","Firestore.collection()")}}doc(e){try{return new DocumentReference(this,doc(this._delegate,e))}catch(t){throw replaceFunctionName(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Query(this,collectionGroup(this._delegate,e))}catch(t){throw replaceFunctionName(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return runTransaction(this._delegate,t=>e(new Transaction(this,t)))}batch(){return ensureFirestoreConfigured(this._delegate),new WriteBatch(new WriteBatch$1(this._delegate,e=>executeWrite(this._delegate,e)))}loadBundle(e){return loadBundle(this._delegate,e)}namedQuery(e){return namedQuery(this._delegate,e).then(t=>t?new Query(this,t):null)}}class UserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Blob$1(new Bytes(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return DocumentReference.forKey(t,this.firestore,null)}}function setLogLevel(n){setLogLevel$1(n)}class Transaction{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UserDataWriter(e)}get(e){const t=castReference(e);return this._delegate.get(t).then(i=>new DocumentSnapshot(this._firestore,new DocumentSnapshot$2(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=castReference(e);return i?(validateSetOptions("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const s=castReference(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...o),this}delete(e){const t=castReference(e);return this._delegate.delete(t),this}}class WriteBatch{constructor(e){this._delegate=e}set(e,t,i){const o=castReference(e);return i?(validateSetOptions("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const s=castReference(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...o),this}delete(e){const t=castReference(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class FirestoreDataConverter{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new QueryDocumentSnapshot$2(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new QueryDocumentSnapshot(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=FirestoreDataConverter.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let s=o.get(t);return s||(s=new FirestoreDataConverter(e,new UserDataWriter(e),t),o.set(t,s)),s}}FirestoreDataConverter.INSTANCES=new WeakMap;class DocumentReference{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UserDataWriter(e)}static forPath(e,t,i){if(e.length%2!==0)throw new FirestoreError("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new DocumentReference(t,new DocumentReference$1(t._delegate,i,new DocumentKey(e)))}static forKey(e,t,i){return new DocumentReference(t,new DocumentReference$1(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new CollectionReference(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new CollectionReference(this.firestore,collection(this._delegate,e))}catch(t){throw replaceFunctionName(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=getModularInstance(e),e instanceof DocumentReference$1?refEqual(this._delegate,e):!1}set(e,t){t=validateSetOptions("DocumentReference.set",t);try{return t?setDoc(this._delegate,e,t):setDoc(this._delegate,e)}catch(i){throw replaceFunctionName(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?updateDoc(this._delegate,e):updateDoc(this._delegate,e,t,...i)}catch(o){throw replaceFunctionName(o,"updateDoc()","DocumentReference.update()")}}delete(){return deleteDoc(this._delegate)}onSnapshot(...e){const t=extractSnapshotOptions(e),i=wrapObserver(e,o=>new DocumentSnapshot(this.firestore,new DocumentSnapshot$2(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return onSnapshot(this._delegate,t,i)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=getDocFromCache(this._delegate):(e==null?void 0:e.source)==="server"?t=getDocFromServer(this._delegate):t=getDoc(this._delegate),t.then(i=>new DocumentSnapshot(this.firestore,new DocumentSnapshot$2(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new DocumentReference(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function replaceFunctionName(n,e,t){return n.message=n.message.replace(e,t),n}function extractSnapshotOptions(n){for(const e of n)if(typeof e=="object"&&!isPartialObserver(e))return e;return{}}function wrapObserver(n,e){var t,i;let o;return isPartialObserver(n[0])?o=n[0]:isPartialObserver(n[1])?o=n[1]:typeof n[0]=="function"?o={next:n[0],error:n[1],complete:n[2]}:o={next:n[1],error:n[2],complete:n[3]},{next:s=>{o.next&&o.next(e(s))},error:(t=o.error)===null||t===void 0?void 0:t.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}class DocumentSnapshot{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new DocumentReference(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return snapshotEqual(this._delegate,e._delegate)}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e){const t=this._delegate.data(e);return this._delegate._converter||__PRIVATE_debugAssert(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Query{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UserDataWriter(e)}where(e,t,i){try{return new Query(this.firestore,query(this._delegate,where(e,t,i)))}catch(o){throw replaceFunctionName(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Query(this.firestore,query(this._delegate,orderBy(e,t)))}catch(i){throw replaceFunctionName(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Query(this.firestore,query(this._delegate,limit(e)))}catch(t){throw replaceFunctionName(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Query(this.firestore,query(this._delegate,limitToLast(e)))}catch(t){throw replaceFunctionName(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Query(this.firestore,query(this._delegate,startAt(...e)))}catch(t){throw replaceFunctionName(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Query(this.firestore,query(this._delegate,startAfter(...e)))}catch(t){throw replaceFunctionName(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Query(this.firestore,query(this._delegate,endBefore(...e)))}catch(t){throw replaceFunctionName(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Query(this.firestore,query(this._delegate,endAt(...e)))}catch(t){throw replaceFunctionName(t,"endAt()","Query.endAt()")}}isEqual(e){return queryEqual(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=getDocsFromCache(this._delegate):(e==null?void 0:e.source)==="server"?t=getDocsFromServer(this._delegate):t=getDocs(this._delegate),t.then(i=>new QuerySnapshot(this.firestore,new QuerySnapshot$1(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=extractSnapshotOptions(e),i=wrapObserver(e,o=>new QuerySnapshot(this.firestore,new QuerySnapshot$1(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return onSnapshot(this._delegate,t,i)}withConverter(e){return new Query(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class DocumentChange{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new QueryDocumentSnapshot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QuerySnapshot{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Query(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new QueryDocumentSnapshot(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DocumentChange(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new QueryDocumentSnapshot(this._firestore,i))})}isEqual(e){return snapshotEqual(this._delegate,e._delegate)}}class CollectionReference extends Query{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new DocumentReference(this.firestore,e):null}doc(e){try{return e===void 0?new DocumentReference(this.firestore,doc(this._delegate)):new DocumentReference(this.firestore,doc(this._delegate,e))}catch(t){throw replaceFunctionName(t,"doc()","CollectionReference.doc()")}}add(e){return addDoc(this._delegate,e).then(t=>new DocumentReference(this.firestore,t))}isEqual(e){return refEqual(this._delegate,e._delegate)}withConverter(e){return new CollectionReference(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function castReference(n){return __PRIVATE_cast(n,DocumentReference$1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){this._delegate=new FieldPath$2(...e)}static documentId(){return new FieldPath(FieldPath$1.keyField().canonicalString())}isEqual(e){return e=getModularInstance(e),e instanceof FieldPath$2?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{static serverTimestamp(){const e=serverTimestamp();return e._methodName="FieldValue.serverTimestamp",new FieldValue(e)}static delete(){const e=deleteField();return e._methodName="FieldValue.delete",new FieldValue(e)}static arrayUnion(...e){const t=arrayUnion(...e);return t._methodName="FieldValue.arrayUnion",new FieldValue(t)}static arrayRemove(...e){const t=arrayRemove(...e);return t._methodName="FieldValue.arrayRemove",new FieldValue(t)}static increment(e){const t=increment(e);return t._methodName="FieldValue.increment",new FieldValue(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const firestoreNamespace={Firestore,GeoPoint,Timestamp,Blob:Blob$1,Transaction,WriteBatch,DocumentReference,DocumentSnapshot,Query,QueryDocumentSnapshot,QuerySnapshot,CollectionReference,FieldPath,FieldValue,setLogLevel,CACHE_SIZE_UNLIMITED:on};function configureForFirebase(n,e){n.INTERNAL.registerComponent(new Component("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},firestoreNamespace)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore(n){configureForFirebase(n,(e,t)=>new Firestore(e,t,new IndexedDbPersistenceProvider)),n.registerVersion(name,version$1)}registerFirestore(firebase);const firebaseConfig={apiKey:"AIzaSyAsrl3HhrRMqpLQe41UQeNGgOAcwOt4vDo",authDomain:"sign-language-web-app-e2b56.firebaseapp.com",projectId:"sign-language-web-app-e2b56",storageBucket:"sign-language-web-app-e2b56.firebasestorage.app",messagingSenderId:"567020015851",appId:"1:567020015851:web:6769e323acdb5eb818aeae"};firebase.initializeApp(firebaseConfig);const auth=firebase.auth(),db=firebase.firestore();/*! js-cookie v3.0.5 | MIT */function assign(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}var defaultConverter={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(n,e){function t(o,s,l){if(!(typeof document>"u")){l=assign({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var w in l)l[w]&&(c+="; "+w,l[w]!==!0&&(c+="="+l[w].split(";")[0]));return document.cookie=o+"="+n.write(s,o)+c}}function i(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],l={},c=0;c<s.length;c++){var w=s[c].split("="),er=w.slice(1).join("=");try{var nr=decodeURIComponent(w[0]);if(l[nr]=n.read(er,nr),o===nr)break}catch{}}return o?l[o]:l}}return Object.create({set:t,get:i,remove:function(o,s){t(o,"",assign({},s,{expires:-1}))},withAttributes:function(o){return init(this.converter,assign({},this.attributes,o))},withConverter:function(o){return init(assign({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var api=init(defaultConverter,{path:"/"});const LOGIN_REQ="LOGIN_REQ",LOGIN_SUCCESS="LOGIN_SUCCESS",LOGIN_FAIL="LOGIN_FAIL",LOGOUT="LOGOUT",LOAD_PROF="LOAD_PROF",ADD_SIGN_DATA_REQ="ADD_SIGN_DATA_REQ",ADD_SIGN_DATA_SUCCESS="ADD_SIGN_DATA_SUCCESS",ADD_SIGN_DATA_FAIL="ADD_SIGN_DATA_FAIL",GET_SIGN_DATA_REQ="GET_SIGN_DATA_REQ",GET_SIGN_DATA_SUCCESS="GET_SIGN_DATA_SUCCESS",GET_SIGN_DATA_FAIL="GET_SIGN_DATA_FAIL",GET_TOP_USERS_REQ="GET_TOP_USERS_REQ",GET_TOP_USERS_SUCCESS="GET_TOP_USERS_SUCCESS",GET_TOP_USERS_FAIL="GET_TOP_USERS_FAIL",login=()=>async n=>{try{n({type:LOGIN_REQ});const e=new firebase.auth.GoogleAuthProvider,t=await auth.signInWithPopup(e),i=t.credential.accessToken,o={name:t.additionalUserInfo.profile.name,photoURL:t.additionalUserInfo.profile.picture,userId:t.additionalUserInfo.profile.id};api.set("sign-language-ai-access-token",i,{expires:2}),api.set("sign-language-ai-user",JSON.stringify(o),{expires:2}),n({type:LOGIN_SUCCESS,payload:i}),n({type:LOAD_PROF,payload:o})}catch(e){n({type:LOGIN_FAIL,payload:e.message})}},logout=()=>async n=>{await auth.signOut(),n({type:LOGOUT}),api.remove("sign-language-ai-access-token"),api.remove("sign-language-ai-user")},Navbar=({notifyMsg:n})=>{const[e,t]=reactExports.useState(!1),i=useSelector(nr=>{var rr;return(rr=nr.auth)==null?void 0:rr.user}),{accessToken:o}=useSelector(nr=>nr.auth),[s,l]=reactExports.useState(!1),c=useDispatch();reactExports.useEffect(()=>{s&&i&&n("success",`Welcome! ${i==null?void 0:i.name}, You Logged in Successfully`)},[s,i,n]);const w=()=>{c(login()),l(!0)},er=()=>{c(logout()),n("success","Logged Out Successfully !")};return jsxRuntimeExports.jsxs("div",{className:"signlang_navbar  gradient__bg",children:[jsxRuntimeExports.jsxs("div",{className:"singlang_navlinks",children:[jsxRuntimeExports.jsx("div",{className:"signlang_navlinks_logo",children:jsxRuntimeExports.jsx("a",{href:"/",children:jsxRuntimeExports.jsx("img",{className:"logo",src:logo$1,alt:"logo"})})}),jsxRuntimeExports.jsxs("div",{className:"signlang_navlinks_container",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/",children:"Home"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/detect",children:"Detect"})}),o&&jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/dashboard",children:"Dashboard"})})]}),jsxRuntimeExports.jsx("div",{className:"signlang_auth-data",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:i==null?void 0:i.photoURL,alt:"user-icon"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:er,children:"Logout"})]}):jsxRuntimeExports.jsx("button",{type:"button",onClick:w,children:"Login"})})]}),jsxRuntimeExports.jsxs("div",{className:"signlang__navbar-menu",children:[e?jsxRuntimeExports.jsx(RiCloseLine,{color:"#fff",size:27,onClick:()=>t(!1)}):jsxRuntimeExports.jsx(RiMenu3Line,{color:"#fff",size:27,onClick:()=>t(!0)}),e&&jsxRuntimeExports.jsxs("div",{className:"signlang__navbar-menu_container scale-up-center",children:[jsxRuntimeExports.jsxs("div",{className:"signlang__navbar-menu_container-links",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/",children:"Home"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/detect",children:"Detect"})}),o&&jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Link,{to:"/dashboard",children:"Dashboard"})})]}),jsxRuntimeExports.jsx("div",{className:"signlang__navbar-menu_container-links-authdata",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:i==null?void 0:i.photoURL,alt:"user-icon"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:er,children:"Logout"})]}):jsxRuntimeExports.jsx("button",{type:"button",onClick:w,children:"Login"})})]})]})]})},Home=()=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(WhatComp,{}),jsxRuntimeExports.jsx(Features,{}),jsxRuntimeExports.jsx(Working,{}),jsxRuntimeExports.jsx(CTA,{}),jsxRuntimeExports.jsx(Testimonials,{})]}),SignHand="/assets/SignHand-BKy36zfD.png",Header=()=>jsxRuntimeExports.jsxs("div",{className:"signlang__header section__padding gradient__bg",id:"home",children:[jsxRuntimeExports.jsxs("div",{className:"signlang__header-content",children:[jsxRuntimeExports.jsx("h1",{className:"gradient__text",children:"Increase your Cognitive Brain Power with SLR."}),jsxRuntimeExports.jsx("p",{children:"It has been proven in studies that learning sign language keeps you on your feet as you age and also increase your thinking power.Also learning sign language will help you communicate with 72  Million Speakers worldwide. So Test out our tool, Learn and Practice Sign Language and Have Fun"})]}),jsxRuntimeExports.jsx("div",{className:"signlang__header-image",children:jsxRuntimeExports.jsx("img",{src:SignHand,alt:"SIGN-HAND"})})]}),logo="/assets/logo-CliB9yAa.png",Footer=()=>jsxRuntimeExports.jsxs("div",{className:"signlang__footer section__padding",children:[jsxRuntimeExports.jsx("div",{className:"signlang__footer-logo",children:jsxRuntimeExports.jsx("img",{src:logo,alt:"signlang_logo"})}),jsxRuntimeExports.jsx("div",{className:"signlang__footer-copyright",children:jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx("span",{children:"SLR"}),"   |  ",jsxRuntimeExports.jsx("em",{children:"Bridging Silence, Digitally"})]})})]}),CTA=()=>jsxRuntimeExports.jsxs("div",{className:"signlang_cta",children:[jsxRuntimeExports.jsx("div",{className:"signlang_cta-content",children:jsxRuntimeExports.jsx("h3",{children:"Get Started and Try the Model"})}),jsxRuntimeExports.jsx("div",{className:"signlang_cta-button",children:jsxRuntimeExports.jsx("button",{children:jsxRuntimeExports.jsx(Link,{to:"/detect",children:"Try Now !"})})})]}),WhatfeatureData=[{title:"Learn",text:"Start Learning this interesting sign language by learning basic signs for alphabets and common words from our Guide Section."},{title:"Practice",text:"Go to the Detect Section and Practice the sign until our model detects and recognizes it completely."},{title:"Test",text:"Test yourselves on the same tool by trying to think of a sign jn your mind, doing it and let the model understand and recognize it,do the signs again but this time without referring to the guide."}],featuresData=[{title:"Real-Time Recognition",text:"Our advanced machine learning algorithms enable real-time recognition of sign language gestures, making communication faster and more efficient."},{title:"Easy-to-Use Interface",text:"Our intuitive user interface is designed to be easy to use for people of all ages and skill levels, making it accessible to everyone."},{title:"Adaptive Learning",text:"Our system uses adaptive learning to improve recognition accuracy over time, allowing for continuous improvement and increased efficiency."},{title:"High Accuracy",text:"With a high accuracy rate of over 80%, our system ensures that sign language communication is not only faster, but also more accurate."}],WhatComp=()=>jsxRuntimeExports.jsxs("div",{className:"signlang__whatsignlang section__margin",id:"whatsignlang",children:[jsxRuntimeExports.jsx("div",{className:"signlang__whatsignlang-feature",children:jsxRuntimeExports.jsx(Feature,{title:"What is Sign Language",text:"Sign Language is a visual language using hand gestures, facial expressions, and body movements to communicate. It is recognized as an official language in many countries and is primarily used by people who are deaf or hard of hearing."})}),jsxRuntimeExports.jsx("div",{className:"signlang__whatsignlang-container",children:WhatfeatureData.map((n,e)=>jsxRuntimeExports.jsx(Feature,{title:n.title,text:n.text},e*201))})]}),Feature=({title:n,text:e})=>jsxRuntimeExports.jsxs("div",{className:"signlang__features-container__feature",children:[jsxRuntimeExports.jsxs("div",{className:"signlang__features-container__feature-title",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("h1",{children:n})]}),jsxRuntimeExports.jsx("div",{className:"signlang__features-container_feature-text",children:jsxRuntimeExports.jsx("p",{children:e})})]}),Features=()=>jsxRuntimeExports.jsxs("div",{className:"signlang_features section__padding",children:[jsxRuntimeExports.jsxs("div",{className:"signlang_feature-heading",children:[jsxRuntimeExports.jsx("h1",{className:"gradient__text",children:"Revolutionizing Sign Language Communication with Cutting-Edge Technology"}),jsxRuntimeExports.jsx("p",{children:"Explore the Features"})]}),jsxRuntimeExports.jsx("div",{className:"singlang_features-container",children:featuresData.map((n,e)=>jsxRuntimeExports.jsx(Feature,{title:n.title,text:n.text},e*124569))})]}),WorkingImg="/assets/Working-Be6zi1su.png",Working=()=>jsxRuntimeExports.jsxs("div",{className:"signlang_working section__padding",children:[jsxRuntimeExports.jsx("div",{className:"signlang_working-img",children:jsxRuntimeExports.jsx("img",{src:WorkingImg,alt:"working"})}),jsxRuntimeExports.jsxs("div",{className:"signlang_working-content",children:[jsxRuntimeExports.jsx("h1",{className:"gradient__text",children:"Get to know, How it Works !"}),jsxRuntimeExports.jsx("p",{children:"To use the sign language recognition system, you simply need to get your hand detected and make a sign. Once you make a sign, refer to the guide for the corresponding words. The system will then scan your hand and use its built-in model to predict the sign you have made. Finally, the predicted class will be displayed, allowing you to communicate effectively through sign language. With this system, you can bridge the communication gap between sign language users and non-sign language users, making it easier for everyone to connect and interact."})]})]}),byteToHex=[];for(let n=0;n<256;++n)byteToHex.push((n+256).toString(16).slice(1));function unsafeStringify(n,e=0){return(byteToHex[n[e+0]]+byteToHex[n[e+1]]+byteToHex[n[e+2]]+byteToHex[n[e+3]]+"-"+byteToHex[n[e+4]]+byteToHex[n[e+5]]+"-"+byteToHex[n[e+6]]+byteToHex[n[e+7]]+"-"+byteToHex[n[e+8]]+byteToHex[n[e+9]]+"-"+byteToHex[n[e+10]]+byteToHex[n[e+11]]+byteToHex[n[e+12]]+byteToHex[n[e+13]]+byteToHex[n[e+14]]+byteToHex[n[e+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(n,e,t){var o;if(native.randomUUID&&!n)return native.randomUUID();n=n||{};const i=n.random??((o=n.rng)==null?void 0:o.call(n))??rng();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,unsafeStringify(i)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vision={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(supportsSimd===void 0)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch{supportsSimd=!1}return supportsSimd}async function createFileset(n,e=""){const t=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${n}_${t}.js`,wasmBinaryPath:`${e}/${n}_${t}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var face_detector={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(n,e,t){n instanceof String&&(n=String(n));for(var i=n.length,o=0;o<i;o++){var s=n[o];if(e.call(t,s,o,n))return{i:o,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(n,e,t){n!=Array.prototype&&n!=Object.prototype&&(n[e]=t.value)},$jscomp.getGlobal=function(n){return typeof window<"u"&&window===n?n:commonjsGlobal!==void 0&&commonjsGlobal!=null?commonjsGlobal:n},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(n,e,t,i){if(e){for(t=$jscomp.global,n=n.split("."),i=0;i<n.length-1;i++){var o=n[i];o in t||(t[o]={}),t=t[o]}(e=e(i=t[n=n[n.length-1]]))!=i&&e!=null&&$jscomp.defineProperty(t,n,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(n){return n||function(e,t){return $jscomp.findInternal(this,e,t).i}},"es6","es3"),$jscomp.checkStringArgs=function(n,e,t){if(n==null)throw new TypeError("The 'this' value for String.prototype."+t+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+t+" must not be a regular expression");return n+""},$jscomp.polyfill("String.prototype.endsWith",function(n){return n||function(e,t){var i=$jscomp.checkStringArgs(this,e,"endsWith");e+="",t===void 0&&(t=i.length),t=Math.max(0,Math.min(0|t,i.length));for(var o=e.length;0<o&&0<t;)if(i[--t]!=e[--o])return!1;return 0>=o}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(n){return n||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(n){return n||function(e,t){var i=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=i.length,s=e.length;t=Math.max(0,Math.min(0|t,i.length));for(var l=0;l<s&&t<o;)if(i[t++]!=e[l++])return!1;return l>=s}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(n){return n||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var i="";e;)1&e&&(i+=t),(e>>>=1)&&(t+=t);return i}},"es6","es3");var goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(n,e,t){n=n.split("."),t=t||goog.global,n[0]in t||t.execScript===void 0||t.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||e===void 0?t=t[i]&&t[i]!==Object.prototype[i]?t[i]:t[i]={}:t[i]=e},goog.define=function(n,e){return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(n){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(n)},goog.constructNamespace_=function(n,e){goog.exportPath_(n,e)},goog.getScriptNonce=function(n){return n&&n!=goog.global?goog.getScriptNonce_(n.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(n){return(n=n.querySelector&&n.querySelector("script[nonce]"))&&(n=n.nonce||n.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(n)?n:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(n){if(typeof n!="string"||!n||n.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+n+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=n},goog.module.get=function(n){return goog.module.getInternal_(n)},goog.module.getInternal_=function(n){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var n=goog.global.$jscomp;return!!n&&typeof n.getCurrentModulePath=="function"&&!!n.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(n){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=n;else{var e=goog.global.$jscomp;if(!e||typeof e.getCurrentModulePath!="function")throw Error('Module with namespace "'+n+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[n]={exports:e,type:goog.ModuleType.ES6,moduleId:n}}},goog.setTestOnly=function(n){if(goog.DISALLOW_TEST_ONLY_CODE)throw n=n||"",Error("Importing test-only code into non-debug environment"+(n?": "+n:"."))},goog.forwardDeclare=function(n){},goog.getObjectByName=function(n,e){n=n.split("."),e=e||goog.global;for(var t=0;t<n.length;t++)if((e=e[n[t]])==null)return null;return e},goog.globalize=function(n,e){for(var t in e=e||goog.global,n)e[t]=n[t]},goog.addDependency=function(n,e,t,i){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(n){goog.global.console&&goog.global.console.error(n)},goog.require=function(n){},goog.requireType=function(n){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(n){n.instance_=void 0,n.getInstance=function(){return n.instance_?n.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=n),n.instance_=new n)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(n){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(n){return"(function(){"+n+`
;})();
`},goog.loadModule=function(n){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(n))var t=n.call(void 0,{});else{if(typeof n!="string")throw Error("Invalid module definition");goog.useSafari10Workaround()&&(n=goog.workaroundSafari10EvalBug(n)),t=goog.loadModuleFromSource_.call(void 0,n)}var i=goog.moduleLoaderState_.moduleName;if(typeof i!="string"||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,t):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof t=="object"&&t!=null&&Object.seal(t),goog.loadedModules_[i]={exports:t,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(n){n=n.split("/");for(var e=0;e<n.length;)n[e]=="."?n.splice(e,1):e&&n[e]==".."&&n[e-1]&&n[e-1]!=".."?n.splice(--e,2):e++;return n.join("/")},goog.loadFileSync_=function(n){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(n);try{var e=new goog.global.XMLHttpRequest;return e.open("get",n,!1),e.send(),e.status==0||e.status==200?e.responseText:null}catch{return null}},goog.transpile_=function(n,e,t){var i=goog.global.$jscomp;i||(goog.global.$jscomp=i={});var o=i.transpile;if(!o){var s=goog.basePath+goog.TRANSPILER,l=goog.loadFileSync_(s);if(l){if((function(){(0,eval)(l+`
//# sourceURL=`+s)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(i=goog.global.$jscomp).transpile}}return o||(o=i.transpile=function(c,w){return goog.logToConsole_(w+" requires transpilation but no transpiler was found."),c}),o(n,e,t)},goog.typeOf=function(n){var e=typeof n;if(e=="object"){if(!n)return"null";if(n instanceof Array)return"array";if(n instanceof Object)return e;var t=Object.prototype.toString.call(n);if(t=="[object Window]")return"object";if(t=="[object Array]"||typeof n.length=="number"&&n.splice!==void 0&&n.propertyIsEnumerable!==void 0&&!n.propertyIsEnumerable("splice"))return"array";if(t=="[object Function]"||n.call!==void 0&&n.propertyIsEnumerable!==void 0&&!n.propertyIsEnumerable("call"))return"function"}else if(e=="function"&&n.call===void 0)return"object";return e},goog.isArray=function(n){return goog.typeOf(n)=="array"},goog.isArrayLike=function(n){var e=goog.typeOf(n);return e=="array"||e=="object"&&typeof n.length=="number"},goog.isDateLike=function(n){return goog.isObject(n)&&typeof n.getFullYear=="function"},goog.isFunction=function(n){return goog.typeOf(n)=="function"},goog.isObject=function(n){var e=typeof n;return e=="object"&&n!=null||e=="function"},goog.getUid=function(n){return Object.prototype.hasOwnProperty.call(n,goog.UID_PROPERTY_)&&n[goog.UID_PROPERTY_]||(n[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(n){return!!n[goog.UID_PROPERTY_]},goog.removeUid=function(n){n!==null&&"removeAttribute"in n&&n.removeAttribute(goog.UID_PROPERTY_);try{delete n[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(n){var e=goog.typeOf(n);if(e=="object"||e=="array"){if(typeof n.clone=="function")return n.clone();for(var t in e=e=="array"?[]:{},n)e[t]=goog.cloneObject(n[t]);return e}return n},goog.bindNative_=function(n,e,t){return n.call.apply(n.bind,arguments)},goog.bindJs_=function(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}},goog.bind=function(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}},goog.mixin=function(n,e){for(var t in e)n[t]=e[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(n){if(goog.global.execScript)goog.global.execScript(n,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(n);else{var e=goog.global.document,t=e.createElement("script");t.type="text/javascript",t.defer=!1,t.appendChild(e.createTextNode(n)),e.head.appendChild(t),e.head.removeChild(t)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(n,e){if(String(n).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+n);var t=function(o){return goog.cssNameMapping_[o]||o},i=function(o){o=o.split("-");for(var s=[],l=0;l<o.length;l++)s.push(t(o[l]));return s.join("-")};return i=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?t:i:function(o){return o},n=e?n+"-"+i(e):i(n),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(n,e){goog.cssNameMapping_=n,goog.cssNameMappingStyle_=e},goog.getMsg=function(n,e,t){return t&&t.html&&(n=n.replace(/</g,"&lt;")),e&&(n=n.replace(/\{\$([^}]+)}/g,function(i,o){return e!=null&&o in e?e[o]:i})),n},goog.getMsgWithFallback=function(n,e){return n},goog.exportSymbol=function(n,e,t){goog.exportPath_(n,e,t)},goog.exportProperty=function(n,e,t){n[e]=t},goog.inherits=function(n,e){function t(){}t.prototype=e.prototype,n.superClass_=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.base=function(i,o,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[o].apply(i,l)}},goog.scope=function(n){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");n.call(goog.global)},goog.defineClass=function(n,e){var t=e.constructor,i=e.statics;return t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),t=goog.defineClass.createSealingConstructor_(t,n),n&&goog.inherits(t,n),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(t.prototype,e),i!=null&&(i instanceof Function?i(t):goog.defineClass.applyProperties_(t,i)),t},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(n,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return n;var t=!goog.defineClass.isUnsealable_(e),i=function(){var o=n.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===i&&t&&Object.seal instanceof Function&&Object.seal(o),o};return i},goog.defineClass.isUnsealable_=function(n){return n&&n.prototype&&n.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},goog.tagUnsealableClass=function(n){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(n){return n},goog.createTrustedTypesPolicy=function(n){var e=null,t=goog.global.trustedTypes||goog.global.TrustedTypes;if(!t||!t.createPolicy)return e;try{e=t.createPolicy(n,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(i){goog.logToConsole_(i.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e},goog.object.forEach=function(n,e,t){for(var i in n)e.call(t,n[i],i,n)},goog.object.filter=function(n,e,t){var i,o={};for(i in n)e.call(t,n[i],i,n)&&(o[i]=n[i]);return o},goog.object.map=function(n,e,t){var i,o={};for(i in n)o[i]=e.call(t,n[i],i,n);return o},goog.object.some=function(n,e,t){for(var i in n)if(e.call(t,n[i],i,n))return!0;return!1},goog.object.every=function(n,e,t){for(var i in n)if(!e.call(t,n[i],i,n))return!1;return!0},goog.object.getCount=function(n){var e,t=0;for(e in n)t++;return t},goog.object.getAnyKey=function(n){for(var e in n)return e},goog.object.getAnyValue=function(n){for(var e in n)return n[e]},goog.object.contains=function(n,e){return goog.object.containsValue(n,e)},goog.object.getValues=function(n){var e,t=[],i=0;for(e in n)t[i++]=n[e];return t},goog.object.getKeys=function(n){var e,t=[],i=0;for(e in n)t[i++]=e;return t},goog.object.getValueByKeys=function(n,e){var t=goog.isArrayLike(e),i=t?e:arguments;for(t=t?0:1;t<i.length;t++){if(n==null)return;n=n[i[t]]}return n},goog.object.containsKey=function(n,e){return n!==null&&e in n},goog.object.containsValue=function(n,e){for(var t in n)if(n[t]==e)return!0;return!1},goog.object.findKey=function(n,e,t){for(var i in n)if(e.call(t,n[i],i,n))return i},goog.object.findValue=function(n,e,t){return(e=goog.object.findKey(n,e,t))&&n[e]},goog.object.isEmpty=function(n){for(var e in n)return!1;return!0},goog.object.clear=function(n){for(var e in n)delete n[e]},goog.object.remove=function(n,e){var t;return(t=e in n)&&delete n[e],t},goog.object.add=function(n,e,t){if(n!==null&&e in n)throw Error('The object already contains the key "'+e+'"');goog.object.set(n,e,t)},goog.object.get=function(n,e,t){return n!==null&&e in n?n[e]:t},goog.object.set=function(n,e,t){n[e]=t},goog.object.setIfUndefined=function(n,e,t){return e in n?n[e]:n[e]=t},goog.object.setWithReturnValueIfNotSet=function(n,e,t){return e in n?n[e]:(t=t(),n[e]=t)},goog.object.equals=function(n,e){for(var t in n)if(!(t in e)||n[t]!==e[t])return!1;for(var i in e)if(!(i in n))return!1;return!0},goog.object.clone=function(n){var e,t={};for(e in n)t[e]=n[e];return t},goog.object.unsafeClone=function(n){var e=goog.typeOf(n);if(e=="object"||e=="array"){if(goog.isFunction(n.clone))return n.clone();for(var t in e=e=="array"?[]:{},n)e[t]=goog.object.unsafeClone(n[t]);return e}return n},goog.object.transpose=function(n){var e,t={};for(e in n)t[n[e]]=e;return t},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(n,e){for(var t,i,o=1;o<arguments.length;o++){for(t in i=arguments[o])n[t]=i[t];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)t=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}},goog.object.create=function(n){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},i=0;i<e;i+=2)t[arguments[i]]=arguments[i+1];return t},goog.object.createSet=function(n){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},i=0;i<e;i++)t[arguments[i]]=!0;return t},goog.object.createImmutableView=function(n){var e=n;return Object.isFrozen&&!Object.isFrozen(n)&&(e=Object.create(n),Object.freeze(e)),e},goog.object.isImmutableView=function(n){return!!Object.isFrozen&&Object.isFrozen(n)},goog.object.getAllPropertyNames=function(n,e,t){if(!n)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(n);for(var i={};n&&(n!==Object.prototype||e)&&(n!==Function.prototype||t);){for(var o=Object.getOwnPropertyNames(n),s=0;s<o.length;s++)i[o[s]]=!0;n=Object.getPrototypeOf(n)}return goog.object.getKeys(i)},goog.object.getSuperClass=function(n){return(n=Object.getPrototypeOf(n.prototype))&&n.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(n,e,t,i){var o="Assertion failed";if(t){o+=": "+t;var s=i}else n&&(o+=": "+n,s=e);throw Error(""+o,s||[])},jspb.asserts.assert=function(n,e,t){for(var i=[],o=2;o<arguments.length;++o)i[o-2]=arguments[o];return n||jspb.asserts.doAssertFailure("",null,e,i),n},jspb.asserts.assertString=function(n,e,t){for(var i=[],o=2;o<arguments.length;++o)i[o-2]=arguments[o];return typeof n!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(n),n],e,i),n},jspb.asserts.assertArray=function(n,e,t){for(var i=[],o=2;o<arguments.length;++o)i[o-2]=arguments[o];return Array.isArray(n)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(n),n],e,i),n},jspb.asserts.fail=function(n,e){for(var t=[],i=1;i<arguments.length;++i)t[i-1]=arguments[i];throw Error("Failure"+(n?": "+n:""),t)},jspb.asserts.assertInstanceof=function(n,e,t,i){for(var o=[],s=3;s<arguments.length;++s)o[s-3]=arguments[s];return n instanceof e||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(e),jspb.asserts.getType(n)],t,o),n},jspb.asserts.getType=function(n){return n instanceof Function?n.displayName||n.name||"unknown type name":n instanceof Object?n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n):n===null?"null":typeof n},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(n){var e=jspb.BinaryConstants.FieldType,t=jspb.BinaryConstants.WireType;switch(n){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return t.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return t.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return t.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return t.FIXED32;default:return t.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(n){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}n&&(this.message=String(n)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(n,e){goog.debug.Error.call(this,goog.asserts.subs_(n,e)),this.messagePattern=n},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(n){throw n},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(n,e){for(var t="",i=(n=n.split("%s")).length-1,o=0;o<i;o++)t+=n[o]+(o<e.length?e[o]:"%s");return t+n[i]},goog.asserts.doAssertFailure_=function(n,e,t,i){var o="Assertion failed";if(t){o+=": "+t;var s=i}else n&&(o+=": "+n,s=e);n=new goog.asserts.AssertionError(""+o,s||[]),goog.asserts.errorHandler_(n)},goog.asserts.setErrorHandler=function(n){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=n)},goog.asserts.assert=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&!n&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertExists=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&n==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.fail=function(n,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(n?": "+n:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&typeof n!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertString=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&typeof n!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertFunction=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(n)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertObject=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(n)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertArray=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(n)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertBoolean=function(n,e,t){return goog.asserts.ENABLE_ASSERTS&&typeof n!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertElement=function(n,e,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(n)&&n.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(n),n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertInstanceof=function(n,e,t,i){return!goog.asserts.ENABLE_ASSERTS||n instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(n)],t,Array.prototype.slice.call(arguments,3)),n},goog.asserts.assertFinite=function(n,e,t){return!goog.asserts.ENABLE_ASSERTS||typeof n=="number"&&isFinite(n)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[n],e,Array.prototype.slice.call(arguments,2)),n},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var n in Object.prototype)goog.asserts.fail(n+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(n){return n instanceof Function?n.displayName||n.name||"unknown type name":n instanceof Object?n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n):n===null?"null":typeof n},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(n){return n[n.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.indexOf.call(n,e,t)}:function(n,e,t){if(t=t==null?0:0>t?Math.max(0,n.length+t):t,typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,t);for(;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.lastIndexOf.call(n,e,t??n.length-1)}:function(n,e,t){if(0>(t=t??n.length-1)&&(t=Math.max(0,n.length+t)),typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.lastIndexOf(e,t);for(;0<=t;t--)if(t in n&&n[t]===e)return t;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(n,e,t){goog.asserts.assert(n.length!=null),Array.prototype.forEach.call(n,e,t)}:function(n,e,t){for(var i=n.length,o=typeof n=="string"?n.split(""):n,s=0;s<i;s++)s in o&&e.call(t,o[s],s,n)},goog.array.forEachRight=function(n,e,t){var i=n.length,o=typeof n=="string"?n.split(""):n;for(--i;0<=i;--i)i in o&&e.call(t,o[i],i,n)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.filter.call(n,e,t)}:function(n,e,t){for(var i=n.length,o=[],s=0,l=typeof n=="string"?n.split(""):n,c=0;c<i;c++)if(c in l){var w=l[c];e.call(t,w,c,n)&&(o[s++]=w)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.map.call(n,e,t)}:function(n,e,t){for(var i=n.length,o=Array(i),s=typeof n=="string"?n.split(""):n,l=0;l<i;l++)l in s&&(o[l]=e.call(t,s[l],l,n));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(n,e,t,i){return goog.asserts.assert(n.length!=null),i&&(e=goog.bind(e,i)),Array.prototype.reduce.call(n,e,t)}:function(n,e,t,i){var o=t;return goog.array.forEach(n,function(s,l){o=e.call(i,o,s,l,n)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(n,e,t,i){return goog.asserts.assert(n.length!=null),goog.asserts.assert(e!=null),i&&(e=goog.bind(e,i)),Array.prototype.reduceRight.call(n,e,t)}:function(n,e,t,i){var o=t;return goog.array.forEachRight(n,function(s,l){o=e.call(i,o,s,l,n)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.some.call(n,e,t)}:function(n,e,t){for(var i=n.length,o=typeof n=="string"?n.split(""):n,s=0;s<i;s++)if(s in o&&e.call(t,o[s],s,n))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(n,e,t){return goog.asserts.assert(n.length!=null),Array.prototype.every.call(n,e,t)}:function(n,e,t){for(var i=n.length,o=typeof n=="string"?n.split(""):n,s=0;s<i;s++)if(s in o&&!e.call(t,o[s],s,n))return!1;return!0},goog.array.count=function(n,e,t){var i=0;return goog.array.forEach(n,function(o,s,l){e.call(t,o,s,l)&&++i},t),i},goog.array.find=function(n,e,t){return 0>(e=goog.array.findIndex(n,e,t))?null:typeof n=="string"?n.charAt(e):n[e]},goog.array.findIndex=function(n,e,t){for(var i=n.length,o=typeof n=="string"?n.split(""):n,s=0;s<i;s++)if(s in o&&e.call(t,o[s],s,n))return s;return-1},goog.array.findRight=function(n,e,t){return 0>(e=goog.array.findIndexRight(n,e,t))?null:typeof n=="string"?n.charAt(e):n[e]},goog.array.findIndexRight=function(n,e,t){var i=n.length,o=typeof n=="string"?n.split(""):n;for(--i;0<=i;i--)if(i in o&&e.call(t,o[i],i,n))return i;return-1},goog.array.contains=function(n,e){return 0<=goog.array.indexOf(n,e)},goog.array.isEmpty=function(n){return n.length==0},goog.array.clear=function(n){if(!Array.isArray(n))for(var e=n.length-1;0<=e;e--)delete n[e];n.length=0},goog.array.insert=function(n,e){goog.array.contains(n,e)||n.push(e)},goog.array.insertAt=function(n,e,t){goog.array.splice(n,t,0,e)},goog.array.insertArrayAt=function(n,e,t){goog.partial(goog.array.splice,n,t,0).apply(null,e)},goog.array.insertBefore=function(n,e,t){var i;arguments.length==2||0>(i=goog.array.indexOf(n,t))?n.push(e):goog.array.insertAt(n,e,i)},goog.array.remove=function(n,e){var t;return(t=0<=(e=goog.array.indexOf(n,e)))&&goog.array.removeAt(n,e),t},goog.array.removeLast=function(n,e){return 0<=(e=goog.array.lastIndexOf(n,e))&&(goog.array.removeAt(n,e),!0)},goog.array.removeAt=function(n,e){return goog.asserts.assert(n.length!=null),Array.prototype.splice.call(n,e,1).length==1},goog.array.removeIf=function(n,e,t){return 0<=(e=goog.array.findIndex(n,e,t))&&(goog.array.removeAt(n,e),!0)},goog.array.removeAllIf=function(n,e,t){var i=0;return goog.array.forEachRight(n,function(o,s){e.call(t,o,s,n)&&goog.array.removeAt(n,s)&&i++}),i},goog.array.concat=function(n){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(n){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(n){var e=n.length;if(0<e){for(var t=Array(e),i=0;i<e;i++)t[i]=n[i];return t}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(n,e){for(var t=1;t<arguments.length;t++){var i=arguments[t];if(goog.isArrayLike(i)){var o=n.length||0,s=i.length||0;n.length=o+s;for(var l=0;l<s;l++)n[o+l]=i[l]}else n.push(i)}},goog.array.splice=function(n,e,t,i){return goog.asserts.assert(n.length!=null),Array.prototype.splice.apply(n,goog.array.slice(arguments,1))},goog.array.slice=function(n,e,t){return goog.asserts.assert(n.length!=null),2>=arguments.length?Array.prototype.slice.call(n,e):Array.prototype.slice.call(n,e,t)},goog.array.removeDuplicates=function(n,e,t){e=e||n;var i=function(w){return goog.isObject(w)?"o"+goog.getUid(w):(typeof w).charAt(0)+w};t=t||i,i={};for(var o=0,s=0;s<n.length;){var l=n[s++],c=t(l);Object.prototype.hasOwnProperty.call(i,c)||(i[c]=!0,e[o++]=l)}e.length=o},goog.array.binarySearch=function(n,e,t){return goog.array.binarySearch_(n,t||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(n,e,t){return goog.array.binarySearch_(n,e,!0,void 0,t)},goog.array.binarySearch_=function(n,e,t,i,o){for(var s,l=0,c=n.length;l<c;){var w=l+(c-l>>>1),er=t?e.call(o,n[w],w,n):e(i,n[w]);0<er?l=w+1:(c=w,s=!er)}return s?l:-l-1},goog.array.sort=function(n,e){n.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(n,e){for(var t=Array(n.length),i=0;i<n.length;i++)t[i]={index:i,value:n[i]};var o=e||goog.array.defaultCompare;for(goog.array.sort(t,function(s,l){return o(s.value,l.value)||s.index-l.index}),i=0;i<n.length;i++)n[i]=t[i].value},goog.array.sortByKey=function(n,e,t){var i=t||goog.array.defaultCompare;goog.array.sort(n,function(o,s){return i(e(o),e(s))})},goog.array.sortObjectsByKey=function(n,e,t){goog.array.sortByKey(n,function(i){return i[e]},t)},goog.array.isSorted=function(n,e,t){e=e||goog.array.defaultCompare;for(var i=1;i<n.length;i++){var o=e(n[i-1],n[i]);if(0<o||o==0&&t)return!1}return!0},goog.array.equals=function(n,e,t){if(!goog.isArrayLike(n)||!goog.isArrayLike(e)||n.length!=e.length)return!1;var i=n.length;t=t||goog.array.defaultCompareEquality;for(var o=0;o<i;o++)if(!t(n[o],e[o]))return!1;return!0},goog.array.compare3=function(n,e,t){t=t||goog.array.defaultCompare;for(var i=Math.min(n.length,e.length),o=0;o<i;o++){var s=t(n[o],e[o]);if(s!=0)return s}return goog.array.defaultCompare(n.length,e.length)},goog.array.defaultCompare=function(n,e){return n>e?1:n<e?-1:0},goog.array.inverseDefaultCompare=function(n,e){return-goog.array.defaultCompare(n,e)},goog.array.defaultCompareEquality=function(n,e){return n===e},goog.array.binaryInsert=function(n,e,t){return 0>(t=goog.array.binarySearch(n,e,t))&&(goog.array.insertAt(n,e,-(t+1)),!0)},goog.array.binaryRemove=function(n,e,t){return 0<=(e=goog.array.binarySearch(n,e,t))&&goog.array.removeAt(n,e)},goog.array.bucket=function(n,e,t){for(var i={},o=0;o<n.length;o++){var s=n[o],l=e.call(t,s,o,n);l!==void 0&&(i[l]||(i[l]=[])).push(s)}return i},goog.array.toObject=function(n,e,t){var i={};return goog.array.forEach(n,function(o,s){i[e.call(t,o,s,n)]=o}),i},goog.array.range=function(n,e,t){var i=[],o=0,s=n;if(e!==void 0&&(o=n,s=e),0>(t=t||1)*(s-o))return[];if(0<t)for(n=o;n<s;n+=t)i.push(n);else for(n=o;n>s;n+=t)i.push(n);return i},goog.array.repeat=function(n,e){for(var t=[],i=0;i<e;i++)t[i]=n;return t},goog.array.flatten=function(n){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(Array.isArray(i))for(var o=0;o<i.length;o+=8192){var s=goog.array.slice(i,o,o+8192);s=goog.array.flatten.apply(null,s);for(var l=0;l<s.length;l++)e.push(s[l])}else e.push(i)}return e},goog.array.rotate=function(n,e){return goog.asserts.assert(n.length!=null),n.length&&(0<(e%=n.length)?Array.prototype.unshift.apply(n,n.splice(-e,e)):0>e&&Array.prototype.push.apply(n,n.splice(0,-e))),n},goog.array.moveItem=function(n,e,t){goog.asserts.assert(0<=e&&e<n.length),goog.asserts.assert(0<=t&&t<n.length),e=Array.prototype.splice.call(n,e,1),Array.prototype.splice.call(n,t,0,e[0])},goog.array.zip=function(n){if(!arguments.length)return[];for(var e=[],t=arguments[0].length,i=1;i<arguments.length;i++)arguments[i].length<t&&(t=arguments[i].length);for(i=0;i<t;i++){for(var o=[],s=0;s<arguments.length;s++)o.push(arguments[s][i]);e.push(o)}return e},goog.array.shuffle=function(n,e){e=e||Math.random;for(var t=n.length-1;0<t;t--){var i=Math.floor(e()*(t+1)),o=n[t];n[t]=n[i],n[i]=o}},goog.array.copyByIndex=function(n,e){var t=[];return goog.array.forEach(e,function(i){t.push(n[i])}),t},goog.array.concatMap=function(n,e,t){return goog.array.concat.apply([],goog.array.map(n,e,t))},goog.crypt={},goog.crypt.stringToByteArray=function(n){for(var e=[],t=0,i=0;i<n.length;i++){var o=n.charCodeAt(i);255<o&&(e[t++]=255&o,o>>=8),e[t++]=o}return e},goog.crypt.byteArrayToString=function(n){if(8192>=n.length)return String.fromCharCode.apply(null,n);for(var e="",t=0;t<n.length;t+=8192){var i=goog.array.slice(n,t,t+8192);e+=String.fromCharCode.apply(null,i)}return e},goog.crypt.byteArrayToHex=function(n,e){return goog.array.map(n,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join(e||"")},goog.crypt.hexToByteArray=function(n){goog.asserts.assert(n.length%2==0,"Key string length must be multiple of 2");for(var e=[],t=0;t<n.length;t+=2)e.push(parseInt(n.substring(t,t+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(n){for(var e=[],t=0,i=0;i<n.length;i++){var o=n.charCodeAt(i);128>o?e[t++]=o:(2048>o?e[t++]=o>>6|192:((64512&o)==55296&&i+1<n.length&&(64512&n.charCodeAt(i+1))==56320?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++i)),e[t++]=o>>18|240,e[t++]=o>>12&63|128):e[t++]=o>>12|224,e[t++]=o>>6&63|128),e[t++]=63&o|128)}return e},goog.crypt.utf8ByteArrayToString=function(n){for(var e=[],t=0,i=0;t<n.length;){var o=n[t++];if(128>o)e[i++]=String.fromCharCode(o);else if(191<o&&224>o){var s=n[t++];e[i++]=String.fromCharCode((31&o)<<6|63&s)}else if(239<o&&365>o){s=n[t++];var l=n[t++];o=((7&o)<<18|(63&s)<<12|(63&l)<<6|63&n[t++])-65536,e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else s=n[t++],l=n[t++],e[i++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&l)}return e.join("")},goog.crypt.xorByteArray=function(n,e){goog.asserts.assert(n.length==e.length,"XOR array lengths must match");for(var t=[],i=0;i<n.length;i++)t.push(n[i]^e[i]);return t},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(n){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(n);e&&(!n||!(n instanceof e.Location)&&n instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(n))}return n},goog.dom.asserts.assertIsElementType_=function(n,e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(n);t&&t[e]!==void 0&&(n&&(n instanceof t[e]||!(n instanceof t.Location||n instanceof t.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(n)))}return n},goog.dom.asserts.assertIsHTMLAnchorElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(n){return goog.dom.asserts.assertIsElementType_(n,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(n){if(!goog.isObject(n))return n===void 0?"undefined":n===null?"null":typeof n;try{return n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(n){try{var e=n&&n.ownerDocument,t=e&&(e.defaultView||e.parentWindow);if((t=t||goog.global).Element&&t.Location)return t}catch{}return null},goog.functions={},goog.functions.constant=function(n){return function(){return n}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(n,e){return n},goog.functions.error=function(n){return function(){throw Error(n)}},goog.functions.fail=function(n){return function(){throw n}},goog.functions.lock=function(n,e){return e=e||0,function(){return n.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(n){return function(){return arguments[n]}},goog.functions.partialRight=function(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=Array.prototype.slice.call(arguments);return i.push.apply(i,t),n.apply(this,i)}},goog.functions.withReturnValue=function(n,e){return goog.functions.sequence(n,goog.functions.constant(e))},goog.functions.equalTo=function(n,e){return function(t){return e?n==t:n===t}},goog.functions.compose=function(n,e){var t=arguments,i=t.length;return function(){var o;i&&(o=t[i-1].apply(this,arguments));for(var s=i-2;0<=s;s--)o=t[s].call(this,o);return o}},goog.functions.sequence=function(n){var e=arguments,t=e.length;return function(){for(var i,o=0;o<t;o++)i=e[o].apply(this,arguments);return i}},goog.functions.and=function(n){var e=arguments,t=e.length;return function(){for(var i=0;i<t;i++)if(!e[i].apply(this,arguments))return!1;return!0}},goog.functions.or=function(n){var e=arguments,t=e.length;return function(){for(var i=0;i<t;i++)if(e[i].apply(this,arguments))return!0;return!1}},goog.functions.not=function(n){return function(){return!n.apply(this,arguments)}},goog.functions.create=function(n,e){var t=function(){};return t.prototype=n.prototype,t=new t,n.apply(t,Array.prototype.slice.call(arguments,1)),t},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(n){var e,t=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(e=n(),t=!0),e):n()}},goog.functions.once=function(n){var e=n;return function(){if(e){var t=e;e=null,t()}}},goog.functions.debounce=function(n,e,t){var i=0;return function(o){goog.global.clearTimeout(i);var s=arguments;i=goog.global.setTimeout(function(){n.apply(t,s)},e)}},goog.functions.throttle=function(n,e,t){var i=0,o=!1,s=[],l=function(){i=0,o&&(o=!1,c())},c=function(){i=goog.global.setTimeout(l,e),n.apply(t,s)};return function(w){s=arguments,i?o=!0:c()}},goog.functions.rateLimit=function(n,e,t){var i=0,o=function(){i=0};return function(s){i||(i=goog.global.setTimeout(o,e),n.apply(t,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(n){this.tagName_=n},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(n){return goog.dom.tags.VOID_TAGS_[n]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(n,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=n===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(n){return n instanceof goog.string.Const&&n.constructor===goog.string.Const&&n.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?n.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+n+"'"),"type_error:Const")},goog.string.Const.from=function(n){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,n)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(n){return(n=goog.string.Const.unwrap(n)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeScript.fromConstantAndArgs=function(n,e){for(var t=[],i=1;i<arguments.length;i++)t.push(goog.html.SafeScript.stringify_(arguments[i]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(n)+")("+t.join(", ")+");")},goog.html.SafeScript.fromJson=function(n){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(n))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(n){return goog.html.SafeScript.unwrapTrustedScript(n).toString()},goog.html.SafeScript.unwrapTrustedScript=function(n){return n instanceof goog.html.SafeScript&&n.constructor===goog.html.SafeScript&&n.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+n+"' of type "+goog.typeOf(n)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(n){return JSON.stringify(n).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(n){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(n)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(n){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(n):n,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(n){return goog.fs.url.getUrlObject_().createObjectURL(n)},goog.fs.url.revokeObjectUrl=function(n){goog.fs.url.getUrlObject_().revokeObjectURL(n)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(n){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(n){},goog.fs.url.getUrlObject_=function(){var n=goog.fs.url.findUrlObject_();if(n!=null)return n;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(n){var e=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(e!==void 0){e=new e;for(var t=0;t<arguments.length;t++)e.append(arguments[t]);return e.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(n,e,t){var i=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(i!==void 0){i=new i;for(var o=0;o<n.length;o++)i.append(n[o],t);return i.getBlob(e)}if(goog.global.Blob!==void 0)return i={},e&&(i.type=e),t&&(i.endings=t),new Blob(n,i);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(n,e){return typeof n=="number"?0<n?goog.i18n.bidi.Dir.LTR:0>n?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:n==null?null:n?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(n,e){return e?n.replace(goog.i18n.bidi.htmlSkipReg_,""):n},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(n,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(n,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(n){return goog.i18n.bidi.rtlRe_.test(n)},goog.i18n.bidi.isLtrChar=function(n){return goog.i18n.bidi.ltrRe_.test(n)},goog.i18n.bidi.isNeutralChar=function(n){return!goog.i18n.bidi.isLtrChar(n)&&!goog.i18n.bidi.isRtlChar(n)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(n,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(n,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(n,e){return n=goog.i18n.bidi.stripHtmlIfNeeded_(n,e),goog.i18n.bidi.isRequiredLtrRe_.test(n)||!goog.i18n.bidi.hasAnyLtr(n)&&!goog.i18n.bidi.hasAnyRtl(n)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(n,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(n,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(n,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(n){return goog.i18n.bidi.rtlLocalesRe_.test(n)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(n,e){return e=(e===void 0?goog.i18n.bidi.hasAnyRtl(n):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,n.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(n){return n.charAt(0)=="<"?n.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+n+"</span>"},goog.i18n.bidi.enforceRtlInText=function(n){return goog.i18n.bidi.Format.RLE+n+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(n){return n.charAt(0)=="<"?n.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+n+"</span>"},goog.i18n.bidi.enforceLtrInText=function(n){return goog.i18n.bidi.Format.LRE+n+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(n){return n.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(n){return n.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(n,e){var t=0,i=0,o=!1;for(n=goog.i18n.bidi.stripHtmlIfNeeded_(n,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<n.length;e++){var s=n[e];goog.i18n.bidi.startsWithRtl(s)?(t++,i++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?o=!0:goog.i18n.bidi.hasAnyLtr(s)?i++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(o=!0)}return i==0?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:t/i>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(n,e){return goog.i18n.bidi.estimateDirection(n,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(n,e){n&&(e=goog.i18n.bidi.toDir(e))&&(n.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,n.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(n,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:n.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:n.dir="rtl";break;default:n.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(n,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=n===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(n,e){var t=goog.html.TrustedResourceUrl.unwrap(this),i=(t=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(t))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",t[2]||"",n)+goog.html.TrustedResourceUrl.stringifyParams_("#",i,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(n){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(n).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(n){return n instanceof goog.html.TrustedResourceUrl&&n.constructor===goog.html.TrustedResourceUrl&&n.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+n+"' of type "+goog.typeOf(n)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(n,e){var t=goog.string.Const.unwrap(n);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return n=t.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(i,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw Error('Found marker, "'+o+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(e));return(i=e[o])instanceof goog.string.Const?goog.string.Const.unwrap(i):encodeURIComponent(String(i))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(n,e,t,i){return goog.html.TrustedResourceUrl.format(n,e).cloneWithParams(t,i)},goog.html.TrustedResourceUrl.fromConstant=function(n){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(n))},goog.html.TrustedResourceUrl.fromConstants=function(n){for(var e="",t=0;t<n.length;t++)e+=goog.string.Const.unwrap(n[t]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.fromSafeScript=function(n){return n=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(n)],"text/javascript"),n=goog.fs.url.createObjectUrl(n),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(n){return n=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(n):n,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,n)},goog.html.TrustedResourceUrl.stringifyParams_=function(n,e,t){if(t==null)return e;if(typeof t=="string")return t?n+encodeURIComponent(t):"";for(var i in t){var o=t[i];o=Array.isArray(o)?o:[o];for(var s=0;s<o.length;s++){var l=o[s];l!=null&&(e||(e=n),e+=(e.length>n.length?"&":"")+encodeURIComponent(i)+"="+encodeURIComponent(String(l)))}}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(n,e){return n.lastIndexOf(e,0)==0},goog.string.internal.endsWith=function(n,e){var t=n.length-e.length;return 0<=t&&n.indexOf(e,t)==t},goog.string.internal.caseInsensitiveStartsWith=function(n,e){return goog.string.internal.caseInsensitiveCompare(e,n.substr(0,e.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(n,e){return goog.string.internal.caseInsensitiveCompare(e,n.substr(n.length-e.length,e.length))==0},goog.string.internal.caseInsensitiveEquals=function(n,e){return n.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(n){return/^[\s\xa0]*$/.test(n)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]},goog.string.internal.caseInsensitiveCompare=function(n,e){return(n=String(n).toLowerCase())<(e=String(e).toLowerCase())?-1:n==e?0:1},goog.string.internal.newLineToBr=function(n,e){return n.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(n,e){if(e)n=n.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(n))return n;n.indexOf("&")!=-1&&(n=n.replace(goog.string.internal.AMP_RE_,"&amp;")),n.indexOf("<")!=-1&&(n=n.replace(goog.string.internal.LT_RE_,"&lt;")),n.indexOf(">")!=-1&&(n=n.replace(goog.string.internal.GT_RE_,"&gt;")),n.indexOf('"')!=-1&&(n=n.replace(goog.string.internal.QUOT_RE_,"&quot;")),n.indexOf("'")!=-1&&(n=n.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),n.indexOf("\0")!=-1&&(n=n.replace(goog.string.internal.NULL_RE_,"&#0;"))}return n},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(n,e){return goog.string.internal.newLineToBr(n.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(n,e){return n.indexOf(e)!=-1},goog.string.internal.caseInsensitiveContains=function(n,e){return goog.string.internal.contains(n.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(n,e){var t=0;n=goog.string.internal.trim(String(n)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var i=Math.max(n.length,e.length),o=0;t==0&&o<i;o++){var s=n[o]||"",l=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],s[0].length==0&&l[0].length==0)break;t=s[1].length==0?0:parseInt(s[1],10);var c=l[1].length==0?0:parseInt(l[1],10);t=goog.string.internal.compareElements_(t,c)||goog.string.internal.compareElements_(s[2].length==0,l[2].length==0)||goog.string.internal.compareElements_(s[2],l[2]),s=s[3],l=l[3]}while(t==0)}return t},goog.string.internal.compareElements_=function(n,e){return n<e?-1:n>e?1:0},goog.html.SafeUrl=function(n,e){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=n===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(n){return n instanceof goog.html.SafeUrl&&n.constructor===goog.html.SafeUrl&&n.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+n+"' of type "+goog.typeOf(n)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(n){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(n))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(n){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(n)},goog.html.SafeUrl.fromBlob=function(n){return n=goog.html.SafeUrl.isSafeMimeType(n.type)?goog.fs.url.createObjectUrl(n):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.fromMediaSource=function(n){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),n=n instanceof MediaSource?goog.fs.url.createObjectUrl(n):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(n){var e=(n=n.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SafeUrl.isSafeMimeType(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?n:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(n){return goog.string.internal.caseInsensitiveStartsWith(n,"tel:")||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(n){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(n))||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(n){return goog.string.internal.caseInsensitiveStartsWith(n,"fb-messenger://share")||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.fromWhatsAppUrl=function(n){return goog.string.internal.caseInsensitiveStartsWith(n,"whatsapp://send")||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.fromSmsUrl=function(n){return goog.string.internal.caseInsensitiveStartsWith(n,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(n)||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(n){var e=n.indexOf("#");if(0<e&&(n=n.substring(0,e)),!(e=n.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(n=n.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(n)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(n)},goog.html.SafeUrl.fromSshUrl=function(n){return goog.string.internal.caseInsensitiveStartsWith(n,"ssh://")||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(n,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,n,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(n,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,n,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(n,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,n,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(n,e,t){return(n=n.exec(e))?(n=n[1],(t instanceof goog.string.Const?[goog.string.Const.unwrap(t)]:t.map(function(i){return goog.string.Const.unwrap(i)})).indexOf(n)==-1&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(n){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(n))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(n){return n instanceof goog.html.SafeUrl?n:(n=typeof n=="object"&&n.implementsGoogStringTypedString?n.getTypedStringValue():String(n),goog.html.SAFE_URL_PATTERN_.test(n)||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(n,e){return n instanceof goog.html.SafeUrl?n:(n=typeof n=="object"&&n.implementsGoogStringTypedString?n.getTypedStringValue():String(n),e&&/^data:/i.test(n)&&(e=goog.html.SafeUrl.fromDataUrl(n)).getTypedStringValue()==n?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(n),"%s does not match the safe URL pattern",n)||(n=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(n)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(n){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,n)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(n){return(n=goog.string.Const.unwrap(n)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(n,";"),"Last character of style string is not ';': "+n),goog.asserts.assert(goog.string.internal.contains(n,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+n),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(n))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(n){return n instanceof goog.html.SafeStyle&&n.constructor===goog.html.SafeStyle&&n.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+n+"' of type "+goog.typeOf(n)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(n){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(n)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(n){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=n,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(n){var e,t="";for(e in n){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var i=n[e];i!=null&&(t+=e+":"+(i=Array.isArray(i)?goog.array.map(i,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(i))+";")}return t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(n){if(n instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(n).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(n=n instanceof goog.string.Const?goog.string.Const.unwrap(n):goog.html.SafeStyle.sanitizePropertyValueString_(String(n)),/[{;}]/.test(n))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[n]);return n},goog.html.SafeStyle.sanitizePropertyValueString_=function(n){var e=n.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(n)?(goog.asserts.fail("String value disallows comments, got: "+n),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(n)?goog.html.SafeStyle.hasBalancedSquareBrackets_(n)?goog.html.SafeStyle.sanitizeUrl_(n):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+n),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+n),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+n),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(n){for(var e=!0,t=!0,i=0;i<n.length;i++){var o=n.charAt(i);o=="'"&&t?e=!e:o=='"'&&e&&(t=!t)}return e&&t},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(n){for(var e=!0,t=/^[-_a-zA-Z0-9]$/,i=0;i<n.length;i++){var o=n.charAt(i);if(o=="]"){if(e)return!1;e=!0}else if(o=="["){if(!e)return!1;e=!1}else if(!e&&!t.test(o))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(n){return n.replace(goog.html.SafeStyle.URL_RE_,function(e,t,i,o){var s="";return i=i.replace(/^(['"])(.*)\1$/,function(l,c,w){return s=c,w}),e=goog.html.SafeUrl.sanitize(i).getTypedStringValue(),t+s+e+s+o})},goog.html.SafeStyle.concat=function(n){var e="",t=function(i){Array.isArray(i)?goog.array.forEach(i,t):e+=goog.html.SafeStyle.unwrap(i)};return goog.array.forEach(arguments,t),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(n,e){if(goog.string.internal.contains(n,"<"))throw Error("Selector does not allow '<', got: "+n);var t=n.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(t))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+n);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(t))throw Error("() and [] in selector must be balanced, got: "+n);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),n=n+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(n)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(n){for(var e={"(":")","[":"]"},t=[],i=0;i<n.length;i++){var o=n[i];if(e[o])t.push(e[o]);else if(goog.object.contains(e,o)&&t.pop()!=o)return!1}return t.length==0},goog.html.SafeStyleSheet.concat=function(n){var e="",t=function(i){Array.isArray(i)?goog.array.forEach(i,t):e+=goog.html.SafeStyleSheet.unwrap(i)};return goog.array.forEach(arguments,t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(n){return(n=goog.string.Const.unwrap(n)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(n,"<"),"Forbidden '<' character in style sheet string: "+n),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(n))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(n){return n instanceof goog.html.SafeStyleSheet&&n.constructor===goog.html.SafeStyleSheet&&n.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+n+"' of type "+goog.typeOf(n)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(n){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(n)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(n){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=n,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var n=goog.labs.userAgent.util.getNavigator_();return n&&(n=n.userAgent)?n:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(n){goog.labs.userAgent.util.userAgent_=n||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(n){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,n)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(n){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,n)},goog.labs.userAgent.util.extractVersionTuples=function(n){for(var e,t=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,i=[];e=t.exec(n);)i.push([e[1],e[2],e[3]||void 0]);return i},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function n(o){return o=goog.array.find(o,i),t[o]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var t={};goog.array.forEach(e,function(o){t[o[0]]=o[1]});var i=goog.partial(goog.object.containsKey,t);return goog.labs.userAgent.browser.isOpera()?n(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?n(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?n(["Edg"]):goog.labs.userAgent.browser.isChrome()?n(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(n){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),n)},goog.labs.userAgent.browser.getIEVersion_=function(n){var e=/rv: *([\d\.]*)/.exec(n);if(e&&e[1])return e[1];e="";var t=/MSIE +([\d\.]+)/.exec(n);if(t&&t[1])if(n=/Trident\/(\d.\d)/.exec(n),t[1]=="7.0")if(n&&n[1])switch(n[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=t[1];return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(n){return goog.html.SafeHtml.unwrapTrustedHTML(n).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(n){return n instanceof goog.html.SafeHtml&&n.constructor===goog.html.SafeHtml&&n.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?n.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+n+"' of type "+goog.typeOf(n)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(n){if(n instanceof goog.html.SafeHtml)return n;var e=typeof n=="object",t=null;return e&&n.implementsGoogI18nBidiDirectionalString&&(t=n.getDirection()),n=e&&n.implementsGoogStringTypedString?n.getTypedStringValue():String(n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(n),t)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(n){return n instanceof goog.html.SafeHtml?n:(n=goog.html.SafeHtml.htmlEscape(n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(n)),n.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(n){return n instanceof goog.html.SafeHtml?n:(n=goog.html.SafeHtml.htmlEscape(n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(n)),n.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(n){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(n)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(n,e,t){return goog.html.SafeHtml.verifyTagName(String(n)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(n),e,t)},goog.html.SafeHtml.verifyTagName=function(n){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+n+">.":"");if(n.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+n+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(n,e,t,i){n&&goog.html.TrustedResourceUrl.unwrap(n);var o={};return o.src=n||null,o.srcdoc=e&&goog.html.SafeHtml.unwrap(e),n=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",n,i)},goog.html.SafeHtml.createSandboxIframe=function(n,e,t,i){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=n?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(n)):null,o.srcdoc=e||null,o.sandbox="",n=goog.html.SafeHtml.combineAttributes(o,{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",n,i)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(n,e){return goog.html.TrustedResourceUrl.unwrap(n),n=goog.html.SafeHtml.combineAttributes({src:n},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",n)},goog.html.SafeHtml.createScript=function(n,e){for(var t in e){var i=t.toLowerCase();if(i=="language"||i=="src"||i=="text"||i=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+i+'" attribute':"")}for(t="",n=goog.array.concat(n),i=0;i<n.length;i++)t+=goog.html.SafeScript.unwrap(n[i]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,n)},goog.html.SafeHtml.createStyle=function(n,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var t="";n=goog.array.concat(n);for(var i=0;i<n.length;i++)t+=goog.html.SafeStyleSheet.unwrap(n[i]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,n)},goog.html.SafeHtml.createMetaRefresh=function(n,e){return n=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(n)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(n,";")&&(n="'"+n.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+n})},goog.html.SafeHtml.getAttrNameAndValue_=function(n,e,t){if(t instanceof goog.string.Const)t=goog.string.Const.unwrap(t);else if(e.toLowerCase()=="style"){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");t=goog.html.SafeHtml.getStyleValue_(t)}else{if(/^on/i.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" requires goog.string.Const value, "'+t+'" given.':"");if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(t instanceof goog.html.TrustedResourceUrl)t=goog.html.TrustedResourceUrl.unwrap(t);else if(t instanceof goog.html.SafeUrl)t=goog.html.SafeUrl.unwrap(t);else{if(typeof t!="string")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" on tag "'+n+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+t+'" given.':"");t=goog.html.SafeUrl.sanitize(t).getTypedStringValue()}}return t.implementsGoogStringTypedString&&(t=t.getTypedStringValue()),goog.asserts.assert(typeof t=="string"||typeof t=="number","String or number value expected, got "+typeof t+" with value: "+t),e+'="'+goog.string.internal.htmlEscape(String(t))+'"'},goog.html.SafeHtml.getStyleValue_=function(n){if(!goog.isObject(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof n+" given: "+n:"");return n instanceof goog.html.SafeStyle||(n=goog.html.SafeStyle.create(n)),goog.html.SafeStyle.unwrap(n)},goog.html.SafeHtml.createWithDir=function(n,e,t,i){return(e=goog.html.SafeHtml.create(e,t,i)).dir_=n,e},goog.html.SafeHtml.join=function(n,e){var t=(n=goog.html.SafeHtml.htmlEscape(n)).getDirection(),i=[],o=function(s){Array.isArray(s)?goog.array.forEach(s,o):(s=goog.html.SafeHtml.htmlEscape(s),i.push(goog.html.SafeHtml.unwrap(s)),s=s.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=s:s!=goog.i18n.bidi.Dir.NEUTRAL&&t!=s&&(t=null))};return goog.array.forEach(e,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i.join(goog.html.SafeHtml.unwrap(n)),t)},goog.html.SafeHtml.concat=function(n){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(n,e){var t=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return t.dir_=n,t},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(n,e){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(n,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(n,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(n):n,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(n,e,t){var i=null,o="<"+n+goog.html.SafeHtml.stringifyAttributes(n,e);return t==null?t=[]:Array.isArray(t)||(t=[t]),goog.dom.tags.isVoidTag(n.toLowerCase())?(goog.asserts.assert(!t.length,"Void tag <"+n+"> does not allow content."),o+=">"):(i=goog.html.SafeHtml.concat(t),o+=">"+goog.html.SafeHtml.unwrap(i)+"</"+n+">",i=i.getDirection()),(n=e&&e.dir)&&(i=/^(ltr|rtl|auto)$/i.test(n)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,i)},goog.html.SafeHtml.stringifyAttributes=function(n,e){var t="";if(e)for(var i in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+i+'".':"");var o=e[i];o!=null&&(t+=" "+goog.html.SafeHtml.getAttrNameAndValue_(n,i,o))}return t},goog.html.SafeHtml.combineAttributes=function(n,e,t){var i,o={};for(i in n)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=n[i];for(i in e)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=e[i];if(t)for(i in t){var s=i.toLowerCase();if(s in n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+s+'" attribute, got "'+i+'" with value "'+t[i]+'"':"");s in e&&delete o[s],o[i]=t[i]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(n,e,t){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,t||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(n,e){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(n,e){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(n,e){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(n,e){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(n,e){return goog.asserts.assertString(goog.string.Const.unwrap(n),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(n)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(n,e,t){n.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var n=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),n.appendChild(e),!(goog.DEBUG&&!n.firstChild)&&(e=n.firstChild.firstChild,n.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!e.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(n,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;n.lastChild;)n.removeChild(n.lastChild);n.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(n,e){if(goog.asserts.ENABLE_ASSERTS){var t=n.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[t])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+n.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(n,e)},goog.dom.safe.setOuterHtml=function(n,e){n.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(n,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(n).action=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setButtonFormAction=function(n,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(n).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setInputFormAction=function(n,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(n).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setStyle=function(n,e){n.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(n,e){n.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(n,e){goog.dom.asserts.assertIsHTMLAnchorElement(n),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),n.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setImageSrc=function(n,e){if(goog.dom.asserts.assertIsHTMLImageElement(n),!(e instanceof goog.html.SafeUrl)){var t=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,t)}n.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setAudioSrc=function(n,e){if(goog.dom.asserts.assertIsHTMLAudioElement(n),!(e instanceof goog.html.SafeUrl)){var t=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,t)}n.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setVideoSrc=function(n,e){if(goog.dom.asserts.assertIsHTMLVideoElement(n),!(e instanceof goog.html.SafeUrl)){var t=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,t)}n.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setEmbedSrc=function(n,e){goog.dom.asserts.assertIsHTMLEmbedElement(n),n.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(n,e){goog.dom.asserts.assertIsHTMLFrameElement(n),n.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrc=function(n,e){goog.dom.asserts.assertIsHTMLIFrameElement(n),n.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrcdoc=function(n,e){goog.dom.asserts.assertIsHTMLIFrameElement(n),n.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(n,e,t){goog.dom.asserts.assertIsHTMLLinkElement(n),n.rel=t,goog.string.internal.caseInsensitiveContains(t,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),n.href=goog.html.TrustedResourceUrl.unwrap(e)):n.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):e instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(e):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(n,e){goog.dom.asserts.assertIsHTMLObjectElement(n),n.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(n,e){goog.dom.asserts.assertIsHTMLScriptElement(n),n.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&n.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(n,e){goog.dom.asserts.assertIsHTMLScriptElement(n),n.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&n.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(n,e){goog.dom.asserts.assertIsLocation(n),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),n.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.assignLocation=function(n,e){goog.dom.asserts.assertIsLocation(n),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),n.assign(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.replaceLocation=function(n,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),n.replace(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.openInWindow=function(n,e,t,i,o){return n=n instanceof goog.html.SafeUrl?n:goog.html.SafeUrl.sanitizeAssertUnchanged(n),e=e||goog.global,t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):t||"",e.open(goog.html.SafeUrl.unwrap(n),t,i,o)},goog.dom.safe.parseFromStringHtml=function(n,e){return goog.dom.safe.parseFromString(n,e,"text/html")},goog.dom.safe.parseFromString=function(n,e,t){return n.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),t)},goog.dom.safe.createImageFromBlob=function(n){if(!/^image\/.*/g.test(n.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(n);return(n=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(n,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),n},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(n,e){for(var t=n.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<t.length;)i+=t.shift()+o.shift();return i+t.join("%s")},goog.string.collapseWhitespace=function(n){return n.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(n){return n.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(n){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(n))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(n){return!/[^\t\n\r ]/.test(n)},goog.string.isAlpha=function(n){return!/[^a-zA-Z]/.test(n)},goog.string.isNumeric=function(n){return!/[^0-9]/.test(n)},goog.string.isAlphaNumeric=function(n){return!/[^a-zA-Z0-9]/.test(n)},goog.string.isSpace=function(n){return n==" "},goog.string.isUnicodeChar=function(n){return n.length==1&&" "<=n&&"~">=n||""<=n&&"�">=n},goog.string.stripNewlines=function(n){return n.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(n){return n.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(n){return n.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(n){return n.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(n){return n.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(n){return n.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(n){return n.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(n,e,t){if(n==e)return 0;if(!n)return-1;if(!e)return 1;for(var i=n.toLowerCase().match(t),o=e.toLowerCase().match(t),s=Math.min(i.length,o.length),l=0;l<s;l++){t=i[l];var c=o[l];if(t!=c)return n=parseInt(t,10),!isNaN(n)&&(e=parseInt(c,10),!isNaN(e)&&n-e)?n-e:t<c?-1:1}return i.length!=o.length?i.length-o.length:n<e?-1:1},goog.string.intAwareCompare=function(n,e){return goog.string.numberAwareCompare_(n,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(n,e){return goog.string.numberAwareCompare_(n,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(n){return encodeURIComponent(String(n))},goog.string.urlDecode=function(n){return decodeURIComponent(n.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(n,e){return n=goog.string.internal.htmlEscape(n,e),goog.string.DETECT_DOUBLE_ESCAPING&&(n=n.replace(goog.string.E_RE_,"&#101;")),n},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(n){return goog.string.contains(n,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(n):goog.string.unescapePureXmlEntities_(n):n},goog.string.unescapeEntitiesWithDocument=function(n,e){return goog.string.contains(n,"&")?goog.string.unescapeEntitiesUsingDom_(n,e):n},goog.string.unescapeEntitiesUsingDom_=function(n,e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=e?e.createElement("div"):goog.global.document.createElement("div");return n.replace(goog.string.HTML_ENTITY_PATTERN_,function(o,s){var l=t[o];return l||(s.charAt(0)=="#"&&(s=+("0"+s.substr(1)),isNaN(s)||(l=String.fromCharCode(s))),l||(goog.dom.safe.setInnerHtml(i,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),o+" ")),l=i.firstChild.nodeValue.slice(0,-1)),t[o]=l)})},goog.string.unescapePureXmlEntities_=function(n){return n.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return t.charAt(0)!="#"||(t=+("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(n,e){return goog.string.newLineToBr(n.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(n){return n.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(n,e){for(var t=e.length,i=0;i<t;i++){var o=t==1?e:e.charAt(i);if(n.charAt(0)==o&&n.charAt(n.length-1)==o)return n.substring(1,n.length-1)}return n},goog.string.truncate=function(n,e,t){return t&&(n=goog.string.unescapeEntities(n)),n.length>e&&(n=n.substring(0,e-3)+"..."),t&&(n=goog.string.htmlEscape(n)),n},goog.string.truncateMiddle=function(n,e,t,i){if(t&&(n=goog.string.unescapeEntities(n)),i&&n.length>e){i>e&&(i=e);var o=n.length-i;n=n.substring(0,e-i)+"..."+n.substring(o)}else n.length>e&&(i=Math.floor(e/2),o=n.length-i,n=n.substring(0,i+e%2)+"..."+n.substring(o));return t&&(n=goog.string.htmlEscape(n)),n},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(n){n=String(n);for(var e=['"'],t=0;t<n.length;t++){var i=n.charAt(t),o=i.charCodeAt(0);e[t+1]=goog.string.specialEscapeChars_[i]||(31<o&&127>o?i:goog.string.escapeChar(i))}return e.push('"'),e.join("")},goog.string.escapeString=function(n){for(var e=[],t=0;t<n.length;t++)e[t]=goog.string.escapeChar(n.charAt(t));return e.join("")},goog.string.escapeChar=function(n){if(n in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[n];if(n in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[n]=goog.string.specialEscapeChars_[n];var e=n.charCodeAt(0);if(31<e&&127>e)var t=n;else 256>e?(t="\\x",(16>e||256<e)&&(t+="0")):(t="\\u",4096>e&&(t+="0")),t+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[n]=t},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(n,e){return n&&e?n.split(e).length-1:0},goog.string.removeAt=function(n,e,t){var i=n;return 0<=e&&e<n.length&&0<t&&(i=n.substr(0,e)+n.substr(e+t,n.length-e-t)),i},goog.string.remove=function(n,e){return n.replace(e,"")},goog.string.removeAll=function(n,e){return e=new RegExp(goog.string.regExpEscape(e),"g"),n.replace(e,"")},goog.string.replaceAll=function(n,e,t){return e=new RegExp(goog.string.regExpEscape(e),"g"),n.replace(e,t.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(n){return String(n).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(n,e){return n.repeat(e)}:function(n,e){return Array(e+1).join(n)},goog.string.padNumber=function(n,e,t){return(t=(n=t!==void 0?n.toFixed(t):String(n)).indexOf("."))==-1&&(t=n.length),goog.string.repeat("0",Math.max(0,e-t))+n},goog.string.makeSafe=function(n){return n==null?"":String(n)},goog.string.buildString=function(n){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(n){for(var e=0,t=0;t<n.length;++t)e=31*e+n.charCodeAt(t)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(n){var e=Number(n);return e==0&&goog.string.isEmptyOrWhitespace(n)?NaN:e},goog.string.isLowerCamelCase=function(n){return/^[a-z]+([A-Z][a-z]*)*$/.test(n)},goog.string.isUpperCamelCase=function(n){return/^([A-Z][a-z]*)+$/.test(n)},goog.string.toCamelCase=function(n){return String(n).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(n){return String(n).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(n,e){return e=typeof e=="string"?goog.string.regExpEscape(e):"\\s",n.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(t,i,o){return i+o.toUpperCase()})},goog.string.capitalize=function(n){return String(n.charAt(0)).toUpperCase()+String(n.substr(1)).toLowerCase()},goog.string.parseInt=function(n){return isFinite(n)&&(n=String(n)),typeof n=="string"?/^\s*-?0x/i.test(n)?parseInt(n,16):parseInt(n,10):NaN},goog.string.splitLimit=function(n,e,t){n=n.split(e);for(var i=[];0<t&&n.length;)i.push(n.shift()),t--;return n.length&&i.push(n.join(e)),i},goog.string.lastComponent=function(n,e){if(!e)return n;typeof e=="string"&&(e=[e]);for(var t=-1,i=0;i<e.length;i++)if(e[i]!=""){var o=n.lastIndexOf(e[i]);o>t&&(t=o)}return t==-1?n:n.slice(t+1)},goog.string.editDistance=function(n,e){var t=[],i=[];if(n==e)return 0;if(!n.length||!e.length)return Math.max(n.length,e.length);for(var o=0;o<e.length+1;o++)t[o]=o;for(o=0;o<n.length;o++){i[0]=o+1;for(var s=0;s<e.length;s++)i[s+1]=Math.min(i[s]+1,t[s+1]+1,t[s]+ +(n[o]!=e[s]));for(s=0;s<t.length;s++)t[s]=i[s]}return i[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var n=goog.labs.userAgent.util.getUserAgent();if(n){n=goog.labs.userAgent.util.extractVersionTuples(n);var e,t=goog.labs.userAgent.engine.getEngineTuple_(n);if(t)return t[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(n,"Firefox"):t[1];if((n=n[0])&&(e=n[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(n){if(!goog.labs.userAgent.engine.isEdge())return n[1];for(var e=0;e<n.length;e++){var t=n[e];if(t[0]=="Edge")return t}},goog.labs.userAgent.engine.isVersionOrHigher=function(n){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),n)},goog.labs.userAgent.engine.getVersionForKey_=function(n,e){return(n=goog.array.find(n,function(t){return e==t[0]}))&&n[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var n=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(n=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(n))?n[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(n=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(n))&&n[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(n=(e=/Mac OS X ([0-9_.]+)/).exec(n))?n[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(n=(e=/(?:KaiOS)\/(\S+)/i).exec(n))&&n[1]:goog.labs.userAgent.platform.isAndroid()?e=(n=(e=/Android\s+([^\);]+)(\)|;)/).exec(n))&&n[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(n=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(n))&&n[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(n){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),n)},goog.reflect={},goog.reflect.object=function(n,e){return e},goog.reflect.objectProperty=function(n,e){return n},goog.reflect.sinkValue=function(n){return goog.reflect.sinkValue[" "](n),n},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(n,e){try{return goog.reflect.sinkValue(n[e]),!0}catch{}return!1},goog.reflect.cache=function(n,e,t,i){return i=i?i(e):e,Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=t(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var n=goog.userAgent.getNavigatorTyped();return n&&n.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var n=goog.userAgent.getNavigatorTyped();return!!n&&goog.string.contains(n.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var n="",e=goog.userAgent.getVersionRegexResult_();return e&&(n=e?e[1]:""),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())!=null&&e>parseFloat(n)?String(e):n},goog.userAgent.getVersionRegexResult_=function(){var n=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(n):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(n):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(n):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0},goog.userAgent.getDocumentMode_=function(){var n=goog.global.document;return n?n.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(n,e){return goog.string.compareVersions(n,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(n){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,n,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,n)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(n){return Number(goog.userAgent.DOCUMENT_MODE)>=n},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var n=goog.userAgent.getDocumentMode_();return n||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(n){return goog.string.contains(goog.crypt.base64.paddingChars_,n)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(n,e){goog.asserts.assert(goog.isArrayLike(n),"encodeByteArray takes an array as a parameter"),e===void 0&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var t=[],i=0;i<n.length;i+=3){var o=n[i],s=i+1<n.length,l=s?n[i+1]:0,c=i+2<n.length,w=c?n[i+2]:0,er=o>>2;o=(3&o)<<4|l>>4,l=(15&l)<<2|w>>6,w&=63,c||(w=64,s||(l=64)),t.push(e[er],e[o],e[l]||"",e[w]||"")}return t.join("")},goog.crypt.base64.encodeString=function(n,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(n):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(n),e)},goog.crypt.base64.decodeString=function(n,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(n);var t="";return goog.crypt.base64.decodeStringInternal_(n,function(i){t+=String.fromCharCode(i)}),t},goog.crypt.base64.decodeStringToByteArray=function(n,e){var t=[];return goog.crypt.base64.decodeStringInternal_(n,function(i){t.push(i)}),t},goog.crypt.base64.decodeStringToUint8Array=function(n){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=n.length,t=3*e/4;t%3?t=Math.floor(t):goog.crypt.base64.isPadding_(n[e-1])&&(t=goog.crypt.base64.isPadding_(n[e-2])?t-2:t-1);var i=new Uint8Array(t),o=0;return goog.crypt.base64.decodeStringInternal_(n,function(s){i[o++]=s}),i.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(n,e){function t(w){for(;i<n.length;){var er=n.charAt(i++),nr=goog.crypt.base64.charToByteMap_[er];if(nr!=null)return nr;if(!goog.string.isEmptyOrWhitespace(er))throw Error("Unknown base64 encoding at char: "+er)}return w}goog.crypt.base64.init_();for(var i=0;;){var o=t(-1),s=t(0),l=t(64),c=t(64);if(c===64&&o===-1)break;e(o<<2|s>>4),l!=64&&(e(s<<4&240|l>>2),c!=64&&e(l<<6&192|c))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var n=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++){var i=n.concat(e[t].split(""));goog.crypt.base64.byteToCharMaps_[t]=i;for(var o=0;o<i.length;o++){var s=i[o],l=goog.crypt.base64.charToByteMap_[s];l===void 0?goog.crypt.base64.charToByteMap_[s]=o:goog.asserts.assert(l===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(n){var e=n>>>0;n=Math.floor((n-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=n},jspb.utils.splitInt64=function(n){var e=0>n,t=(n=Math.abs(n))>>>0;n=Math.floor((n-t)/jspb.BinaryConstants.TWO_TO_32),n>>>=0,e&&(n=~n>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++n&&(n=0))),jspb.utils.split64Low=t,jspb.utils.split64High=n},jspb.utils.splitZigzag64=function(n){var e=0>n;n=2*Math.abs(n),jspb.utils.splitUint64(n),n=jspb.utils.split64Low;var t=jspb.utils.split64High;e&&(n==0?t==0?t=n=4294967295:(t--,n=4294967295):n--),jspb.utils.split64Low=n,jspb.utils.split64High=t},jspb.utils.splitFloat32=function(n){var e=0>n?1:0;if((n=e?-n:n)===0)0<1/n?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(n))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(n>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(n<jspb.BinaryConstants.FLOAT32_MIN)n=Math.round(n/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|n)>>>0;else{var t=Math.floor(Math.log(n)/Math.LN2);n*=Math.pow(2,-t),16777216<=(n=Math.round(n*jspb.BinaryConstants.TWO_TO_23))&&++t,jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t+127<<23|8388607&n)>>>0}},jspb.utils.splitFloat64=function(n){var e=0>n?1:0;if((n=e?-n:n)===0)jspb.utils.split64High=0<1/n?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(n))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(n>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(n<jspb.BinaryConstants.FLOAT64_MIN){var t=n/Math.pow(2,-1074);n=t/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(e<<31|n)>>>0,jspb.utils.split64Low=t>>>0}else{var i=0;if(2<=(t=n))for(;2<=t&&1023>i;)i++,t/=2;else for(;1>t&&-1022<i;)t*=2,i--;n=(t=n*Math.pow(2,-i))*jspb.BinaryConstants.TWO_TO_20&1048575,t=t*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|i+1023<<20|n)>>>0,jspb.utils.split64Low=t}},jspb.utils.splitHash64=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1),i=n.charCodeAt(2),o=n.charCodeAt(3),s=n.charCodeAt(4),l=n.charCodeAt(5),c=n.charCodeAt(6);n=n.charCodeAt(7),jspb.utils.split64Low=e+(t<<8)+(i<<16)+(o<<24)>>>0,jspb.utils.split64High=s+(l<<8)+(c<<16)+(n<<24)>>>0},jspb.utils.joinUint64=function(n,e){return e*jspb.BinaryConstants.TWO_TO_32+(n>>>0)},jspb.utils.joinInt64=function(n,e){var t=2147483648&e;return t&&(e=~e>>>0,(n=1+~n>>>0)==0&&(e=e+1>>>0)),n=jspb.utils.joinUint64(n,e),t?-n:n},jspb.utils.toZigzag64=function(n,e,t){var i=e>>31;return t(n<<1^i,(e<<1|n>>>31)^i)},jspb.utils.joinZigzag64=function(n,e){return jspb.utils.fromZigzag64(n,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(n,e,t){var i=-(1&n);return t((n>>>1|e<<31)^i,e>>>1^i)},jspb.utils.joinFloat32=function(n,e){e=2*(n>>31)+1;var t=n>>>23&255;return n&=8388607,t==255?n?NaN:1/0*e:t==0?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))},jspb.utils.joinFloat64=function(n,e){var t=2*(e>>31)+1,i=e>>>20&2047;return n=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+n,i==2047?n?NaN:1/0*t:i==0?t*Math.pow(2,-1074)*n:t*Math.pow(2,i-1075)*(n+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(n,e){return String.fromCharCode(n>>>0&255,n>>>8&255,n>>>16&255,n>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(n,e){function t(o,s){return o=o?String(o):"",s?"0000000".slice(o.length)+o:o}if(2097151>=e)return""+jspb.utils.joinUint64(n,e);var i=(n>>>24|e<<8)>>>0&16777215;return n=(16777215&n)+6777216*i+6710656*(e=e>>16&65535),i+=8147497*e,e*=2,1e7<=n&&(i+=Math.floor(n/1e7),n%=1e7),1e7<=i&&(e+=Math.floor(i/1e7),i%=1e7),t(e,0)+t(i,e)+t(n,1)},jspb.utils.joinSignedDecimalString=function(n,e){var t=2147483648&e;return t&&(e=~e+((n=1+~n>>>0)==0?1:0)>>>0),n=jspb.utils.joinUnsignedDecimalString(n,e),t?"-"+n:n},jspb.utils.hash64ToDecimalString=function(n,e){jspb.utils.splitHash64(n),n=jspb.utils.split64Low;var t=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(n,t):jspb.utils.joinUnsignedDecimalString(n,t)},jspb.utils.hash64ArrayToDecimalStrings=function(n,e){for(var t=Array(n.length),i=0;i<n.length;i++)t[i]=jspb.utils.hash64ToDecimalString(n[i],e);return t},jspb.utils.decimalStringToHash64=function(n){function e(s,l){for(var c=0;8>c&&(s!==1||0<l);c++)l=s*i[c]+l,i[c]=255&l,l>>>=8}jspb.asserts.assert(0<n.length);var t=!1;n[0]==="-"&&(t=!0,n=n.slice(1));for(var i=[0,0,0,0,0,0,0,0],o=0;o<n.length;o++)e(10,n.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return t&&(function(){for(var s=0;8>s;s++)i[s]=255&~i[s]}(),e(1,1)),goog.crypt.byteArrayToString(i)},jspb.utils.splitDecimalString=function(n){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(n))},jspb.utils.toHexDigit_=function(n){return String.fromCharCode(10>n?jspb.utils.ZERO_CHAR_CODE_+n:jspb.utils.A_CHAR_CODE_-10+n)},jspb.utils.fromHexCharCode_=function(n){return n>=jspb.utils.A_CHAR_CODE_?n-jspb.utils.A_CHAR_CODE_+10:n-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(n){var e=Array(18);e[0]="0",e[1]="x";for(var t=0;8>t;t++){var i=n.charCodeAt(7-t);e[2*t+2]=jspb.utils.toHexDigit_(i>>4),e[2*t+3]=jspb.utils.toHexDigit_(15&i)}return e.join("")},jspb.utils.hexStringToHash64=function(n){n=n.toLowerCase(),jspb.asserts.assert(n.length==18),jspb.asserts.assert(n[0]=="0"),jspb.asserts.assert(n[1]=="x");for(var e="",t=0;8>t;t++){var i=jspb.utils.fromHexCharCode_(n.charCodeAt(2*t+2)),o=jspb.utils.fromHexCharCode_(n.charCodeAt(2*t+3));e=String.fromCharCode(16*i+o)+e}return e},jspb.utils.hash64ToNumber=function(n,e){jspb.utils.splitHash64(n),n=jspb.utils.split64Low;var t=jspb.utils.split64High;return e?jspb.utils.joinInt64(n,t):jspb.utils.joinUint64(n,t)},jspb.utils.numberToHash64=function(n){return jspb.utils.splitInt64(n),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(n,e,t){for(var i=0,o=e;o<t;o++)i+=n[o]>>7;return t-e-i},jspb.utils.countVarintFields=function(n,e,t,i){var o=0;if(128>(i=8*i+jspb.BinaryConstants.WireType.VARINT))for(;e<t&&n[e++]==i;)for(o++;;){var s=n[e++];if((128&s)==0)break}else for(;e<t;){for(s=i;128<s;){if(n[e]!=(127&s|128))return o;e++,s>>=7}if(n[e++]!=s)break;for(o++;(128&(s=n[e++]))!=0;);}return o},jspb.utils.countFixedFields_=function(n,e,t,i,o){var s=0;if(128>i)for(;e<t&&n[e++]==i;)s++,e+=o;else for(;e<t;){for(var l=i;128<l;){if(n[e++]!=(127&l|128))return s;l>>=7}if(n[e++]!=l)break;s++,e+=o}return s},jspb.utils.countFixed32Fields=function(n,e,t,i){return jspb.utils.countFixedFields_(n,e,t,8*i+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(n,e,t,i){return jspb.utils.countFixedFields_(n,e,t,8*i+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(n,e,t,i){var o=0;for(i=8*i+jspb.BinaryConstants.WireType.DELIMITED;e<t;){for(var s=i;128<s;){if(n[e++]!=(127&s|128))return o;s>>=7}if(n[e++]!=s)break;o++;for(var l=0,c=1;l+=(127&(s=n[e++]))*c,c*=128,(128&s)!=0;);e+=l}return o},jspb.utils.debugBytesToTextFormat=function(n){var e='"';if(n){n=jspb.utils.byteSourceToUint8Array(n);for(var t=0;t<n.length;t++)e+="\\x",16>n[t]&&(e+="0"),e+=n[t].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(n){return typeof n=="string"?goog.string.quote(n):n.toString()},jspb.utils.stringToByteArray=function(n){for(var e=new Uint8Array(n.length),t=0;t<n.length;t++){var i=n.charCodeAt(t);if(255<i)throw Error("Conversion error: string contains codepoint outside of byte range");e[t]=i}return e},jspb.utils.byteSourceToUint8Array=function(n){return n.constructor===Uint8Array?n:n.constructor===ArrayBuffer||n.constructor===Array?new Uint8Array(n):n.constructor===String?goog.crypt.base64.decodeStringToUint8Array(n):n instanceof Uint8Array?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(n,e,t){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,n&&this.setBlock(n,e,t)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(n,e,t){if(jspb.BinaryDecoder.instanceCache_.length){var i=jspb.BinaryDecoder.instanceCache_.pop();return n&&i.setBlock(n,e,t),i}return new jspb.BinaryDecoder(n,e,t)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(n,e,t){this.bytes_=jspb.utils.byteSourceToUint8Array(n),this.start_=e!==void 0?e:0,this.end_=t!==void 0?this.start_+t:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(n){this.end_=n},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(n){this.cursor_=n},jspb.BinaryDecoder.prototype.advance=function(n){this.cursor_+=n,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(n){for(var e=128,t=0,i=0,o=0;4>o&&128<=e;o++)t|=(127&(e=this.bytes_[this.cursor_++]))<<7*o;if(128<=e&&(t|=(127&(e=this.bytes_[this.cursor_++]))<<28,i|=(127&e)>>4),128<=e)for(o=0;5>o&&128<=e;o++)i|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3;if(128>e)return n(t>>>0,i>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(n){return this.readSplitVarint64(function(e,t){return jspb.utils.fromZigzag64(e,t,n)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(n){var e=this.bytes_,t=this.cursor_;this.cursor_+=8;for(var i=0,o=0,s=t+7;s>=t;s--)i=i<<8|e[s],o=o<<8|e[s+4];return n(i,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(n){for(;128<n;)this.cursor_--,n>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var n=this.bytes_,e=n[this.cursor_+0],t=127&e;return 128>e?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t):(t|=(127&(e=n[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),t):(t|=(127&(e=n[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),t):(t|=(127&(e=n[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),t):(t|=(15&(e=n[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),t>>>0):(this.cursor_+=5,128<=n[this.cursor_++]&&128<=n[this.cursor_++]&&128<=n[this.cursor_++]&&128<=n[this.cursor_++]&&128<=n[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),t)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var n=this.readUnsignedVarint32();return n>>>1^-(1&n)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var n=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),n},jspb.BinaryDecoder.prototype.readUint16=function(){var n=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),n<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var n=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],t=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(n<<0|e<<8|t<<16|i<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var n=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(n,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var n=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(n,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var n=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),n<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var n=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(n<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var n=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],t=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),n<<0|e<<8|t<<16|i<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var n=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(n,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var n=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(n,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var n=this.readUint32();return jspb.utils.joinFloat32(n,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var n=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(n,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(n){var e=this.bytes_,t=this.cursor_;n=t+n;for(var i=[],o="";t<n;){var s=e[t++];if(128>s)i.push(s);else{if(192>s)continue;if(224>s){var l=e[t++];i.push((31&s)<<6|63&l)}else if(240>s){l=e[t++];var c=e[t++];i.push((15&s)<<12|(63&l)<<6|63&c)}else 248>s&&(s=(7&s)<<18|(63&(l=e[t++]))<<12|(63&(c=e[t++]))<<6|63&e[t++],s-=65536,i.push(55296+(s>>10&1023),56320+(1023&s)))}8192<=i.length&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o+=goog.crypt.byteArrayToString(i),this.cursor_=t,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var n=this.readUnsignedVarint32();return this.readString(n)},jspb.BinaryDecoder.prototype.readBytes=function(n){if(0>n||this.cursor_+n>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+n);return this.cursor_+=n,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var n=this.bytes_,e=this.cursor_,t=n[e+0],i=n[e+1],o=n[e+2],s=n[e+3],l=n[e+4],c=n[e+5],w=n[e+6];return n=n[e+7],this.cursor_+=8,String.fromCharCode(t,i,o,s,l,c,w,n)},jspb.BinaryReader=function(n,e,t){this.decoder_=jspb.BinaryDecoder.alloc(n,e,t),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(n,e,t){if(jspb.BinaryReader.instanceCache_.length){var i=jspb.BinaryReader.instanceCache_.pop();return n&&i.decoder_.setBlock(n,e,t),i}return new jspb.BinaryReader(n,e,t)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(n,e,t){this.decoder_.setBlock(n,e,t),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(n){this.decoder_.advance(n)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var n=this.decoder_.readUnsignedVarint32(),e=n>>>3;return(n&=7)!=jspb.BinaryConstants.WireType.VARINT&&n!=jspb.BinaryConstants.WireType.FIXED32&&n!=jspb.BinaryConstants.WireType.FIXED64&&n!=jspb.BinaryConstants.WireType.DELIMITED&&n!=jspb.BinaryConstants.WireType.START_GROUP&&n!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",n,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=n,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var n=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==n;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var n=this.decoder_.readUnsignedVarint32();this.decoder_.advance(n)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var n=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=n&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(n,e){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[n]),this.readCallbacks_[n]=e},jspb.BinaryReader.prototype.runReadCallback=function(n){return jspb.asserts.assert(this.readCallbacks_!==null),n=this.readCallbacks_[n],jspb.asserts.assert(n),n(this)},jspb.BinaryReader.prototype.readAny=function(n){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(n);var e=jspb.BinaryConstants.FieldType;switch(n){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(n,e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.getEnd(),i=this.decoder_.readUnsignedVarint32();i=this.decoder_.getCursor()+i,this.decoder_.setEnd(i),e(n,this),this.decoder_.setCursor(i),this.decoder_.setEnd(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(n,e,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==n),t(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),t=e+n;return n=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,n),this.decoder_.setCursor(t),n},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(n)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(n)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(n){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(n)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(n){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,t){return jspb.utils.fromZigzag64(e,t,n)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(n){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(n)},jspb.BinaryReader.prototype.readPackedField_=function(n){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var t=[];this.decoder_.getCursor()<e;)t.push(n.call(this.decoder_));return t},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var n=this.buffer_;return this.buffer_=[],n},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(n,e){for(jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<n;)this.buffer_.push(127&n|128),n=(n>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(n)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(n,e){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(n),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(n){for(jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_32);127<n;)this.buffer_.push(127&n|128),n>>>=7;this.buffer_.push(n)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(n){if(jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_31&&n<jspb.BinaryConstants.TWO_TO_31),0<=n)this.writeUnsignedVarint32(n);else{for(var e=0;9>e;e++)this.buffer_.push(127&n|128),n>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(n),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_63&&n<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(n),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_31&&n<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((n<<1^n>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_63&&n<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(n),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(n){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(n))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(n){var e=this;jspb.utils.splitHash64(n),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(t,i){e.writeSplitVarint64(t>>>0,i>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&256>n),this.buffer_.push(n>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&65536>n),this.buffer_.push(n>>>0&255),this.buffer_.push(n>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(n>>>0&255),this.buffer_.push(n>>>8&255),this.buffer_.push(n>>>16&255),this.buffer_.push(n>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(n),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(-128<=n&&128>n),this.buffer_.push(n>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(-32768<=n&&32768>n),this.buffer_.push(n>>>0&255),this.buffer_.push(n>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_31&&n<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(n>>>0&255),this.buffer_.push(n>>>8&255),this.buffer_.push(n>>>16&255),this.buffer_.push(n>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_63&&n<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(n),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(+n>=-jspb.BinaryConstants.TWO_TO_63&&+n<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(n)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(n){jspb.asserts.assert(n===1/0||n===-1/0||isNaN(n)||n>=-jspb.BinaryConstants.FLOAT32_MAX&&n<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(n),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(n){jspb.asserts.assert(n===1/0||n===-1/0||isNaN(n)||n>=-jspb.BinaryConstants.FLOAT64_MAX&&n<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(n),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(n){jspb.asserts.assert(typeof n=="boolean"||typeof n=="number"),this.buffer_.push(n?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(n){jspb.asserts.assert(n==Math.floor(n)),jspb.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_31&&n<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(n)},jspb.BinaryEncoder.prototype.writeBytes=function(n){this.buffer_.push.apply(this.buffer_,n)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(n){jspb.utils.splitHash64(n),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(n){jspb.utils.splitHash64(n),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(n){var e=this.buffer_.length;jspb.asserts.assertString(n);for(var t=0;t<n.length;t++){var i=n.charCodeAt(t);if(128>i)this.buffer_.push(i);else if(2048>i)this.buffer_.push(i>>6|192),this.buffer_.push(63&i|128);else if(65536>i)if(55296<=i&&56319>=i&&t+1<n.length){var o=n.charCodeAt(t+1);56320<=o&&57343>=o&&(i=1024*(i-55296)+o-56320+65536,this.buffer_.push(i>>18|240),this.buffer_.push(i>>12&63|128),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128),t++)}else this.buffer_.push(i>>12|224),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128)}return this.buffer_.length-e},jspb.arith={},jspb.arith.UInt64=function(n,e){this.lo=n,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(n){return this.hi<n.hi||this.hi==n.hi&&this.lo<n.lo?-1:this.hi==n.hi&&this.lo==n.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(n){return new jspb.arith.UInt64((this.lo+n.lo&4294967295)>>>0>>>0,((this.hi+n.hi&4294967295)>>>0)+(4294967296<=this.lo+n.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(n){return new jspb.arith.UInt64((this.lo-n.lo&4294967295)>>>0>>>0,((this.hi-n.hi&4294967295)>>>0)-(0>this.lo-n.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(n,e){var t=65535&n,i=65535&e,o=e>>>16;for(e=t*i+65536*(t*o&65535)+65536*((n>>>=16)*i&65535),t=n*o+(t*o>>>16)+(n*i>>>16);4294967296<=e;)e-=4294967296,t+=1;return new jspb.arith.UInt64(e>>>0,t>>>0)},jspb.arith.UInt64.prototype.mul=function(n){var e=jspb.arith.UInt64.mul32x32(this.lo,n);return(n=jspb.arith.UInt64.mul32x32(this.hi,n)).hi=n.lo,n.lo=0,e.add(n)},jspb.arith.UInt64.prototype.div=function(n){if(n==0)return[];var e=new jspb.arith.UInt64(0,0),t=new jspb.arith.UInt64(this.lo,this.hi);n=new jspb.arith.UInt64(n,0);for(var i=new jspb.arith.UInt64(1,0);!n.msb();)n=n.leftShift(),i=i.leftShift();for(;!i.zero();)0>=n.cmp(t)&&(e=e.add(i),t=t.sub(n)),n=n.rightShift(),i=i.rightShift();return[e,t]},jspb.arith.UInt64.prototype.toString=function(){for(var n="",e=this;!e.zero();){var t=(e=e.div(10))[0];n=e[1].lo+n,e=t}return n==""&&(n="0"),n},jspb.arith.UInt64.fromString=function(n){for(var e=new jspb.arith.UInt64(0,0),t=new jspb.arith.UInt64(0,0),i=0;i<n.length;i++){if("0">n[i]||"9"<n[i])return null;var o=parseInt(n[i],10);t.lo=o,e=e.mul(10).add(t)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(n,e){this.lo=n,this.hi=e},jspb.arith.Int64.prototype.add=function(n){return new jspb.arith.Int64((this.lo+n.lo&4294967295)>>>0>>>0,((this.hi+n.hi&4294967295)>>>0)+(4294967296<=this.lo+n.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(n){return new jspb.arith.Int64((this.lo-n.lo&4294967295)>>>0>>>0,((this.hi-n.hi&4294967295)>>>0)-(0>this.lo-n.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var n=(2147483648&this.hi)!=0,e=new jspb.arith.UInt64(this.lo,this.hi);return n&&(e=new jspb.arith.UInt64(0,0).sub(e)),(n?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(n){var e=0<n.length&&n[0]=="-";return e&&(n=n.substring(1)),(n=jspb.arith.UInt64.fromString(n))===null?null:(e&&(n=new jspb.arith.UInt64(0,0).sub(n)),new jspb.arith.Int64(n.lo,n.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(n){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(n),this.totalLength_+=e.length+n.length},jspb.BinaryWriter.prototype.beginDelimited_=function(n){return this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),n=this.encoder_.end(),this.blocks_.push(n),this.totalLength_+=n.length,n.push(this.totalLength_),n},jspb.BinaryWriter.prototype.endDelimited_=function(n){var e=n.pop();for(e=this.totalLength_+this.encoder_.length()-e,jspb.asserts.assert(0<=e);127<e;)n.push(127&e|128),e>>>=7,this.totalLength_++;n.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(n,e,t){this.appendUint8Array_(n.subarray(e,t))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(n,e,t){n!=null&&e!=null&&t!=null&&this.writeSerializedMessage(n,e,t)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var n=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,t=e.length,i=0,o=0;o<t;o++){var s=e[o];n.set(s,i),i+=s.length}return e=this.encoder_.end(),n.set(e,i),i+=e.length,jspb.asserts.assert(i==n.length),this.blocks_=[n],n},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(n){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),n)},jspb.BinaryWriter.prototype.beginSubMessage=function(n){this.bookmarks_.push(this.beginDelimited_(n))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(n,e){jspb.asserts.assert(1<=n&&n==Math.floor(n)),this.encoder_.writeUnsignedVarint32(8*n+e)},jspb.BinaryWriter.prototype.writeAny=function(n,e,t){var i=jspb.BinaryConstants.FieldType;switch(n){case i.DOUBLE:this.writeDouble(e,t);break;case i.FLOAT:this.writeFloat(e,t);break;case i.INT64:this.writeInt64(e,t);break;case i.UINT64:this.writeUint64(e,t);break;case i.INT32:this.writeInt32(e,t);break;case i.FIXED64:this.writeFixed64(e,t);break;case i.FIXED32:this.writeFixed32(e,t);break;case i.BOOL:this.writeBool(e,t);break;case i.STRING:this.writeString(e,t);break;case i.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case i.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case i.BYTES:this.writeBytes(e,t);break;case i.UINT32:this.writeUint32(e,t);break;case i.ENUM:this.writeEnum(e,t);break;case i.SFIXED32:this.writeSfixed32(e,t);break;case i.SFIXED64:this.writeSfixed64(e,t);break;case i.SINT32:this.writeSint32(e,t);break;case i.SINT64:this.writeSint64(e,t);break;case i.FHASH64:this.writeFixedHash64(e,t);break;case i.VHASH64:this.writeVarintHash64(e,t);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(n,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(n,e))},jspb.BinaryWriter.prototype.writeInt64=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(n,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(n,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(n,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(n,e))},jspb.BinaryWriter.prototype.writeUint64=function(n,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(n,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(n,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(n,e){e!=null&&this.writeZigzagVarintHash64_(n,e)},jspb.BinaryWriter.prototype.writeSint64String=function(n,e){e!=null&&this.writeZigzagVarint64String_(n,e)},jspb.BinaryWriter.prototype.writeFixed32=function(n,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(n,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(n,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(n,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(n,e){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(n,e){e!=null&&(jspb.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(n,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(n,e){e!=null&&(n=this.beginDelimited_(n),this.encoder_.writeString(e),this.endDelimited_(n))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(n,e){e!=null&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(n,e,t){e!=null&&(n=this.beginDelimited_(n),t(e,this),this.endDelimited_(n))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(n,e,t){e!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(n),n=this.beginDelimited_(3),t(e,this),this.endDelimited_(n),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(n,e,t){e!=null&&(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.START_GROUP),t(e,this),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(n,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(n,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(n,e,t){this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,t)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(n,e,t){this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,t)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(n,e,t){this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.VARINT);var i=this.encoder_;jspb.utils.toZigzag64(e,t,function(o,s){i.writeSplitVarint64(o>>>0,s>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeSignedVarint32_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeInt32String(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeSignedVarint64_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(n,e,t,i){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitFixed64(n,t(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(n,e,t,i){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitVarint64(n,t(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(n,e,t,i){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitZigzagVarint64(n,t(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeInt64String(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeUnsignedVarint32_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeUint32String(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeUnsignedVarint64_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeUint64String(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeZigzagVarint32_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeZigzagVarint64_(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeZigzagVarint64String_(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeZigzagVarintHash64_(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeFixed32(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeFixed64(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeFixed64String(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeSfixed32(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeSfixed64(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeSfixed64String(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeFloat(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeDouble(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeBool(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeEnum(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeString(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeBytes(n,e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(n,e,t){if(e!=null)for(var i=0;i<e.length;i++){var o=this.beginDelimited_(n);t(e[i],this),this.endDelimited_(o)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(n,e,t){if(e!=null)for(var i=0;i<e.length;i++)this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.START_GROUP),t(e[i],this),this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeFixedHash64(n,e[t])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(n,e){if(e!=null)for(var t=0;t<e.length;t++)this.writeVarintHash64(n,e[t])},jspb.BinaryWriter.prototype.writePackedInt32=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeSignedVarint32(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeSignedVarint32(parseInt(e[t],10));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedInt64=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeSignedVarint64(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(n,e,t,i){if(e!=null){n=this.beginDelimited_(n);for(var o=0;o<e.length;o++)this.encoder_.writeSplitFixed64(t(e[o]),i(e[o]));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(n,e,t,i){if(e!=null){n=this.beginDelimited_(n);for(var o=0;o<e.length;o++)this.encoder_.writeSplitVarint64(t(e[o]),i(e[o]));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(n,e,t,i){if(e!=null){n=this.beginDelimited_(n);for(var o=this.encoder_,s=0;s<e.length;s++)jspb.utils.toZigzag64(t(e[s]),i(e[s]),function(l,c){o.writeSplitVarint64(l>>>0,c>>>0)});this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++){var i=jspb.arith.Int64.fromString(e[t]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint32=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeUnsignedVarint32(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeUnsignedVarint32(parseInt(e[t],10));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint64=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeUnsignedVarint64(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++){var i=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSint32=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeZigzagVarint32(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeZigzagVarint64(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[t]));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeZigzagVarintHash64(e[t]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),n=0;n<e.length;n++)this.encoder_.writeUint32(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++)this.encoder_.writeUint64(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++){var t=jspb.arith.UInt64.fromString(e[n]);this.encoder_.writeSplitFixed64(t.lo,t.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),n=0;n<e.length;n++)this.encoder_.writeInt32(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++)this.encoder_.writeInt64(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++)this.encoder_.writeInt64String(e[n])},jspb.BinaryWriter.prototype.writePackedFloat=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),n=0;n<e.length;n++)this.encoder_.writeFloat(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++)this.encoder_.writeDouble(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),n=0;n<e.length;n++)this.encoder_.writeBool(e[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeEnum(e[t]);this.endDelimited_(n)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(n,e){if(e!=null&&e.length)for(this.writeFieldHeader_(n,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),n=0;n<e.length;n++)this.encoder_.writeFixedHash64(e[n])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(n,e){if(e!=null&&e.length){n=this.beginDelimited_(n);for(var t=0;t<e.length;t++)this.encoder_.writeVarintHash64(e[t]);this.endDelimited_(n)}},jspb.Map=function(n,e){this.arr_=n,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var n=0;n<this.arr_.length;n++){var e=this.arr_[n],t=e[0];this.map_[t.toString()]=new jspb.Map.Entry_(t,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var n,e=this.map_;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n].valueWrapper;t&&t.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),n=0;n<e.length;n++){var i=this.map_[e[n]];(t=i.valueWrapper)&&t.toArray(),this.arr_.push([i.key,i.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(n,e){for(var t=this.toArray(),i=[],o=0;o<t.length;o++){var s=this.map_[t[o][0].toString()];this.wrapEntry_(s);var l=s.valueWrapper;l?(jspb.asserts.assert(e),i.push([s.key,e(n,l)])):i.push([s.key,s.value])}return i},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(n,e,t){e=new jspb.Map([],e);for(var i=0;i<n.length;i++){var o=n[i][0],s=t(n[i][1]);e.set(o,s)}return e},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(n){this.idx_=0,this.arr_=n},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(n){n=n.toString();var e=this.map_.hasOwnProperty(n);return delete this.map_[n],this.arrClean=!1,e},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var n=[],e=this.stringKeys_();e.sort();for(var t=0;t<e.length;t++){var i=this.map_[e[t]];n.push([i.key,i.value])}return n},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var n=[],e=this.stringKeys_();e.sort();for(var t=0;t<e.length;t++){var i=this.map_[e[t]];n.push([i.key,this.wrapEntry_(i)])}return new jspb.Map.ArrayIteratorIterable_(n)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var n=[],e=this.stringKeys_();e.sort();for(var t=0;t<e.length;t++)n.push(this.map_[e[t]].key);return new jspb.Map.ArrayIteratorIterable_(n)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var n=[],e=this.stringKeys_();e.sort();for(var t=0;t<e.length;t++)n.push(this.wrapEntry_(this.map_[e[t]]));return new jspb.Map.ArrayIteratorIterable_(n)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(n,e){var t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++){var o=this.map_[t[i]];n.call(e,this.wrapEntry_(o),o.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(n,e){var t=new jspb.Map.Entry_(n);return this.valueCtor_?(t.valueWrapper=e,t.value=e.toArray()):t.value=e,this.map_[n.toString()]=t,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(n){return this.valueCtor_?(n.valueWrapper||(n.valueWrapper=new this.valueCtor_(n.value)),n.valueWrapper):n.value},jspb.Map.prototype.get=function(n){if(n=this.map_[n.toString()])return this.wrapEntry_(n)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(n){return n.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(n,e,t,i,o){var s=this.stringKeys_();s.sort();for(var l=0;l<s.length;l++){var c=this.map_[s[l]];e.beginSubMessage(n),t.call(e,1,c.key),this.valueCtor_?i.call(e,2,this.wrapEntry_(c),o):i.call(e,2,c.value),e.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(n,e,t,i,o,s,l){for(;e.nextField()&&!e.isEndGroup();){var c=e.getFieldNumber();c==1?s=t.call(e):c==2&&(n.valueCtor_?(jspb.asserts.assert(o),l||(l=new n.valueCtor_),i.call(e,l,o)):l=i.call(e))}jspb.asserts.assert(s!=null),jspb.asserts.assert(l!=null),n.set(s,l)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var n,e=this.map_,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},jspb.Map.Entry_=function(n,e){this.key=n,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(n,e,t,i,o){this.fieldIndex=n,this.fieldName=e,this.ctor=t,this.toObjectFn=i,this.isRepeated=o},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(n,e,t,i,o,s){this.fieldInfo=n,this.binaryReaderFn=e,this.binaryWriterFn=t,this.binaryMessageSerializeFn=i,this.binaryMessageDeserializeFn=o,this.isPacked=s},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(n,e){return e+n.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(n,e){return e-n.arrayIndexOffset_},jspb.Message.initialize=function(n,e,t,i,o,s){if(n.wrappers_=null,e||(e=t?[t]:[]),n.messageId_=t?String(t):void 0,n.arrayIndexOffset_=t===0?-1:0,n.array=e,jspb.Message.initPivotAndExtensionObject_(n,i),n.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(n.repeatedFields=o),o)for(e=0;e<o.length;e++)(t=o[e])<n.pivot_?(t=jspb.Message.getIndex_(n,t),n.array[t]=n.array[t]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(n),n.extensionObject_[t]=n.extensionObject_[t]||jspb.Message.EMPTY_LIST_SENTINEL_);if(s&&s.length)for(e=0;e<s.length;e++)jspb.Message.computeOneofCase(n,s[e])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(n){return jspb.Message.ASSUME_LOCAL_ARRAYS?n instanceof Array:Array.isArray(n)},jspb.Message.isExtensionObject_=function(n){return!(n===null||typeof n!="object"||jspb.Message.isArray_(n)||jspb.Message.SUPPORTS_UINT8ARRAY_&&n instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(n,e){var t=n.array.length,i=-1;if(t&&(i=t-1,t=n.array[i],jspb.Message.isExtensionObject_(t)))return n.pivot_=jspb.Message.getFieldNumber_(n,i),void(n.extensionObject_=t);-1<e?(n.pivot_=Math.max(e,jspb.Message.getFieldNumber_(n,i+1)),n.extensionObject_=null):n.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(n){var e=jspb.Message.getIndex_(n,n.pivot_);n.array[e]||(n.extensionObject_=n.array[e]={})},jspb.Message.toObjectList=function(n,e,t){for(var i=[],o=0;o<n.length;o++)i[o]=e.call(n[o],t,n[o]);return i},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(n,e,t,i,o){for(var s in t){var l=t[s],c=i.call(n,l);if(c!=null){for(var w in l.fieldName)if(l.fieldName.hasOwnProperty(w))break;e[w]=l.toObjectFn?l.isRepeated?jspb.Message.toObjectList(c,l.toObjectFn,o):l.toObjectFn(o,c):c}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(n,e,t,i){for(var o in t){var s=t[o],l=s.fieldInfo;if(!s.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var c=i.call(n,l);if(c!=null)if(l.isMessageType()){if(!s.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");s.binaryWriterFn.call(e,l.fieldIndex,c,s.binaryMessageSerializeFn)}else s.binaryWriterFn.call(e,l.fieldIndex,c)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(n,e,t,i,o){var s=t[e.getFieldNumber()];if(s){if(t=s.fieldInfo,!s.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(t.isMessageType()){var l=new t.ctor;s.binaryReaderFn.call(e,l,s.binaryMessageDeserializeFn)}else l=s.binaryReaderFn.call(e);t.isRepeated&&!s.isPacked?(e=i.call(n,t))?e.push(l):o.call(n,t,[l]):o.call(n,t,l)}else e.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(n,e){if(e<n.pivot_){e=jspb.Message.getIndex_(n,e);var t=n.array[e];return t===jspb.Message.EMPTY_LIST_SENTINEL_?n.array[e]=[]:t}if(n.extensionObject_)return(t=n.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?n.extensionObject_[e]=[]:t},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(n,e){return jspb.Message.getField(n,e)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(n,e){return(n=jspb.Message.getField(n,e))==null?n:+n},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(n,e){return(n=jspb.Message.getField(n,e))==null?n:!!n},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(n,e){var t=jspb.Message.getRepeatedField(n,e);if(n.convertedPrimitiveFields_||(n.convertedPrimitiveFields_={}),!n.convertedPrimitiveFields_[e]){for(var i=0;i<t.length;i++)t[i]=+t[i];n.convertedPrimitiveFields_[e]=!0}return t},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(n,e){var t=jspb.Message.getRepeatedField(n,e);if(n.convertedPrimitiveFields_||(n.convertedPrimitiveFields_={}),!n.convertedPrimitiveFields_[e]){for(var i=0;i<t.length;i++)t[i]=!!t[i];n.convertedPrimitiveFields_[e]=!0}return t},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(n){return n==null||typeof n=="string"?n:jspb.Message.SUPPORTS_UINT8ARRAY_&&n instanceof Uint8Array?goog.crypt.base64.encodeByteArray(n):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(n)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(n){return n==null||n instanceof Uint8Array?n:typeof n=="string"?goog.crypt.base64.decodeStringToUint8Array(n):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(n)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(n){return jspb.Message.assertConsistentTypes_(n),n.length&&typeof n[0]!="string"?goog.array.map(n,jspb.Message.bytesAsB64):n},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(n){return jspb.Message.assertConsistentTypes_(n),!n.length||n[0]instanceof Uint8Array?n:goog.array.map(n,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(n){if(goog.DEBUG&&n&&1<n.length){var e=goog.typeOf(n[0]);goog.array.forEach(n,function(t){goog.typeOf(t)!=e&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(t)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(n,e,t){return(n=jspb.Message.getField(n,e))==null?t:n},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(n,e,t){return(n=jspb.Message.getBooleanField(n,e))==null?t:n},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(n,e,t){return(n=jspb.Message.getOptionalFloatingPointField(n,e))==null?t:n},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(n,e,t,i){if(n.wrappers_||(n.wrappers_={}),e in n.wrappers_)return n.wrappers_[e];var o=jspb.Message.getField(n,e);if(!o){if(t)return;o=[],jspb.Message.setField(n,e,o)}return n.wrappers_[e]=new jspb.Map(o,i)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(n,e,t){return jspb.asserts.assertInstanceof(n,jspb.Message),e<n.pivot_?n.array[jspb.Message.getIndex_(n,e)]=t:(jspb.Message.maybeInitEmptyExtensionObject_(n),n.extensionObject_[e]=t),n},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(n,e,t){return jspb.Message.setFieldIgnoringDefault_(n,e,t,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(n,e,t,i){return jspb.asserts.assertInstanceof(n,jspb.Message),t!==i?jspb.Message.setField(n,e,t):e<n.pivot_?n.array[jspb.Message.getIndex_(n,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(n),delete n.extensionObject_[e]),n},jspb.Message.addToRepeatedField=function(n,e,t,i){return jspb.asserts.assertInstanceof(n,jspb.Message),e=jspb.Message.getRepeatedField(n,e),i!=null?e.splice(i,0,t):e.push(t),n},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(n,e,t,i){return jspb.asserts.assertInstanceof(n,jspb.Message),(t=jspb.Message.computeOneofCase(n,t))&&t!==e&&i!==void 0&&(n.wrappers_&&t in n.wrappers_&&(n.wrappers_[t]=void 0),jspb.Message.setField(n,t,void 0)),jspb.Message.setField(n,e,i)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(n,e){for(var t,i,o=0;o<e.length;o++){var s=e[o],l=jspb.Message.getField(n,s);l!=null&&(t=s,i=l,jspb.Message.setField(n,s,void 0))}return t?(jspb.Message.setField(n,t,i),t):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(n,e,t,i){if(n.wrappers_||(n.wrappers_={}),!n.wrappers_[t]){var o=jspb.Message.getField(n,t);(i||o)&&(n.wrappers_[t]=new e(o))}return n.wrappers_[t]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(n,e,t){return jspb.Message.wrapRepeatedField_(n,e,t),(e=n.wrappers_[t])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=n.wrappers_[t]=[]),e},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(n,e,t){if(n.wrappers_||(n.wrappers_={}),!n.wrappers_[t]){for(var i=jspb.Message.getRepeatedField(n,t),o=[],s=0;s<i.length;s++)o[s]=new e(i[s]);n.wrappers_[t]=o}},jspb.Message.setWrapperField=function(n,e,t){jspb.asserts.assertInstanceof(n,jspb.Message),n.wrappers_||(n.wrappers_={});var i=t&&t.toArray();return n.wrappers_[e]=t,jspb.Message.setField(n,e,i)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(n,e,t,i){jspb.asserts.assertInstanceof(n,jspb.Message),n.wrappers_||(n.wrappers_={});var o=i&&i.toArray();return n.wrappers_[e]=i,jspb.Message.setOneofField(n,e,t,o)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(n,e,t){jspb.asserts.assertInstanceof(n,jspb.Message),n.wrappers_||(n.wrappers_={}),t=t||[];for(var i=[],o=0;o<t.length;o++)i[o]=t[o].toArray();return n.wrappers_[e]=t,jspb.Message.setField(n,e,i)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(n,e,t,i,o){jspb.Message.wrapRepeatedField_(n,i,e);var s=n.wrappers_[e];return s||(s=n.wrappers_[e]=[]),t=t||new i,n=jspb.Message.getRepeatedField(n,e),o!=null?(s.splice(o,0,t),n.splice(o,0,t.toArray())):(s.push(t),n.push(t.toArray())),t},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(n,e,t,i){for(var o={},s=0;s<n.length;s++)o[e.call(n[s])]=t?t.call(n[s],i,n[s]):n[s];return o},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var n in this.wrappers_){var e=this.wrappers_[n];if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]&&e[t].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(n){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=n.fieldIndex;if(n.isRepeated){if(n.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(t){return new n.ctor(t)})),this.wrappers_[e]}else if(n.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new n.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(n,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var t=n.fieldIndex;return n.isRepeated?(e=e||[],n.isMessageType()?(this.wrappers_[t]=e,this.extensionObject_[t]=goog.array.map(e,function(i){return i.toArray()})):this.extensionObject_[t]=e):n.isMessageType()?(this.wrappers_[t]=e,this.extensionObject_[t]=e&&e.toArray()):this.extensionObject_[t]=e,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(n,e){if(!(n instanceof e.constructor))throw Error("Messages have different types.");var t=n.toArray();e=e.toArray();var i=[],o=0,s=t.length>e.length?t.length:e.length;for(n.getJsPbMessageId()&&(i[0]=n.getJsPbMessageId(),o=1);o<s;o++)jspb.Message.compareFields(t[o],e[o])||(i[o]=e[o]);return new n.constructor(i)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(n,e){return n==e||!(!n||!e)&&n instanceof e.constructor&&jspb.Message.compareFields(n.toArray(),e.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(n,e){n=n||{},e=e||{};var t,i={};for(t in n)i[t]=0;for(t in e)i[t]=0;for(t in i)if(!jspb.Message.compareFields(n[t],e[t]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(n,e){if(n==e)return!0;if(!goog.isObject(n)||!goog.isObject(e))return!!(typeof n=="number"&&isNaN(n)||typeof e=="number"&&isNaN(e))&&String(n)==String(e);if(n.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&n.constructor===Uint8Array){if(n.length!=e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}if(n.constructor===Array){var i=void 0,o=void 0,s=Math.max(n.length,e.length);for(t=0;t<s;t++){var l=n[t],c=e[t];if(l&&l.constructor==Object&&(jspb.asserts.assert(i===void 0),jspb.asserts.assert(t===n.length-1),i=l,l=void 0),c&&c.constructor==Object&&(jspb.asserts.assert(o===void 0),jspb.asserts.assert(t===e.length-1),o=c,c=void 0),!jspb.Message.compareFields(l,c))return!1}return!i&&!o||(i=i||{},o=o||{},jspb.Message.compareExtensions(i,o))}if(n.constructor===Object)return jspb.Message.compareExtensions(n,e);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(n){return jspb.Message.cloneMessage(n)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(n){return new n.constructor(jspb.Message.clone_(n.toArray()))},jspb.Message.copyInto=function(n,e){jspb.asserts.assertInstanceof(n,jspb.Message),jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assert(n.constructor==e.constructor,"Copy source and target message should have the same type."),n=jspb.Message.clone(n);for(var t=e.toArray(),i=n.toArray(),o=t.length=0;o<i.length;o++)t[o]=i[o];e.wrappers_=n.wrappers_,e.extensionObject_=n.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(n){if(Array.isArray(n)){for(var e=Array(n.length),t=0;t<n.length;t++){var i=n[t];i!=null&&(e[t]=typeof i=="object"?jspb.Message.clone_(jspb.asserts.assert(i)):i)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&n instanceof Uint8Array)return new Uint8Array(n);for(t in e={},n)(i=n[t])!=null&&(e[t]=typeof i=="object"?jspb.Message.clone_(jspb.asserts.assert(i)):i);return e},jspb.Message.registerMessageType=function(n,e){e.messageId=n},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.CalculatorOptions",null,i),proto.mediapipe.CalculatorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},t.inherits(proto.mediapipe.CalculatorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(o){return proto.mediapipe.CalculatorOptions.toObject(o,this)},proto.mediapipe.CalculatorOptions.toObject=function(o,s){var l,c={mergeFields:(l=e.Message.getBooleanField(s,1))==null?void 0:l};return e.Message.toObjectExtension(s,c,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,o),o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=s.readBool();o.setMergeFields(l)}else e.Message.readBinaryExtension(o,s,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return o},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(o,s){var l;(l=e.Message.getField(o,1))!=null&&s.writeBool(1,l),e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},t.object.extend(n,proto.mediapipe)})(calculator_options_pb);var any_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.google.protobuf.Any",null,i),proto.google.protobuf.Any=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.google.protobuf.Any,e.Message),t.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),e.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(o){return proto.google.protobuf.Any.toObject(o,this)},proto.google.protobuf.Any.toObject=function(o,s){var l={typeUrl:e.Message.getFieldWithDefault(s,1,""),value:s.getValue_asB64()};return o&&(l.$jspbMessageInstance=s),l}),proto.google.protobuf.Any.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(l,s)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readString();o.setTypeUrl(l);break;case 2:l=s.readBytes(),o.setValue(l);break;default:s.skipField()}return o},proto.google.protobuf.Any.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(o,s){var l=void 0;(l=o.getTypeUrl()).length>0&&s.writeString(1,l),(l=o.getValue_asU8()).length>0&&s.writeBytes(2,l)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(o){return e.Message.setProto3StringField(this,1,o)},proto.google.protobuf.Any.prototype.getValue=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return e.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return e.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(o){return e.Message.setProto3BytesField(this,2,o)},t.object.extend(n,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(o,s,l){l||(l="type.googleapis.com/"),l.substr(-1)!="/"?this.setTypeUrl(l+"/"+s):this.setTypeUrl(l+s),this.setValue(o)},proto.google.protobuf.Any.prototype.unpack=function(o,s){return this.getTypeName()==s?o(this.getValue_asU8()):null}})(any_pb);var mediapipe_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.MediaPipeOptions",null,i),proto.mediapipe.MediaPipeOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},t.inherits(proto.mediapipe.MediaPipeOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(o){return proto.mediapipe.MediaPipeOptions.toObject(o,this)},proto.mediapipe.MediaPipeOptions.toObject=function(o,s){var l={};return e.Message.toObjectExtension(s,l,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,o),o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)s.getFieldNumber(),e.Message.readBinaryExtension(o,s,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return o},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(o,s){e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},t.object.extend(n,proto.mediapipe)})(mediapipe_options_pb);var packet_factory_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,i),t.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,i),t.exportSymbol("proto.mediapipe.PacketManagerConfig",null,i),proto.mediapipe.PacketFactoryOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},t.inherits(proto.mediapipe.PacketFactoryOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(o){e.Message.initialize(this,o,0,500,null,null)},t.inherits(proto.mediapipe.PacketFactoryConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.PacketManagerConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryOptions.toObject(o,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(o,s){var l={};return e.Message.toObjectExtension(s,l,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,o),o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)s.getFieldNumber(),e.Message.readBinaryExtension(o,s,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return o},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(o,s){e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryConfig.toObject(o,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(o,s){var l,c={packetFactory:(l=e.Message.getField(s,1))==null?void 0:l,outputSidePacket:(l=e.Message.getField(s,2))==null?void 0:l,externalOutput:(l=e.Message.getField(s,1002))==null?void 0:l,options:(l=s.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(o,l)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(l,s)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readString();o.setPacketFactory(l);break;case 2:l=s.readString(),o.setOutputSidePacket(l);break;case 1002:l=s.readString(),o.setExternalOutput(l);break;case 3:l=new proto.mediapipe.PacketFactoryOptions,s.readMessage(l,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),o.setOptions(l);break;default:s.skipField()}return o},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeString(1,l),(l=e.Message.getField(o,2))!=null&&s.writeString(2,l),(l=e.Message.getField(o,1002))!=null&&s.writeString(1002,l),(l=o.getOptions())!=null&&s.writeMessage(3,l,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return e.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(o){return e.Message.setField(this,1002,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return e.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return e.Message.getField(this,1002)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(o){return proto.mediapipe.PacketManagerConfig.toObject(o,this)},proto.mediapipe.PacketManagerConfig.toObject=function(o,s){var l={packetList:e.Message.toObjectList(s.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(l,s)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.PacketFactoryConfig;s.readMessage(l,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),o.addPacket(l)}else s.skipField();return o},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(o,s){var l;(l=o.getPacketList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.PacketFactoryConfig,s)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},t.object.extend(n,proto.mediapipe)})(packet_factory_pb);var packet_generator_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,i),t.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,i),proto.mediapipe.PacketGeneratorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},t.inherits(proto.mediapipe.PacketGeneratorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.PacketGeneratorConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorOptions.toObject(o,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(o,s){var l={mergeFields:e.Message.getBooleanFieldWithDefault(s,1,!0)};return e.Message.toObjectExtension(s,l,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,o),o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=s.readBool();o.setMergeFields(l)}else e.Message.readBinaryExtension(o,s,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return o},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(o,s){var l;(l=e.Message.getField(o,1))!=null&&s.writeBool(1,l),e.Message.serializeBinaryExtensions(o,s,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorConfig.toObject(o,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(o,s){var l,c={packetGenerator:(l=e.Message.getField(s,1))==null?void 0:l,inputSidePacketList:(l=e.Message.getRepeatedField(s,2))==null?void 0:l,externalInputList:(l=e.Message.getRepeatedField(s,1002))==null?void 0:l,outputSidePacketList:(l=e.Message.getRepeatedField(s,3))==null?void 0:l,externalOutputList:(l=e.Message.getRepeatedField(s,1003))==null?void 0:l,options:(l=s.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(o,l)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(l,s)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readString();o.setPacketGenerator(l);break;case 2:l=s.readString(),o.addInputSidePacket(l);break;case 1002:l=s.readString(),o.addExternalInput(l);break;case 3:l=s.readString(),o.addOutputSidePacket(l);break;case 1003:l=s.readString(),o.addExternalOutput(l);break;case 4:l=new proto.mediapipe.PacketGeneratorOptions,s.readMessage(l,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),o.setOptions(l);break;default:s.skipField()}return o},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeString(1,l),(l=o.getInputSidePacketList()).length>0&&s.writeRepeatedString(2,l),(l=o.getExternalInputList()).length>0&&s.writeRepeatedString(1002,l),(l=o.getOutputSidePacketList()).length>0&&s.writeRepeatedString(3,l),(l=o.getExternalOutputList()).length>0&&s.writeRepeatedString(1003,l),(l=o.getOptions())!=null&&s.writeMessage(4,l,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(o){return e.Message.setField(this,2,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(o,s){return e.Message.addToRepeatedField(this,2,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(o){return e.Message.setField(this,1002,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(o,s){return e.Message.addToRepeatedField(this,1002,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return e.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(o){return e.Message.setField(this,1003,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(o,s){return e.Message.addToRepeatedField(this,1003,o,s)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return e.Message.getField(this,4)!=null},t.object.extend(n,proto.mediapipe)})(packet_generator_pb);var status_handler_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,i),proto.mediapipe.StatusHandlerConfig=function(s){e.Message.initialize(this,s,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.StatusHandlerConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.StatusHandlerConfig.toObject(s,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(s,l){var c,w={statusHandler:(c=e.Message.getField(l,1))==null?void 0:c,inputSidePacketList:(c=e.Message.getRepeatedField(l,2))==null?void 0:c,externalInputList:(c=e.Message.getRepeatedField(l,1002))==null?void 0:c,options:(c=l.getOptions())&&o.MediaPipeOptions.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(c,l)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.setStatusHandler(c);break;case 2:c=l.readString(),s.addInputSidePacket(c);break;case 1002:c=l.readString(),s.addExternalInput(c);break;case 3:c=new o.MediaPipeOptions,l.readMessage(c,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(c);break;default:l.skipField()}return s},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeString(1,c),(c=s.getInputSidePacketList()).length>0&&l.writeRepeatedString(2,c),(c=s.getExternalInputList()).length>0&&l.writeRepeatedString(1002,c),(c=s.getOptions())!=null&&l.writeMessage(3,c,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(s,l){return e.Message.addToRepeatedField(this,2,s,l)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(s){return e.Message.setField(this,1002,s||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(s,l){return e.Message.addToRepeatedField(this,1002,s,l)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},t.object.extend(n,proto.mediapipe)})(status_handler_pb);var stream_handler_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,i),t.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,i),proto.mediapipe.InputStreamHandlerConfig=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.InputStreamHandlerConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.OutputStreamHandlerConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.InputStreamHandlerConfig.toObject(s,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(s,l){var c,w={inputStreamHandler:e.Message.getFieldWithDefault(l,1,"DefaultInputStreamHandler"),options:(c=l.getOptions())&&o.MediaPipeOptions.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(c,l)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.setInputStreamHandler(c);break;case 3:c=new o.MediaPipeOptions,l.readMessage(c,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(c);break;default:l.skipField()}return s},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeString(1,c),(c=s.getOptions())!=null&&l.writeMessage(3,c,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(s){return proto.mediapipe.OutputStreamHandlerConfig.toObject(s,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(s,l){var c,w={outputStreamHandler:e.Message.getFieldWithDefault(l,1,"InOrderOutputStreamHandler"),inputSidePacketList:(c=e.Message.getRepeatedField(l,2))==null?void 0:c,options:(c=l.getOptions())&&o.MediaPipeOptions.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(c,l)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.setOutputStreamHandler(c);break;case 2:c=l.readString(),s.addInputSidePacket(c);break;case 3:c=new o.MediaPipeOptions,l.readMessage(c,o.MediaPipeOptions.deserializeBinaryFromReader),s.setOptions(c);break;default:l.skipField()}return s},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeString(1,c),(c=s.getInputSidePacketList()).length>0&&l.writeRepeatedString(2,c),(c=s.getOptions())!=null&&l.writeMessage(3,c,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(s,l){return e.Message.addToRepeatedField(this,2,s,l)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},t.object.extend(n,proto.mediapipe)})(stream_handler_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;t.object.extend(proto,o);var s=any_pb;t.object.extend(proto,s);var l=mediapipe_options_pb;t.object.extend(proto,l);var c=packet_factory_pb;t.object.extend(proto,c);var w=packet_generator_pb;t.object.extend(proto,w);var er=status_handler_pb;t.object.extend(proto,er);var nr=stream_handler_pb;t.object.extend(proto,nr),t.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,i),t.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,i),t.exportSymbol("proto.mediapipe.ExecutorConfig",null,i),t.exportSymbol("proto.mediapipe.InputCollection",null,i),t.exportSymbol("proto.mediapipe.InputCollection.InputType",null,i),t.exportSymbol("proto.mediapipe.InputCollectionSet",null,i),t.exportSymbol("proto.mediapipe.InputStreamInfo",null,i),t.exportSymbol("proto.mediapipe.ProfilerConfig",null,i),proto.mediapipe.ExecutorConfig=function(rr){e.Message.initialize(this,rr,0,-1,null,null)},t.inherits(proto.mediapipe.ExecutorConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(rr){e.Message.initialize(this,rr,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},t.inherits(proto.mediapipe.InputCollection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(rr){e.Message.initialize(this,rr,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},t.inherits(proto.mediapipe.InputCollectionSet,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(rr){e.Message.initialize(this,rr,0,-1,null,null)},t.inherits(proto.mediapipe.InputStreamInfo,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(rr){e.Message.initialize(this,rr,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.ProfilerConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(rr){e.Message.initialize(this,rr,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},t.inherits(proto.mediapipe.CalculatorGraphConfig,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(rr){e.Message.initialize(this,rr,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},t.inherits(proto.mediapipe.CalculatorGraphConfig.Node,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(rr){return proto.mediapipe.ExecutorConfig.toObject(rr,this)},proto.mediapipe.ExecutorConfig.toObject=function(rr,or){var sr,dr={name:e.Message.getFieldWithDefault(or,1,""),type:e.Message.getFieldWithDefault(or,2,""),options:(sr=or.getOptions())&&l.MediaPipeOptions.toObject(rr,sr)};return rr&&(dr.$jspbMessageInstance=or),dr}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(sr,or)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=or.readString();rr.setName(sr);break;case 2:sr=or.readString(),rr.setType(sr);break;case 3:sr=new l.MediaPipeOptions,or.readMessage(sr,l.MediaPipeOptions.deserializeBinaryFromReader),rr.setOptions(sr);break;default:or.skipField()}return rr},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getName()).length>0&&or.writeString(1,sr),(sr=rr.getType()).length>0&&or.writeString(2,sr),(sr=rr.getOptions())!=null&&or.writeMessage(3,sr,l.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(rr){return e.Message.setProto3StringField(this,1,rr)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(rr){return e.Message.setProto3StringField(this,2,rr)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,l.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(rr){return e.Message.setWrapperField(this,3,rr)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(rr){return proto.mediapipe.InputCollection.toObject(rr,this)},proto.mediapipe.InputCollection.toObject=function(rr,or){var sr,dr={name:e.Message.getFieldWithDefault(or,1,""),sidePacketNameList:(sr=e.Message.getRepeatedField(or,2))==null?void 0:sr,externalInputNameList:(sr=e.Message.getRepeatedField(or,1002))==null?void 0:sr,inputType:e.Message.getFieldWithDefault(or,3,0),fileName:e.Message.getFieldWithDefault(or,4,"")};return rr&&(dr.$jspbMessageInstance=or),dr}),proto.mediapipe.InputCollection.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(sr,or)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=or.readString();rr.setName(sr);break;case 2:sr=or.readString(),rr.addSidePacketName(sr);break;case 1002:sr=or.readString(),rr.addExternalInputName(sr);break;case 3:sr=or.readEnum(),rr.setInputType(sr);break;case 4:sr=or.readString(),rr.setFileName(sr);break;default:or.skipField()}return rr},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getName()).length>0&&or.writeString(1,sr),(sr=rr.getSidePacketNameList()).length>0&&or.writeRepeatedString(2,sr),(sr=rr.getExternalInputNameList()).length>0&&or.writeRepeatedString(1002,sr),(sr=rr.getInputType())!==0&&or.writeEnum(3,sr),(sr=rr.getFileName()).length>0&&or.writeString(4,sr)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(rr){return e.Message.setProto3StringField(this,1,rr)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(rr){return e.Message.setField(this,2,rr||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(rr,or){return e.Message.addToRepeatedField(this,2,rr,or)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(rr){return e.Message.setField(this,1002,rr||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(rr,or){return e.Message.addToRepeatedField(this,1002,rr,or)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(rr){return e.Message.setProto3EnumField(this,3,rr)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(rr){return e.Message.setProto3StringField(this,4,rr)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(rr){return proto.mediapipe.InputCollectionSet.toObject(rr,this)},proto.mediapipe.InputCollectionSet.toObject=function(rr,or){var sr={inputCollectionList:e.Message.toObjectList(or.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,rr)};return rr&&(sr.$jspbMessageInstance=or),sr}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(sr,or)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)if(or.getFieldNumber()===1){var sr=new proto.mediapipe.InputCollection;or.readMessage(sr,proto.mediapipe.InputCollection.deserializeBinaryFromReader),rr.addInputCollection(sr)}else or.skipField();return rr},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(rr,or){var sr;(sr=rr.getInputCollectionList()).length>0&&or.writeRepeatedMessage(1,sr,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(rr){return e.Message.setRepeatedWrapperField(this,1,rr)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(rr,or){return e.Message.addToRepeatedWrapperField(this,1,rr,proto.mediapipe.InputCollection,or)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(rr){return proto.mediapipe.InputStreamInfo.toObject(rr,this)},proto.mediapipe.InputStreamInfo.toObject=function(rr,or){var sr={tagIndex:e.Message.getFieldWithDefault(or,1,""),backEdge:e.Message.getBooleanFieldWithDefault(or,2,!1)};return rr&&(sr.$jspbMessageInstance=or),sr}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(sr,or)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=or.readString();rr.setTagIndex(sr);break;case 2:sr=or.readBool(),rr.setBackEdge(sr);break;default:or.skipField()}return rr},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getTagIndex()).length>0&&or.writeString(1,sr),(sr=rr.getBackEdge())&&or.writeBool(2,sr)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(rr){return e.Message.setProto3StringField(this,1,rr)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(rr){return e.Message.setProto3BooleanField(this,2,rr)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(rr){return proto.mediapipe.ProfilerConfig.toObject(rr,this)},proto.mediapipe.ProfilerConfig.toObject=function(rr,or){var sr,dr={histogramIntervalSizeUsec:e.Message.getFieldWithDefault(or,1,0),numHistogramIntervals:e.Message.getFieldWithDefault(or,2,0),enableInputOutputLatency:e.Message.getBooleanFieldWithDefault(or,3,!1),enableProfiler:e.Message.getBooleanFieldWithDefault(or,4,!1),enableStreamLatency:e.Message.getBooleanFieldWithDefault(or,5,!1),usePacketTimestampForAddedPacket:e.Message.getBooleanFieldWithDefault(or,6,!1),traceLogCapacity:e.Message.getFieldWithDefault(or,7,0),traceEventTypesDisabledList:(sr=e.Message.getRepeatedField(or,8))==null?void 0:sr,traceLogPath:e.Message.getFieldWithDefault(or,9,""),traceLogCount:e.Message.getFieldWithDefault(or,10,0),traceLogIntervalUsec:e.Message.getFieldWithDefault(or,11,0),traceLogMarginUsec:e.Message.getFieldWithDefault(or,12,0),traceLogDurationEvents:e.Message.getBooleanFieldWithDefault(or,13,!1),traceLogIntervalCount:e.Message.getFieldWithDefault(or,14,0),traceLogDisabled:e.Message.getBooleanFieldWithDefault(or,15,!1),traceEnabled:e.Message.getBooleanFieldWithDefault(or,16,!1),traceLogInstantEvents:e.Message.getBooleanFieldWithDefault(or,17,!1),calculatorFilter:e.Message.getFieldWithDefault(or,18,"")};return rr&&(dr.$jspbMessageInstance=or),dr}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(sr,or)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=or.readInt64();rr.setHistogramIntervalSizeUsec(sr);break;case 2:sr=or.readInt64(),rr.setNumHistogramIntervals(sr);break;case 3:sr=or.readBool(),rr.setEnableInputOutputLatency(sr);break;case 4:sr=or.readBool(),rr.setEnableProfiler(sr);break;case 5:sr=or.readBool(),rr.setEnableStreamLatency(sr);break;case 6:sr=or.readBool(),rr.setUsePacketTimestampForAddedPacket(sr);break;case 7:sr=or.readInt64(),rr.setTraceLogCapacity(sr);break;case 8:for(var dr=or.isDelimited()?or.readPackedInt32():[or.readInt32()],hr=0;hr<dr.length;hr++)rr.addTraceEventTypesDisabled(dr[hr]);break;case 9:sr=or.readString(),rr.setTraceLogPath(sr);break;case 10:sr=or.readInt32(),rr.setTraceLogCount(sr);break;case 11:sr=or.readInt64(),rr.setTraceLogIntervalUsec(sr);break;case 12:sr=or.readInt64(),rr.setTraceLogMarginUsec(sr);break;case 13:sr=or.readBool(),rr.setTraceLogDurationEvents(sr);break;case 14:sr=or.readInt32(),rr.setTraceLogIntervalCount(sr);break;case 15:sr=or.readBool(),rr.setTraceLogDisabled(sr);break;case 16:sr=or.readBool(),rr.setTraceEnabled(sr);break;case 17:sr=or.readBool(),rr.setTraceLogInstantEvents(sr);break;case 18:sr=or.readString(),rr.setCalculatorFilter(sr);break;default:or.skipField()}return rr},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getHistogramIntervalSizeUsec())!==0&&or.writeInt64(1,sr),(sr=rr.getNumHistogramIntervals())!==0&&or.writeInt64(2,sr),(sr=rr.getEnableInputOutputLatency())&&or.writeBool(3,sr),(sr=rr.getEnableProfiler())&&or.writeBool(4,sr),(sr=rr.getEnableStreamLatency())&&or.writeBool(5,sr),(sr=rr.getUsePacketTimestampForAddedPacket())&&or.writeBool(6,sr),(sr=rr.getTraceLogCapacity())!==0&&or.writeInt64(7,sr),(sr=rr.getTraceEventTypesDisabledList()).length>0&&or.writePackedInt32(8,sr),(sr=rr.getTraceLogPath()).length>0&&or.writeString(9,sr),(sr=rr.getTraceLogCount())!==0&&or.writeInt32(10,sr),(sr=rr.getTraceLogIntervalUsec())!==0&&or.writeInt64(11,sr),(sr=rr.getTraceLogMarginUsec())!==0&&or.writeInt64(12,sr),(sr=rr.getTraceLogDurationEvents())&&or.writeBool(13,sr),(sr=rr.getTraceLogIntervalCount())!==0&&or.writeInt32(14,sr),(sr=rr.getTraceLogDisabled())&&or.writeBool(15,sr),(sr=rr.getTraceEnabled())&&or.writeBool(16,sr),(sr=rr.getTraceLogInstantEvents())&&or.writeBool(17,sr),(sr=rr.getCalculatorFilter()).length>0&&or.writeString(18,sr)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(rr){return e.Message.setProto3IntField(this,1,rr)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(rr){return e.Message.setProto3IntField(this,2,rr)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(rr){return e.Message.setProto3BooleanField(this,3,rr)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(rr){return e.Message.setProto3BooleanField(this,4,rr)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(rr){return e.Message.setProto3BooleanField(this,5,rr)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return e.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(rr){return e.Message.setProto3BooleanField(this,6,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(rr){return e.Message.setProto3IntField(this,7,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return e.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(rr){return e.Message.setField(this,8,rr||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(rr,or){return e.Message.addToRepeatedField(this,8,rr,or)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return e.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(rr){return e.Message.setProto3StringField(this,9,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(rr){return e.Message.setProto3IntField(this,10,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(rr){return e.Message.setProto3IntField(this,11,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return e.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(rr){return e.Message.setProto3IntField(this,12,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return e.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(rr){return e.Message.setProto3BooleanField(this,13,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return e.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(rr){return e.Message.setProto3IntField(this,14,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return e.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(rr){return e.Message.setProto3BooleanField(this,15,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return e.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(rr){return e.Message.setProto3BooleanField(this,16,rr)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return e.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(rr){return e.Message.setProto3BooleanField(this,17,rr)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return e.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(rr){return e.Message.setProto3StringField(this,18,rr)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(rr){return proto.mediapipe.CalculatorGraphConfig.toObject(rr,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(rr,or){var sr,dr={nodeList:e.Message.toObjectList(or.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,rr),packetFactoryList:e.Message.toObjectList(or.getPacketFactoryList(),c.PacketFactoryConfig.toObject,rr),packetGeneratorList:e.Message.toObjectList(or.getPacketGeneratorList(),w.PacketGeneratorConfig.toObject,rr),numThreads:e.Message.getFieldWithDefault(or,8,0),statusHandlerList:e.Message.toObjectList(or.getStatusHandlerList(),er.StatusHandlerConfig.toObject,rr),inputStreamList:(sr=e.Message.getRepeatedField(or,10))==null?void 0:sr,outputStreamList:(sr=e.Message.getRepeatedField(or,15))==null?void 0:sr,inputSidePacketList:(sr=e.Message.getRepeatedField(or,16))==null?void 0:sr,outputSidePacketList:(sr=e.Message.getRepeatedField(or,17))==null?void 0:sr,maxQueueSize:e.Message.getFieldWithDefault(or,11,0),reportDeadlock:e.Message.getBooleanFieldWithDefault(or,21,!1),inputStreamHandler:(sr=or.getInputStreamHandler())&&nr.InputStreamHandlerConfig.toObject(rr,sr),outputStreamHandler:(sr=or.getOutputStreamHandler())&&nr.OutputStreamHandlerConfig.toObject(rr,sr),executorList:e.Message.toObjectList(or.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,rr),profilerConfig:(sr=or.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(rr,sr),pb_package:e.Message.getFieldWithDefault(or,19,""),type:e.Message.getFieldWithDefault(or,20,""),options:(sr=or.getOptions())&&l.MediaPipeOptions.toObject(rr,sr),graphOptionsList:e.Message.toObjectList(or.getGraphOptionsList(),s.Any.toObject,rr)};return rr&&(dr.$jspbMessageInstance=or),dr}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(sr,or)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=new proto.mediapipe.CalculatorGraphConfig.Node;or.readMessage(sr,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),rr.addNode(sr);break;case 6:sr=new c.PacketFactoryConfig,or.readMessage(sr,c.PacketFactoryConfig.deserializeBinaryFromReader),rr.addPacketFactory(sr);break;case 7:sr=new w.PacketGeneratorConfig,or.readMessage(sr,w.PacketGeneratorConfig.deserializeBinaryFromReader),rr.addPacketGenerator(sr);break;case 8:sr=or.readInt32(),rr.setNumThreads(sr);break;case 9:sr=new er.StatusHandlerConfig,or.readMessage(sr,er.StatusHandlerConfig.deserializeBinaryFromReader),rr.addStatusHandler(sr);break;case 10:sr=or.readString(),rr.addInputStream(sr);break;case 15:sr=or.readString(),rr.addOutputStream(sr);break;case 16:sr=or.readString(),rr.addInputSidePacket(sr);break;case 17:sr=or.readString(),rr.addOutputSidePacket(sr);break;case 11:sr=or.readInt32(),rr.setMaxQueueSize(sr);break;case 21:sr=or.readBool(),rr.setReportDeadlock(sr);break;case 12:sr=new nr.InputStreamHandlerConfig,or.readMessage(sr,nr.InputStreamHandlerConfig.deserializeBinaryFromReader),rr.setInputStreamHandler(sr);break;case 13:sr=new nr.OutputStreamHandlerConfig,or.readMessage(sr,nr.OutputStreamHandlerConfig.deserializeBinaryFromReader),rr.setOutputStreamHandler(sr);break;case 14:sr=new proto.mediapipe.ExecutorConfig,or.readMessage(sr,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),rr.addExecutor(sr);break;case 18:sr=new proto.mediapipe.ProfilerConfig,or.readMessage(sr,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),rr.setProfilerConfig(sr);break;case 19:sr=or.readString(),rr.setPackage(sr);break;case 20:sr=or.readString(),rr.setType(sr);break;case 1001:sr=new l.MediaPipeOptions,or.readMessage(sr,l.MediaPipeOptions.deserializeBinaryFromReader),rr.setOptions(sr);break;case 1002:sr=new s.Any,or.readMessage(sr,s.Any.deserializeBinaryFromReader),rr.addGraphOptions(sr);break;default:or.skipField()}return rr},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getNodeList()).length>0&&or.writeRepeatedMessage(1,sr,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(sr=rr.getPacketFactoryList()).length>0&&or.writeRepeatedMessage(6,sr,c.PacketFactoryConfig.serializeBinaryToWriter),(sr=rr.getPacketGeneratorList()).length>0&&or.writeRepeatedMessage(7,sr,w.PacketGeneratorConfig.serializeBinaryToWriter),(sr=rr.getNumThreads())!==0&&or.writeInt32(8,sr),(sr=rr.getStatusHandlerList()).length>0&&or.writeRepeatedMessage(9,sr,er.StatusHandlerConfig.serializeBinaryToWriter),(sr=rr.getInputStreamList()).length>0&&or.writeRepeatedString(10,sr),(sr=rr.getOutputStreamList()).length>0&&or.writeRepeatedString(15,sr),(sr=rr.getInputSidePacketList()).length>0&&or.writeRepeatedString(16,sr),(sr=rr.getOutputSidePacketList()).length>0&&or.writeRepeatedString(17,sr),(sr=rr.getMaxQueueSize())!==0&&or.writeInt32(11,sr),(sr=rr.getReportDeadlock())&&or.writeBool(21,sr),(sr=rr.getInputStreamHandler())!=null&&or.writeMessage(12,sr,nr.InputStreamHandlerConfig.serializeBinaryToWriter),(sr=rr.getOutputStreamHandler())!=null&&or.writeMessage(13,sr,nr.OutputStreamHandlerConfig.serializeBinaryToWriter),(sr=rr.getExecutorList()).length>0&&or.writeRepeatedMessage(14,sr,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),(sr=rr.getProfilerConfig())!=null&&or.writeMessage(18,sr,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(sr=rr.getPackage()).length>0&&or.writeString(19,sr),(sr=rr.getType()).length>0&&or.writeString(20,sr),(sr=rr.getOptions())!=null&&or.writeMessage(1001,sr,l.MediaPipeOptions.serializeBinaryToWriter),(sr=rr.getGraphOptionsList()).length>0&&or.writeRepeatedMessage(1002,sr,s.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(rr){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(rr,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(rr,or){var sr,dr={name:e.Message.getFieldWithDefault(or,1,""),calculator:e.Message.getFieldWithDefault(or,2,""),inputStreamList:(sr=e.Message.getRepeatedField(or,3))==null?void 0:sr,outputStreamList:(sr=e.Message.getRepeatedField(or,4))==null?void 0:sr,inputSidePacketList:(sr=e.Message.getRepeatedField(or,5))==null?void 0:sr,outputSidePacketList:(sr=e.Message.getRepeatedField(or,6))==null?void 0:sr,options:(sr=or.getOptions())&&o.CalculatorOptions.toObject(rr,sr),nodeOptionsList:e.Message.toObjectList(or.getNodeOptionsList(),s.Any.toObject,rr),sourceLayer:e.Message.getFieldWithDefault(or,9,0),bufferSizeHint:e.Message.getFieldWithDefault(or,10,0),inputStreamHandler:(sr=or.getInputStreamHandler())&&nr.InputStreamHandlerConfig.toObject(rr,sr),outputStreamHandler:(sr=or.getOutputStreamHandler())&&nr.OutputStreamHandlerConfig.toObject(rr,sr),inputStreamInfoList:e.Message.toObjectList(or.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,rr),executor:e.Message.getFieldWithDefault(or,14,""),profilerConfig:(sr=or.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(rr,sr),maxInFlight:e.Message.getFieldWithDefault(or,16,0),optionValueList:(sr=e.Message.getRepeatedField(or,17))==null?void 0:sr,externalInputList:(sr=e.Message.getRepeatedField(or,1005))==null?void 0:sr};return rr&&(dr.$jspbMessageInstance=or),dr}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(rr){var or=new e.BinaryReader(rr),sr=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(sr,or)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(rr,or){for(;or.nextField()&&!or.isEndGroup();)switch(or.getFieldNumber()){case 1:var sr=or.readString();rr.setName(sr);break;case 2:sr=or.readString(),rr.setCalculator(sr);break;case 3:sr=or.readString(),rr.addInputStream(sr);break;case 4:sr=or.readString(),rr.addOutputStream(sr);break;case 5:sr=or.readString(),rr.addInputSidePacket(sr);break;case 6:sr=or.readString(),rr.addOutputSidePacket(sr);break;case 7:sr=new o.CalculatorOptions,or.readMessage(sr,o.CalculatorOptions.deserializeBinaryFromReader),rr.setOptions(sr);break;case 8:sr=new s.Any,or.readMessage(sr,s.Any.deserializeBinaryFromReader),rr.addNodeOptions(sr);break;case 9:sr=or.readInt32(),rr.setSourceLayer(sr);break;case 10:sr=or.readInt32(),rr.setBufferSizeHint(sr);break;case 11:sr=new nr.InputStreamHandlerConfig,or.readMessage(sr,nr.InputStreamHandlerConfig.deserializeBinaryFromReader),rr.setInputStreamHandler(sr);break;case 12:sr=new nr.OutputStreamHandlerConfig,or.readMessage(sr,nr.OutputStreamHandlerConfig.deserializeBinaryFromReader),rr.setOutputStreamHandler(sr);break;case 13:sr=new proto.mediapipe.InputStreamInfo,or.readMessage(sr,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),rr.addInputStreamInfo(sr);break;case 14:sr=or.readString(),rr.setExecutor(sr);break;case 15:sr=new proto.mediapipe.ProfilerConfig,or.readMessage(sr,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),rr.setProfilerConfig(sr);break;case 16:sr=or.readInt32(),rr.setMaxInFlight(sr);break;case 17:sr=or.readString(),rr.addOptionValue(sr);break;case 1005:sr=or.readString(),rr.addExternalInput(sr);break;default:or.skipField()}return rr},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var rr=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,rr),rr.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(rr,or){var sr=void 0;(sr=rr.getName()).length>0&&or.writeString(1,sr),(sr=rr.getCalculator()).length>0&&or.writeString(2,sr),(sr=rr.getInputStreamList()).length>0&&or.writeRepeatedString(3,sr),(sr=rr.getOutputStreamList()).length>0&&or.writeRepeatedString(4,sr),(sr=rr.getInputSidePacketList()).length>0&&or.writeRepeatedString(5,sr),(sr=rr.getOutputSidePacketList()).length>0&&or.writeRepeatedString(6,sr),(sr=rr.getOptions())!=null&&or.writeMessage(7,sr,o.CalculatorOptions.serializeBinaryToWriter),(sr=rr.getNodeOptionsList()).length>0&&or.writeRepeatedMessage(8,sr,s.Any.serializeBinaryToWriter),(sr=rr.getSourceLayer())!==0&&or.writeInt32(9,sr),(sr=rr.getBufferSizeHint())!==0&&or.writeInt32(10,sr),(sr=rr.getInputStreamHandler())!=null&&or.writeMessage(11,sr,nr.InputStreamHandlerConfig.serializeBinaryToWriter),(sr=rr.getOutputStreamHandler())!=null&&or.writeMessage(12,sr,nr.OutputStreamHandlerConfig.serializeBinaryToWriter),(sr=rr.getInputStreamInfoList()).length>0&&or.writeRepeatedMessage(13,sr,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(sr=rr.getExecutor()).length>0&&or.writeString(14,sr),(sr=rr.getProfilerConfig())!=null&&or.writeMessage(15,sr,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(sr=rr.getMaxInFlight())!==0&&or.writeInt32(16,sr),(sr=rr.getOptionValueList()).length>0&&or.writeRepeatedString(17,sr),(sr=rr.getExternalInputList()).length>0&&or.writeRepeatedString(1005,sr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(rr){return e.Message.setProto3StringField(this,1,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(rr){return e.Message.setProto3StringField(this,2,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(rr){return e.Message.setField(this,3,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(rr,or){return e.Message.addToRepeatedField(this,3,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(rr){return e.Message.setField(this,4,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(rr,or){return e.Message.addToRepeatedField(this,4,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(rr){return e.Message.setField(this,5,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(rr,or){return e.Message.addToRepeatedField(this,5,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(rr){return e.Message.setField(this,6,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(rr,or){return e.Message.addToRepeatedField(this,6,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(rr){return e.Message.setWrapperField(this,7,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return e.Message.getRepeatedWrapperField(this,s.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(rr){return e.Message.setRepeatedWrapperField(this,8,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(rr,or){return e.Message.addToRepeatedWrapperField(this,8,rr,proto.google.protobuf.Any,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return e.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(rr){return e.Message.setProto3IntField(this,9,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(rr){return e.Message.setProto3IntField(this,10,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,nr.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(rr){return e.Message.setWrapperField(this,11,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,nr.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(rr){return e.Message.setWrapperField(this,12,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(rr){return e.Message.setRepeatedWrapperField(this,13,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(rr,or){return e.Message.addToRepeatedWrapperField(this,13,rr,proto.mediapipe.InputStreamInfo,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return e.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(rr){return e.Message.setProto3StringField(this,14,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(rr){return e.Message.setWrapperField(this,15,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return e.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(rr){return e.Message.setProto3IntField(this,16,rr)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(rr){return e.Message.setField(this,17,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(rr,or){return e.Message.addToRepeatedField(this,17,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(rr){return e.Message.setField(this,1005,rr||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(rr,or){return e.Message.addToRepeatedField(this,1005,rr,or)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(rr){return e.Message.setRepeatedWrapperField(this,1,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(rr,or){return e.Message.addToRepeatedWrapperField(this,1,rr,proto.mediapipe.CalculatorGraphConfig.Node,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return e.Message.getRepeatedWrapperField(this,c.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(rr){return e.Message.setRepeatedWrapperField(this,6,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(rr,or){return e.Message.addToRepeatedWrapperField(this,6,rr,proto.mediapipe.PacketFactoryConfig,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return e.Message.getRepeatedWrapperField(this,w.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(rr){return e.Message.setRepeatedWrapperField(this,7,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(rr,or){return e.Message.addToRepeatedWrapperField(this,7,rr,proto.mediapipe.PacketGeneratorConfig,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(rr){return e.Message.setProto3IntField(this,8,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return e.Message.getRepeatedWrapperField(this,er.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(rr){return e.Message.setRepeatedWrapperField(this,9,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(rr,or){return e.Message.addToRepeatedWrapperField(this,9,rr,proto.mediapipe.StatusHandlerConfig,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(rr){return e.Message.setField(this,10,rr||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(rr,or){return e.Message.addToRepeatedField(this,10,rr,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(rr){return e.Message.setField(this,15,rr||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(rr,or){return e.Message.addToRepeatedField(this,15,rr,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(rr){return e.Message.setField(this,16,rr||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(rr,or){return e.Message.addToRepeatedField(this,16,rr,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(rr){return e.Message.setField(this,17,rr||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(rr,or){return e.Message.addToRepeatedField(this,17,rr,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(rr){return e.Message.setProto3IntField(this,11,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return e.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(rr){return e.Message.setProto3BooleanField(this,21,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,nr.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(rr){return e.Message.setWrapperField(this,12,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,nr.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(rr){return e.Message.setWrapperField(this,13,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,13)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(rr){return e.Message.setRepeatedWrapperField(this,14,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(rr,or){return e.Message.addToRepeatedWrapperField(this,14,rr,proto.mediapipe.ExecutorConfig,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(rr){return e.Message.setWrapperField(this,18,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return e.Message.getField(this,18)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return e.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(rr){return e.Message.setProto3StringField(this,19,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(rr){return e.Message.setProto3StringField(this,20,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,l.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(rr){return e.Message.setWrapperField(this,1001,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return e.Message.getField(this,1001)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return e.Message.getRepeatedWrapperField(this,s.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(rr){return e.Message.setRepeatedWrapperField(this,1002,rr)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(rr,or){return e.Message.addToRepeatedWrapperField(this,1002,rr,proto.google.protobuf.Any,or)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},t.object.extend(n,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.Rasterization",null,i),t.exportSymbol("proto.mediapipe.Rasterization.Interval",null,i),proto.mediapipe.Rasterization=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},t.inherits(proto.mediapipe.Rasterization,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.Rasterization.Interval,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(o){return proto.mediapipe.Rasterization.toObject(o,this)},proto.mediapipe.Rasterization.toObject=function(o,s){var l={intervalList:e.Message.toObjectList(s.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.Rasterization.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(l,s)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.Rasterization.Interval;s.readMessage(l,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),o.addInterval(l)}else s.skipField();return o},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(o,s){var l;(l=o.getIntervalList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(o){return proto.mediapipe.Rasterization.Interval.toObject(o,this)},proto.mediapipe.Rasterization.Interval.toObject=function(o,s){var l,c={y:(l=e.Message.getField(s,1))==null?void 0:l,leftX:(l=e.Message.getField(s,2))==null?void 0:l,rightX:(l=e.Message.getField(s,3))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(l,s)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setY(l);break;case 2:l=s.readInt32(),o.setLeftX(l);break;case 3:l=s.readInt32(),o.setRightX(l);break;default:s.skipField()}return o},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt32(2,l),(l=e.Message.getField(o,3))!=null&&s.writeInt32(3,l)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.Rasterization.prototype.addInterval=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Rasterization.Interval,s)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},t.object.extend(n,proto.mediapipe)})(rasterization_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=rasterization_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.LocationData",null,i),t.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,i),t.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,i),t.exportSymbol("proto.mediapipe.LocationData.Format",null,i),t.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,i),t.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,i),proto.mediapipe.LocationData=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},t.inherits(proto.mediapipe.LocationData,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.LocationData.BoundingBox,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.LocationData.BinaryMask,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.LocationData.RelativeKeypoint,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(s){return proto.mediapipe.LocationData.toObject(s,this)},proto.mediapipe.LocationData.toObject=function(s,l){var c,w={format:(c=e.Message.getField(l,1))==null?void 0:c,boundingBox:(c=l.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(s,c),relativeBoundingBox:(c=l.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(s,c),mask:(c=l.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(s,c),relativeKeypointsList:e.Message.toObjectList(l.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,s)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.LocationData.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(c,l)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readEnum();s.setFormat(c);break;case 2:c=new proto.mediapipe.LocationData.BoundingBox,l.readMessage(c,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),s.setBoundingBox(c);break;case 3:c=new proto.mediapipe.LocationData.RelativeBoundingBox,l.readMessage(c,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),s.setRelativeBoundingBox(c);break;case 4:c=new proto.mediapipe.LocationData.BinaryMask,l.readMessage(c,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),s.setMask(c);break;case 5:c=new proto.mediapipe.LocationData.RelativeKeypoint,l.readMessage(c,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),s.addRelativeKeypoints(c);break;default:l.skipField()}return s},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeEnum(1,c),(c=s.getBoundingBox())!=null&&l.writeMessage(2,c,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),(c=s.getRelativeBoundingBox())!=null&&l.writeMessage(3,c,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),(c=s.getMask())!=null&&l.writeMessage(4,c,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(c=s.getRelativeKeypointsList()).length>0&&l.writeRepeatedMessage(5,c,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(s){return proto.mediapipe.LocationData.BoundingBox.toObject(s,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(s,l){var c,w={xmin:(c=e.Message.getField(l,1))==null?void 0:c,ymin:(c=e.Message.getField(l,2))==null?void 0:c,width:(c=e.Message.getField(l,3))==null?void 0:c,height:(c=e.Message.getField(l,4))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(c,l)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readInt32();s.setXmin(c);break;case 2:c=l.readInt32(),s.setYmin(c);break;case 3:c=l.readInt32(),s.setWidth(c);break;case 4:c=l.readInt32(),s.setHeight(c);break;default:l.skipField()}return s},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeInt32(1,c),(c=e.Message.getField(s,2))!=null&&l.writeInt32(2,c),(c=e.Message.getField(s,3))!=null&&l.writeInt32(3,c),(c=e.Message.getField(s,4))!=null&&l.writeInt32(4,c)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(s){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(s,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(s,l){var c,w={xmin:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,ymin:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,width:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,height:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(c,l)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readFloat();s.setXmin(c);break;case 2:c=l.readFloat(),s.setYmin(c);break;case 3:c=l.readFloat(),s.setWidth(c);break;case 4:c=l.readFloat(),s.setHeight(c);break;default:l.skipField()}return s},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeFloat(1,c),(c=e.Message.getField(s,2))!=null&&l.writeFloat(2,c),(c=e.Message.getField(s,3))!=null&&l.writeFloat(3,c),(c=e.Message.getField(s,4))!=null&&l.writeFloat(4,c)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(s){return proto.mediapipe.LocationData.BinaryMask.toObject(s,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(s,l){var c,w={width:(c=e.Message.getField(l,1))==null?void 0:c,height:(c=e.Message.getField(l,2))==null?void 0:c,rasterization:(c=l.getRasterization())&&o.Rasterization.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(c,l)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readInt32();s.setWidth(c);break;case 2:c=l.readInt32(),s.setHeight(c);break;case 3:c=new o.Rasterization,l.readMessage(c,o.Rasterization.deserializeBinaryFromReader),s.setRasterization(c);break;default:l.skipField()}return s},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeInt32(1,c),(c=e.Message.getField(s,2))!=null&&l.writeInt32(2,c),(c=s.getRasterization())!=null&&l.writeMessage(3,c,o.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return e.Message.getWrapperField(this,o.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(s){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(s,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(s,l){var c,w={x:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,y:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,keypointLabel:(c=e.Message.getField(l,3))==null?void 0:c,score:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(c,l)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readFloat();s.setX(c);break;case 2:c=l.readFloat(),s.setY(c);break;case 3:c=l.readString(),s.setKeypointLabel(c);break;case 4:c=l.readFloat(),s.setScore(c);break;default:l.skipField()}return s},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeFloat(1,c),(c=e.Message.getField(s,2))!=null&&l.writeFloat(2,c),(c=e.Message.getField(s,3))!=null&&l.writeString(3,c),(c=e.Message.getField(s,4))!=null&&l.writeFloat(4,c)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getFormat=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.prototype.getMask=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(s){return e.Message.setRepeatedWrapperField(this,5,s)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(s,l){return e.Message.addToRepeatedWrapperField(this,5,s,proto.mediapipe.LocationData.RelativeKeypoint,l)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},t.object.extend(n,proto.mediapipe)}(location_data_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=location_data_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.Detection",null,i),t.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,i),t.exportSymbol("proto.mediapipe.DetectionList",null,i),proto.mediapipe.Detection=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},t.inherits(proto.mediapipe.Detection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.Detection.AssociatedDetection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},t.inherits(proto.mediapipe.DetectionList,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(s){return proto.mediapipe.Detection.toObject(s,this)},proto.mediapipe.Detection.toObject=function(s,l){var c,w={labelList:(c=e.Message.getRepeatedField(l,1))==null?void 0:c,labelIdList:(c=e.Message.getRepeatedField(l,2))==null?void 0:c,scoreList:(c=e.Message.getRepeatedFloatingPointField(l,3))==null?void 0:c,locationData:(c=l.getLocationData())&&o.LocationData.toObject(s,c),featureTag:(c=e.Message.getField(l,5))==null?void 0:c,trackId:(c=e.Message.getField(l,6))==null?void 0:c,detectionId:(c=e.Message.getField(l,7))==null?void 0:c,associatedDetectionsList:e.Message.toObjectList(l.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,s),displayNameList:(c=e.Message.getRepeatedField(l,9))==null?void 0:c,timestampUsec:(c=e.Message.getField(l,10))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.Detection.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(c,l)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.addLabel(c);break;case 2:for(var w=l.isDelimited()?l.readPackedInt32():[l.readInt32()],er=0;er<w.length;er++)s.addLabelId(w[er]);break;case 3:for(w=l.isDelimited()?l.readPackedFloat():[l.readFloat()],er=0;er<w.length;er++)s.addScore(w[er]);break;case 4:c=new o.LocationData,l.readMessage(c,o.LocationData.deserializeBinaryFromReader),s.setLocationData(c);break;case 5:c=l.readString(),s.setFeatureTag(c);break;case 6:c=l.readString(),s.setTrackId(c);break;case 7:c=l.readInt64(),s.setDetectionId(c);break;case 8:c=new proto.mediapipe.Detection.AssociatedDetection,l.readMessage(c,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),s.addAssociatedDetections(c);break;case 9:c=l.readString(),s.addDisplayName(c);break;case 10:c=l.readInt64(),s.setTimestampUsec(c);break;default:l.skipField()}return s},proto.mediapipe.Detection.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getLabelList()).length>0&&l.writeRepeatedString(1,c),(c=s.getLabelIdList()).length>0&&l.writePackedInt32(2,c),(c=s.getScoreList()).length>0&&l.writePackedFloat(3,c),(c=s.getLocationData())!=null&&l.writeMessage(4,c,o.LocationData.serializeBinaryToWriter),(c=e.Message.getField(s,5))!=null&&l.writeString(5,c),(c=e.Message.getField(s,6))!=null&&l.writeString(6,c),(c=e.Message.getField(s,7))!=null&&l.writeInt64(7,c),(c=s.getAssociatedDetectionsList()).length>0&&l.writeRepeatedMessage(8,c,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(c=s.getDisplayNameList()).length>0&&l.writeRepeatedString(9,c),(c=e.Message.getField(s,10))!=null&&l.writeInt64(10,c)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(s){return proto.mediapipe.Detection.AssociatedDetection.toObject(s,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(s,l){var c,w={id:(c=e.Message.getField(l,1))==null?void 0:c,confidence:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(c,l)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readInt32();s.setId(c);break;case 2:c=l.readFloat(),s.setConfidence(c);break;default:l.skipField()}return s},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeInt32(1,c),(c=e.Message.getField(s,2))!=null&&l.writeFloat(2,c)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Detection.prototype.getLabelList=function(){return e.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(s){return e.Message.setField(this,1,s||[])},proto.mediapipe.Detection.prototype.addLabel=function(s,l){return e.Message.addToRepeatedField(this,1,s,l)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(s){return e.Message.setField(this,2,s||[])},proto.mediapipe.Detection.prototype.addLabelId=function(s,l){return e.Message.addToRepeatedField(this,2,s,l)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(s){return e.Message.setField(this,3,s||[])},proto.mediapipe.Detection.prototype.addScore=function(s,l){return e.Message.addToRepeatedField(this,3,s,l)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return e.Message.getWrapperField(this,o.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return e.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Detection.prototype.getTrackId=function(){return e.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.Detection.prototype.getDetectionId=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(s){return e.Message.setRepeatedWrapperField(this,8,s)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(s,l){return e.Message.addToRepeatedWrapperField(this,8,s,proto.mediapipe.Detection.AssociatedDetection,l)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return e.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(s){return e.Message.setField(this,9,s||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(s,l){return e.Message.addToRepeatedField(this,9,s,l)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(s){return e.Message.setField(this,10,s)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return e.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.DetectionList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(s){return proto.mediapipe.DetectionList.toObject(s,this)},proto.mediapipe.DetectionList.toObject=function(s,l){var c={detectionList:e.Message.toObjectList(l.getDetectionList(),proto.mediapipe.Detection.toObject,s)};return s&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.DetectionList.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(c,l)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)if(l.getFieldNumber()===1){var c=new proto.mediapipe.Detection;l.readMessage(c,proto.mediapipe.Detection.deserializeBinaryFromReader),s.addDetection(c)}else l.skipField();return s},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(s,l){var c;(c=s.getDetectionList()).length>0&&l.writeRepeatedMessage(1,c,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.DetectionList.prototype.addDetection=function(s,l){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.Detection,l)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},t.object.extend(n,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,i),t.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,i),proto.mediapipe.InferenceCalculatorOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.InferenceCalculatorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(l){e.Message.initialize(this,l,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},t.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(l,c){var w,er={modelPath:(w=e.Message.getField(c,1))==null?void 0:w,useGpu:e.Message.getBooleanFieldWithDefault(c,2,!1),useNnapi:e.Message.getBooleanFieldWithDefault(c,3,!1),cpuNumThread:e.Message.getFieldWithDefault(c,4,-1),delegate:(w=c.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=c.readString();l.setModelPath(w);break;case 2:w=c.readBool(),l.setUseGpu(w);break;case 3:w=c.readBool(),l.setUseNnapi(w);break;case 4:w=c.readInt32(),l.setCpuNumThread(w);break;case 5:w=new proto.mediapipe.InferenceCalculatorOptions.Delegate,c.readMessage(w,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),l.setDelegate(w);break;default:c.skipField()}return l},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(l,c){var w=void 0;(w=e.Message.getField(l,1))!=null&&c.writeString(1,w),(w=e.Message.getField(l,2))!=null&&c.writeBool(2,w),(w=e.Message.getField(l,3))!=null&&c.writeBool(3,w),(w=e.Message.getField(l,4))!=null&&c.writeInt32(4,w),(w=l.getDelegate())!=null&&c.writeMessage(5,w,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(l,c){var w,er={tflite:(w=c.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(l,w),gpu:(w=c.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(l,w),nnapi:(w=c.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(l,w),xnnpack:(w=c.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;c.readMessage(w,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),l.setTflite(w);break;case 2:w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,c.readMessage(w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),l.setGpu(w);break;case 3:w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,c.readMessage(w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),l.setNnapi(w);break;case 4:w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,c.readMessage(w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),l.setXnnpack(w);break;default:c.skipField()}return l},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(l,c){var w=void 0;(w=l.getTflite())!=null&&c.writeMessage(1,w,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(w=l.getGpu())!=null&&c.writeMessage(2,w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(w=l.getNnapi())!=null&&c.writeMessage(3,w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),(w=l.getXnnpack())!=null&&c.writeMessage(4,w,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(l,c){var w={};return l&&(w.$jspbMessageInstance=c),w}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)c.getFieldNumber(),c.skipField();return l},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(l,c){},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(l,c){var w,er={useAdvancedGpuApi:e.Message.getBooleanFieldWithDefault(c,1,!1),api:e.Message.getFieldWithDefault(c,4,0),allowPrecisionLoss:e.Message.getBooleanFieldWithDefault(c,3,!0),cachedKernelPath:(w=e.Message.getField(c,2))==null?void 0:w,serializedModelDir:(w=e.Message.getField(c,7))==null?void 0:w,modelToken:(w=e.Message.getField(c,8))==null?void 0:w,usage:e.Message.getFieldWithDefault(c,5,2)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=c.readBool();l.setUseAdvancedGpuApi(w);break;case 4:w=c.readEnum(),l.setApi(w);break;case 3:w=c.readBool(),l.setAllowPrecisionLoss(w);break;case 2:w=c.readString(),l.setCachedKernelPath(w);break;case 7:w=c.readString(),l.setSerializedModelDir(w);break;case 8:w=c.readString(),l.setModelToken(w);break;case 5:w=c.readEnum(),l.setUsage(w);break;default:c.skipField()}return l},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(l,c){var w=void 0;(w=e.Message.getField(l,1))!=null&&c.writeBool(1,w),(w=e.Message.getField(l,4))!=null&&c.writeEnum(4,w),(w=e.Message.getField(l,3))!=null&&c.writeBool(3,w),(w=e.Message.getField(l,2))!=null&&c.writeString(2,w),(w=e.Message.getField(l,7))!=null&&c.writeString(7,w),(w=e.Message.getField(l,8))!=null&&c.writeString(8,w),(w=e.Message.getField(l,5))!=null&&c.writeEnum(5,w)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(l){return e.Message.setField(this,1,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(l){return e.Message.setField(this,4,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return e.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(l){return e.Message.setField(this,3,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(l){return e.Message.setField(this,2,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return e.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(l){return e.Message.setField(this,7,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(l){return e.Message.setField(this,8,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return e.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(l){return e.Message.setField(this,5,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(l,c){var w,er={cacheDir:(w=e.Message.getField(c,1))==null?void 0:w,modelToken:(w=e.Message.getField(c,2))==null?void 0:w,acceleratorName:(w=e.Message.getField(c,3))==null?void 0:w};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=c.readString();l.setCacheDir(w);break;case 2:w=c.readString(),l.setModelToken(w);break;case 3:w=c.readString(),l.setAcceleratorName(w);break;default:c.skipField()}return l},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(l,c){var w=void 0;(w=e.Message.getField(l,1))!=null&&c.writeString(1,w),(w=e.Message.getField(l,2))!=null&&c.writeString(2,w),(w=e.Message.getField(l,3))!=null&&c.writeString(3,w)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(l){return e.Message.setField(this,1,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(l){return e.Message.setField(this,2,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(l){return e.Message.setField(this,3,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(l){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(l,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(l,c){var w={numThreads:e.Message.getFieldWithDefault(c,1,-1)};return l&&(w.$jspbMessageInstance=c),w}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(w,c)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var w=c.readInt32();l.setNumThreads(w)}else c.skipField();return l},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(l,c){var w;(w=e.Message.getField(l,1))!=null&&c.writeInt32(1,w)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(l){return e.Message.setField(this,1,l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(l){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(l){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(l){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(l){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],l)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(l){return e.Message.setField(this,1,l)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(l){return e.Message.setField(this,2,l)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(l){return e.Message.setField(this,3,l)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return e.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(l){return e.Message.setField(this,4,l)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(l){return e.Message.setWrapperField(this,5,l)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,t.object.extend(n,proto.mediapipe)})(inference_calculator_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=inference_calculator_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,i),t.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,i),proto.mediapipe.tasks.core.proto.Acceleration=function(s){e.Message.initialize(this,s,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},t.inherits(proto.mediapipe.tasks.core.proto.Acceleration,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(s){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(s,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(s,l){var c,w={xnnpack:(c=l.getXnnpack())&&o.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(s,c),gpu:(c=l.getGpu())&&o.InferenceCalculatorOptions.Delegate.Gpu.toObject(s,c),tflite:(c=l.getTflite())&&o.InferenceCalculatorOptions.Delegate.TfLite.toObject(s,c),nnapi:(c=l.getNnapi())&&o.InferenceCalculatorOptions.Delegate.Nnapi.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(c,l)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new o.InferenceCalculatorOptions.Delegate.Xnnpack;l.readMessage(c,o.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),s.setXnnpack(c);break;case 2:c=new o.InferenceCalculatorOptions.Delegate.Gpu,l.readMessage(c,o.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),s.setGpu(c);break;case 4:c=new o.InferenceCalculatorOptions.Delegate.TfLite,l.readMessage(c,o.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),s.setTflite(c);break;case 5:c=new o.InferenceCalculatorOptions.Delegate.Nnapi,l.readMessage(c,o.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),s.setNnapi(c);break;default:l.skipField()}return s},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getXnnpack())!=null&&l.writeMessage(1,c,o.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),(c=s.getGpu())!=null&&l.writeMessage(2,c,o.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(c=s.getTflite())!=null&&l.writeMessage(4,c,o.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(c=s.getNnapi())!=null&&l.writeMessage(5,c,o.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(s){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(s){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(s){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(s){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],s)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return e.Message.getField(this,5)!=null},t.object.extend(n,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,i),t.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,i),t.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,i),proto.mediapipe.tasks.core.proto.ExternalFile=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(o,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(o,s){var l,c={fileContent:s.getFileContent_asB64(),fileName:(l=e.Message.getField(s,2))==null?void 0:l,fileDescriptorMeta:(l=s.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,l),filePointerMeta:(l=s.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,l)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readBytes();o.setFileContent(l);break;case 2:l=s.readString(),o.setFileName(l);break;case 3:l=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,s.readMessage(l,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),o.setFileDescriptorMeta(l);break;case 4:l=new proto.mediapipe.tasks.core.proto.FilePointerMeta,s.readMessage(l,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),o.setFilePointerMeta(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeBytes(1,l),(l=e.Message.getField(o,2))!=null&&s.writeString(2,l),(l=o.getFileDescriptorMeta())!=null&&s.writeMessage(3,l,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),(l=o.getFilePointerMeta())!=null&&s.writeMessage(4,l,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return e.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return e.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(o,s){var l,c={fd:(l=e.Message.getField(s,1))==null?void 0:l,length:(l=e.Message.getField(s,2))==null?void 0:l,offset:(l=e.Message.getField(s,3))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setFd(l);break;case 2:l=s.readInt64(),o.setLength(l);break;case 3:l=s.readInt64(),o.setOffset(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt64(2,l),(l=e.Message.getField(o,3))!=null&&s.writeInt64(3,l)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(o,s){var l,c={pointer:(l=e.Message.getField(s,1))==null?void 0:l,length:(l=e.Message.getField(s,2))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readUint64();o.setPointer(l);break;case 2:l=s.readInt64(),o.setLength(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeUint64(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt64(2,l)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.core.proto)})(external_file_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=acceleration_pb;t.object.extend(proto,o);var s=external_file_pb;t.object.extend(proto,s),t.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,i),proto.mediapipe.tasks.core.proto.BaseOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(l,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(l,c){var w,er={modelAsset:(w=c.getModelAsset())&&s.ExternalFile.toObject(l,w),useStreamMode:e.Message.getBooleanFieldWithDefault(c,2,!1),acceleration:(w=c.getAcceleration())&&o.Acceleration.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(w,c)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=new s.ExternalFile;c.readMessage(w,s.ExternalFile.deserializeBinaryFromReader),l.setModelAsset(w);break;case 2:w=c.readBool(),l.setUseStreamMode(w);break;case 3:w=new o.Acceleration,c.readMessage(w,o.Acceleration.deserializeBinaryFromReader),l.setAcceleration(w);break;default:c.skipField()}return l},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(l,c){var w=void 0;(w=l.getModelAsset())!=null&&c.writeMessage(1,w,s.ExternalFile.serializeBinaryToWriter),(w=e.Message.getField(l,2))!=null&&c.writeBool(2,w),(w=l.getAcceleration())!=null&&c.writeMessage(3,w,o.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return e.Message.getWrapperField(this,s.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(l){return e.Message.setField(this,2,l)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return e.Message.getWrapperField(this,o.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(l){return e.Message.setWrapperField(this,3,l)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return e.Message.getField(this,3)!=null},t.object.extend(n,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,i),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(w,2,.5),minSuppressionThreshold:e.Message.getFloatingPointFieldWithDefault(w,3,.5),numFaces:(er=e.Message.getField(w,4))==null?void 0:er};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er);break;case 2:er=w.readFloat(),c.setMinDetectionConfidence(er);break;case 3:er=w.readFloat(),c.setMinSuppressionThreshold(er);break;case 4:er=w.readInt32(),c.setNumFaces(er);break;default:w.skipField()}return c},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(c,w){var er=void 0;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter),(er=e.Message.getField(c,2))!=null&&w.writeFloat(2,er),(er=e.Message.getField(c,3))!=null&&w.writeFloat(3,er),(er=e.Message.getField(c,4))!=null&&w.writeInt32(4,er)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(c){return e.Message.setField(this,4,c)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_detector.proto)})(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;const DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(n){var e,t,i,o,s,l,c,w,er,nr,rr,or,sr;const dr=n.getScoreList(),hr=n.getLabelIdList(),gr=n.getLabelList(),mr=n.getDisplayNameList(),vr={categories:[]};for(let Ar=0;Ar<dr.length;Ar++)vr.categories.push({score:dr[Ar],index:(e=hr[Ar])!==null&&e!==void 0?e:DEFAULT_CATEGORY_INDEX,categoryName:(t=gr[Ar])!==null&&t!==void 0?t:"",displayName:(i=mr[Ar])!==null&&i!==void 0?i:""});const Sr=(o=n.getLocationData())===null||o===void 0?void 0:o.getBoundingBox();if(Sr&&(vr.boundingBox={originX:(s=Sr.getXmin())!==null&&s!==void 0?s:0,originY:(l=Sr.getYmin())!==null&&l!==void 0?l:0,width:(c=Sr.getWidth())!==null&&c!==void 0?c:0,height:(w=Sr.getHeight())!==null&&w!==void 0?w:0}),(er=n.getLocationData())===null||er===void 0?void 0:er.getRelativeKeypointsList().length){vr.keypoints=[];for(const Ar of n.getLocationData().getRelativeKeypointsList())vr.keypoints.push({x:(nr=Ar.getX())!==null&&nr!==void 0?nr:0,y:(rr=Ar.getY())!==null&&rr!==void 0?rr:0,score:(or=Ar.getScore())!==null&&or!==void 0?or:0,label:(sr=Ar.getKeypointLabel())!==null&&sr!==void 0?sr:""})}return vr}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.NormalizedRect",null,i),t.exportSymbol("proto.mediapipe.Rect",null,i),proto.mediapipe.Rect=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.Rect,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.NormalizedRect,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(o){return proto.mediapipe.Rect.toObject(o,this)},proto.mediapipe.Rect.toObject=function(o,s){var l,c={xCenter:(l=e.Message.getField(s,1))==null?void 0:l,yCenter:(l=e.Message.getField(s,2))==null?void 0:l,height:(l=e.Message.getField(s,3))==null?void 0:l,width:(l=e.Message.getField(s,4))==null?void 0:l,rotation:e.Message.getFloatingPointFieldWithDefault(s,5,0),rectId:(l=e.Message.getField(s,6))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Rect.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(l,s)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setXCenter(l);break;case 2:l=s.readInt32(),o.setYCenter(l);break;case 3:l=s.readInt32(),o.setHeight(l);break;case 4:l=s.readInt32(),o.setWidth(l);break;case 5:l=s.readFloat(),o.setRotation(l);break;case 6:l=s.readInt64(),o.setRectId(l);break;default:s.skipField()}return o},proto.mediapipe.Rect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt32(2,l),(l=e.Message.getField(o,3))!=null&&s.writeInt32(3,l),(l=e.Message.getField(o,4))!=null&&s.writeInt32(4,l),(l=e.Message.getField(o,5))!=null&&s.writeFloat(5,l),(l=e.Message.getField(o,6))!=null&&s.writeInt64(6,l)},proto.mediapipe.Rect.prototype.getXCenter=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rect.prototype.getYCenter=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rect.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rect.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Rect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Rect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Rect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Rect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.Rect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(o){return proto.mediapipe.NormalizedRect.toObject(o,this)},proto.mediapipe.NormalizedRect.toObject=function(o,s){var l,c={xCenter:(l=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:l,yCenter:(l=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:l,height:(l=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:l,width:(l=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:l,rotation:e.Message.getFloatingPointFieldWithDefault(s,5,0),rectId:(l=e.Message.getField(s,6))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.NormalizedRect.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(l,s)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readFloat();o.setXCenter(l);break;case 2:l=s.readFloat(),o.setYCenter(l);break;case 3:l=s.readFloat(),o.setHeight(l);break;case 4:l=s.readFloat(),o.setWidth(l);break;case 5:l=s.readFloat(),o.setRotation(l);break;case 6:l=s.readInt64(),o.setRectId(l);break;default:s.skipField()}return o},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeFloat(1,l),(l=e.Message.getField(o,2))!=null&&s.writeFloat(2,l),(l=e.Message.getField(o,3))!=null&&s.writeFloat(3,l),(l=e.Message.getField(o,4))!=null&&s.writeFloat(4,l),(l=e.Message.getField(o,5))!=null&&s.writeFloat(5,l),(l=e.Message.getField(o,6))!=null&&s.writeInt64(6,l)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},t.object.extend(n,proto.mediapipe)})(rect_pb);var task_runner={},graph_runner={},platform_utils={};function isWebKit(n=navigator){const e=n.userAgent;return e.includes("Safari")&&!e.includes("Chrome")}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createGraphRunner=n.createMediaPipeLib=n.GraphRunner=n.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;const e=platform_utils;n.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class t{constructor(l,c){this.autoResizeCanvas=!0,this.wasmModule=l,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport=typeof this.wasmModule._addIntToInputStream=="function",c!==void 0?this.wasmModule.canvas=c:typeof OffscreenCanvas>"u"||(0,e.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(l){const c=await fetch(l),w=await c.arrayBuffer(),er=!(l.endsWith(".pbtxt")||l.endsWith(".textproto"));this.setGraph(new Uint8Array(w),er)}setGraphFromString(l){this.setGraph(new TextEncoder().encode(l),!1)}setGraph(l,c){const w=l.length,er=this.wasmModule._malloc(w);this.wasmModule.HEAPU8.set(l,er),c?this.wasmModule._changeBinaryGraph(w,er):this.wasmModule._changeTextGraph(w,er),this.wasmModule._free(er)}configureAudio(l,c,w,er,nr){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),er=er||"input_audio",this.wrapStringPtr(er,rr=>{nr=nr||"audio_header",this.wrapStringPtr(nr,or=>{this.wasmModule._configureAudio(rr,or,l,c,w)})})}setAutoResizeCanvas(l){this.autoResizeCanvas=l}setAutoRenderToScreen(l){this.wasmModule._setAutoRenderToScreen(l)}bindTextureToStream(l,c){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");c?this.wasmModule._bindTextureToStream(c):console.assert(this.wasmModule._bindTextureToCanvas());const w=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!w)throw new Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");let er,nr;return w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,l),l.videoWidth?(er=l.videoWidth,nr=l.videoHeight):l.naturalWidth?(er=l.naturalWidth,nr=l.naturalHeight):(er=l.width,nr=l.height),!this.autoResizeCanvas||er===this.wasmModule.canvas.width&&nr===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=er,this.wasmModule.canvas.height=nr),[er,nr]}processGl(l,c){const[w,er]=this.bindTextureToStream(l),nr=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[nr/4]=w,this.wasmModule.HEAPU32[nr/4+1]=er,this.wasmModule.HEAPF64[nr/8+1]=c,this.wasmModule._processGl(nr),this.wasmModule._free(nr)}wrapStringPtr(l,c){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const w=this.wasmModule.stringToNewUTF8(l);c(w),this.wasmModule._free(w)}wrapStringPtrPtr(l,c){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const w=new Uint32Array(l.length);for(let nr=0;nr<l.length;nr++)w[nr]=this.wasmModule.stringToNewUTF8(l[nr]);const er=this.wasmModule._malloc(4*w.length);this.wasmModule.HEAPU32.set(w,er>>2),c(er);for(const nr of w)this.wasmModule._free(nr);this.wasmModule._free(er)}getCalculatorGraphConfig(l,c){const w=n.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(w,er=>{l(er)}),this.wrapStringPtr(w,er=>{this.wasmModule._getGraphConfig(er,c)}),delete this.wasmModule.simpleListeners[w]}setListener(l,c){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[l]=c}setVectorListener(l,c){let w=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[l]=(er,nr,rr)=>{nr?(c(w,rr),w=[]):w.push(er)}}attachErrorListener(l){this.wasmModule.errorListener=l}attachEmptyPacketListener(l,c){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[l]=c}addAudioToStream(l,c,w){this.addAudioToStreamWithShape(l,0,0,c,w)}addAudioToStreamWithShape(l,c,w,er,nr){const rr=4*l.length;this.audioSize!==rr&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(rr),this.audioSize=rr),this.wasmModule.HEAPF32.set(l,this.audioPtr/4),this.wrapStringPtr(er,or=>{this.wasmModule._addAudioToInputStream(this.audioPtr,c,w,or,nr)})}addGpuBufferToStream(l,c,w){this.wrapStringPtr(c,er=>{const[nr,rr]=this.bindTextureToStream(l,er);this.wasmModule._addBoundTextureToStream(er,nr,rr,w)})}addBoolToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wasmModule._addBoolToInputStream(l,er,w)})}addDoubleToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wasmModule._addDoubleToInputStream(l,er,w)})}addFloatToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wasmModule._addFloatToInputStream(l,er,w)})}addIntToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wasmModule._addIntToInputStream(l,er,w)})}addStringToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wrapStringPtr(l,nr=>{this.wasmModule._addStringToInputStream(nr,er,w)})})}addStringRecordToStream(l,c,w){this.wrapStringPtr(c,er=>{this.wrapStringPtrPtr(Object.keys(l),nr=>{this.wrapStringPtrPtr(Object.values(l),rr=>{this.wasmModule._addFlatHashMapToInputStream(nr,rr,Object.keys(l).length,er,w)})})})}addProtoToStream(l,c,w,er){this.wrapStringPtr(w,nr=>{this.wrapStringPtr(c,rr=>{const or=this.wasmModule._malloc(l.length);this.wasmModule.HEAPU8.set(l,or),this.wasmModule._addProtoToInputStream(or,l.length,rr,nr,er),this.wasmModule._free(or)})})}addEmptyPacketToStream(l,c){this.wrapStringPtr(l,w=>{this.wasmModule._addEmptyPacketToInputStream(w,c)})}addBoolToInputSidePacket(l,c){this.wrapStringPtr(c,w=>{this.wasmModule._addBoolToInputSidePacket(l,w)})}addDoubleToInputSidePacket(l,c){this.wrapStringPtr(c,w=>{this.wasmModule._addDoubleToInputSidePacket(l,w)})}addFloatToInputSidePacket(l,c){this.wrapStringPtr(c,w=>{this.wasmModule._addFloatToInputSidePacket(l,w)})}addIntToInputSidePacket(l,c){this.wrapStringPtr(c,w=>{this.wasmModule._addIntToInputSidePacket(l,w)})}addStringToInputSidePacket(l,c){this.wrapStringPtr(c,w=>{this.wrapStringPtr(l,er=>{this.wasmModule._addStringToInputSidePacket(er,w)})})}addProtoToInputSidePacket(l,c,w){this.wrapStringPtr(w,er=>{this.wrapStringPtr(c,nr=>{const rr=this.wasmModule._malloc(l.length);this.wasmModule.HEAPU8.set(l,rr),this.wasmModule._addProtoToInputSidePacket(rr,l.length,nr,er),this.wasmModule._free(rr)})})}attachBoolListener(l,c){this.setListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachBoolListener(w)})}attachBoolVectorListener(l,c){this.setVectorListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachBoolVectorListener(w)})}attachIntListener(l,c){this.setListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachIntListener(w)})}attachIntVectorListener(l,c){this.setVectorListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachIntVectorListener(w)})}attachDoubleListener(l,c){this.setListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachDoubleListener(w)})}attachDoubleVectorListener(l,c){this.setVectorListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachDoubleVectorListener(w)})}attachFloatListener(l,c){this.setListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachFloatListener(w)})}attachFloatVectorListener(l,c){this.setVectorListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachFloatVectorListener(w)})}attachStringListener(l,c){this.setListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachStringListener(w)})}attachStringVectorListener(l,c){this.setVectorListener(l,c),this.wrapStringPtr(l,w=>{this.wasmModule._attachStringVectorListener(w)})}attachProtoListener(l,c,w){this.setListener(l,c),this.wrapStringPtr(l,er=>{this.wasmModule._attachProtoListener(er,w||!1)})}attachProtoVectorListener(l,c,w){this.setVectorListener(l,c),this.wrapStringPtr(l,er=>{this.wasmModule._attachProtoVectorListener(er,w||!1)})}attachAudioListener(l,c,w){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(l,(er,nr)=>{const rr=new Float32Array(er.buffer,er.byteOffset,er.length/4);c(rr,nr)}),this.wrapStringPtr(l,er=>{this.wasmModule._attachAudioListener(er,w||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}}async function i(s){if(typeof importScripts!="function"){const l=document.createElement("script");return l.setAttribute("src",s),l.setAttribute("crossorigin","anonymous"),new Promise(c=>{l.addEventListener("load",()=>{c()},!1),l.addEventListener("error",()=>{c()},!1),document.body.appendChild(l)})}importScripts(s.toString())}async function o(s,l,c,w,er){const nr=[];if(l&&nr.push(l),c&&nr.push(c),nr.length&&await Promise.all(nr.map(i)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");const rr=await self.ModuleFactory(er||self.Module);return self.ModuleFactory=self.Module=void 0,new s(rr,w)}n.GraphRunner=t,n.createMediaPipeLib=o,n.createGraphRunner=async function(s,l,c,w){return o(t,s,l,c,w)}}(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(n){return class extends n{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,NO_ASSETS=void 0,CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(n,e,t,i){const o={locateFile:()=>t.wasmBinaryPath.toString()},s=await(0,graph_runner_1$1.createMediaPipeLib)(n,t.wasmLoaderPath,NO_ASSETS,e,o);return await s.setOptions(i),s}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,t,i,o){return createTaskRunner(e,t,i,o)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(e){var t,i,o,s,l;const c=e.baseOptions||{};if(!((t=e.baseOptions)===null||t===void 0)&&t.modelAssetBuffer&&(!((i=e.baseOptions)===null||i===void 0)&&i.modelAssetPath))throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(!((o=this.baseOptions.getModelAsset())===null||o===void 0)&&o.hasFileContent()||!((s=e.baseOptions)===null||s===void 0)&&s.modelAssetBuffer||!((l=e.baseOptions)===null||l===void 0)&&l.modelAssetPath))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");return this.setAcceleration(c),c.modelAssetPath?fetch(c.modelAssetPath.toString()).then(w=>{if(w.ok)return w.arrayBuffer();throw new Error(`Failed to fetch model: ${c.modelAssetPath} (${w.status})`)}).then(w=>{this.setExternalFile(new Uint8Array(w)),this.refreshGraph(),this.onGraphRefreshed()}):(this.setExternalFile(c.modelAssetBuffer),this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve())}onGraphRefreshed(){}getCalculatorGraphConfig(){let e;if(this.graphRunner.getCalculatorGraphConfig(t=>{e=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(t)}),!e)throw new Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.graphRunner.attachErrorListener((i,o)=>{this.processingErrors.push(new Error(o))}),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(e,t),this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{const e=this.processingErrors.length;if(e===1)throw new Error(this.processingErrors[0].message);if(e>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map(t=>t.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){const t=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;e&&t.setFileContent(e),this.baseOptions.setModelAsset(t)}setAcceleration(e){let t=this.baseOptions.getAcceleration();t||(t=new acceleration_pb_1.Acceleration,t.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),"delegate"in e&&(e.delegate==="GPU"?t.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):t.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(t)}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(n){return class extends n{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,t,i){this.wrapStringPtr(t,o=>{const[s,l]=this.bindTextureToStream(e,o);this.wasmImageModule._addBoundTextureAsImageToStream(o,s,l,i)})}attachImageListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,i=>{this.wasmImageModule._attachImageListener(i)})}attachImageVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,i=>{this.wasmImageModule._attachImageVectorListener(i)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return typeof OffscreenCanvas<"u"&&!(0,platform_utils_1.isWebKit)()?void 0:document.createElement("canvas")}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(e,t,i){var o,s;if(((o=i.baseOptions)===null||o===void 0?void 0:o.delegate)==="GPU"&&!i.canvas)throw new Error("You must specify a canvas for GPU processing.");const l=(s=i.canvas)!==null&&s!==void 0?s:createCanvas();return task_runner_1.TaskRunner.createInstance(e,l,t,i)}constructor(e,t,i,o){super(e),this.graphRunner=e,this.imageStreamName=t,this.normRectStreamName=i,this.roiAllowed=o}applyOptions(e){if("runningMode"in e){const t=!!e.runningMode&&e.runningMode!=="IMAGE";this.baseOptions.setUseStreamMode(t)}if(e.canvas!==void 0&&this.graphRunner.wasmModule.canvas!==e.canvas)throw new Error("You must create a new task to reset the canvas.");return super.applyOptions(e)}processImageData(e,t){var i;if(!((i=this.baseOptions)===null||i===void 0)&&i.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(e,t,this.getSynctheticTimestamp())}processVideoData(e,t,i){var o;if(!(!((o=this.baseOptions)===null||o===void 0)&&o.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,t,i)}getImageSourceSize(e){return e.videoWidth!==void 0?[e.videoWidth,e.videoHeight]:e.naturalWidth!==void 0?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}convertToNormalizedRect(e,t){const i=new rect_pb_1.NormalizedRect;if(t!=null&&t.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const o=t.regionOfInterest;if(o.left>=o.right||o.top>=o.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(o.left<0||o.top<0||o.right>1||o.bottom>1)throw new Error("Expected RectF values to be in [0,1].");i.setXCenter((o.left+o.right)/2),i.setYCenter((o.top+o.bottom)/2),i.setWidth(o.right-o.left),i.setHeight(o.bottom-o.top)}else i.setXCenter(.5),i.setYCenter(.5),i.setWidth(1),i.setHeight(1);if(t!=null&&t.rotationDegrees){if((t==null?void 0:t.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90°.");if(i.setRotation(-Math.PI*t.rotationDegrees/180),(t==null?void 0:t.rotationDegrees)%180!=0){const[o,s]=this.getImageSourceSize(e),l=i.getHeight()*s/o,c=i.getWidth()*o/s;i.setWidth(l),i.setHeight(c)}}return i}process(e,t,i){const o=this.convertToNormalizedRect(e,t);this.graphRunner.addProtoToStream(o.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,i),this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,i??performance.now()),this.finishProcessing()}convertToImageData(e){const{data:t,width:i,height:o}=e;if(!(t instanceof Uint8ClampedArray))throw new Error("Only Uint8ClampedArray-based images can be converted to ImageData");if(t.length===i*o*4)return new ImageData(t,i,o);if(t.length===i*o*3){const s=new Uint8ClampedArray(i*o*4);for(let l=0;l<i*o;++l)s[4*l]=t[3*l],s[4*l+1]=t[3*l+1],s[4*l+2]=t[3*l+2],s[4*l+3]=255;return new ImageData(s,i,o)}throw new Error("Unsupported channel count: "+t.length/i/o)}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(dr,hr,gr,mr){mr===void 0&&(mr=gr);var vr=Object.getOwnPropertyDescriptor(hr,gr);vr&&!("get"in vr?!hr.__esModule:vr.writable||vr.configurable)||(vr={enumerable:!0,get:function(){return hr[gr]}}),Object.defineProperty(dr,mr,vr)}:function(dr,hr,gr,mr){mr===void 0&&(mr=gr),dr[mr]=hr[gr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(dr,hr){for(var gr in dr)gr==="default"||Object.prototype.hasOwnProperty.call(hr,gr)||e(hr,dr,gr)};Object.defineProperty(n,"__esModule",{value:!0}),n.FaceDetector=void 0;const i=calculator_pb,o=calculator_options_pb,s=detection_pb,l=base_options_pb,c=face_detector_graph_options_pb,w=detection_result,er=vision_task_runner,nr="image_in",rr="norm_rect_in",or="detections";t(face_detector_options,n),t(face_detector_result,n);class sr extends er.VisionTaskRunner{static createFromOptions(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,gr)}static createFromModelBuffer(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,{baseOptions:{modelAssetBuffer:gr}})}static async createFromModelPath(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,{baseOptions:{modelAssetPath:gr}})}constructor(hr,gr){super(new er.VisionGraphRunner(hr,gr),nr,rr,!1),this.result={detections:[]},this.options=new c.FaceDetectorGraphOptions,this.options.setBaseOptions(new l.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(hr){this.options.setBaseOptions(hr)}setOptions(hr){var gr,mr;return"minDetectionConfidence"in hr&&this.options.setMinDetectionConfidence((gr=hr.minDetectionConfidence)!==null&&gr!==void 0?gr:.5),"minSuppressionThreshold"in hr&&this.options.setMinSuppressionThreshold((mr=hr.minSuppressionThreshold)!==null&&mr!==void 0?mr:.3),this.applyOptions(hr)}detect(hr,gr){return this.result={detections:[]},this.processImageData(hr,gr),this.result}detectForVideo(hr,gr,mr){return this.result={detections:[]},this.processVideoData(hr,mr,gr),this.result}addJsFaceDetections(hr){for(const gr of hr){const mr=s.Detection.deserializeBinary(gr);this.result.detections.push((0,w.convertFromDetectionProto)(mr))}}refreshGraph(){const hr=new i.CalculatorGraphConfig;hr.addInputStream(nr),hr.addInputStream(rr),hr.addOutputStream(or);const gr=new o.CalculatorOptions;gr.setExtension(c.FaceDetectorGraphOptions.ext,this.options);const mr=new i.CalculatorGraphConfig.Node;mr.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),mr.addInputStream("IMAGE:"+nr),mr.addInputStream("NORM_RECT:"+rr),mr.addOutputStream("DETECTIONS:"+or),mr.setOptions(gr),hr.addNode(mr),this.graphRunner.attachProtoVectorListener(or,(Sr,Ar)=>{this.addJsFaceDetections(Sr),this.setLatestOutputTimestamp(Ar)}),this.graphRunner.attachEmptyPacketListener(or,Sr=>{this.setLatestOutputTimestamp(Sr)});const vr=hr.serializeBinary();this.setGraph(new Uint8Array(vr),!0)}}n.FaceDetector=sr}(face_detector);var face_landmarker={},classification_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.Classification",null,i),t.exportSymbol("proto.mediapipe.ClassificationList",null,i),t.exportSymbol("proto.mediapipe.ClassificationListCollection",null,i),proto.mediapipe.Classification=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.Classification,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},t.inherits(proto.mediapipe.ClassificationList,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},t.inherits(proto.mediapipe.ClassificationListCollection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(o){return proto.mediapipe.Classification.toObject(o,this)},proto.mediapipe.Classification.toObject=function(o,s){var l,c={index:(l=e.Message.getField(s,1))==null?void 0:l,score:(l=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:l,label:(l=e.Message.getField(s,3))==null?void 0:l,displayName:(l=e.Message.getField(s,4))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Classification.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(l,s)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setIndex(l);break;case 2:l=s.readFloat(),o.setScore(l);break;case 3:l=s.readString(),o.setLabel(l);break;case 4:l=s.readString(),o.setDisplayName(l);break;default:s.skipField()}return o},proto.mediapipe.Classification.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeFloat(2,l),(l=e.Message.getField(o,3))!=null&&s.writeString(3,l),(l=e.Message.getField(o,4))!=null&&s.writeString(4,l)},proto.mediapipe.Classification.prototype.getIndex=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Classification.prototype.clearIndex=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Classification.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Classification.prototype.clearScore=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Classification.prototype.getLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Classification.prototype.clearLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Classification.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.ClassificationList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(o){return proto.mediapipe.ClassificationList.toObject(o,this)},proto.mediapipe.ClassificationList.toObject=function(o,s){var l={classificationList:e.Message.toObjectList(s.getClassificationList(),proto.mediapipe.Classification.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.ClassificationList.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(l,s)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.Classification;s.readMessage(l,proto.mediapipe.Classification.deserializeBinaryFromReader),o.addClassification(l)}else s.skipField();return o},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(o,s){var l;(l=o.getClassificationList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationList.prototype.addClassification=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Classification,s)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(o){return proto.mediapipe.ClassificationListCollection.toObject(o,this)},proto.mediapipe.ClassificationListCollection.toObject=function(o,s){var l={classificationListList:e.Message.toObjectList(s.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(l,s)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.ClassificationList;s.readMessage(l,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),o.addClassificationList(l)}else s.skipField();return o},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(o,s){var l;(l=o.getClassificationListList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.ClassificationList,s)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},t.object.extend(n,proto.mediapipe)})(classification_pb);var landmark_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.Landmark",null,i),t.exportSymbol("proto.mediapipe.LandmarkList",null,i),t.exportSymbol("proto.mediapipe.LandmarkListCollection",null,i),t.exportSymbol("proto.mediapipe.NormalizedLandmark",null,i),t.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,i),t.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,i),proto.mediapipe.Landmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.Landmark,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},t.inherits(proto.mediapipe.LandmarkList,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},t.inherits(proto.mediapipe.LandmarkListCollection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.NormalizedLandmark,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},t.inherits(proto.mediapipe.NormalizedLandmarkList,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},t.inherits(proto.mediapipe.NormalizedLandmarkListCollection,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(o){return proto.mediapipe.Landmark.toObject(o,this)},proto.mediapipe.Landmark.toObject=function(o,s){var l,c={x:(l=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:l,y:(l=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:l,z:(l=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:l,visibility:(l=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:l,presence:(l=e.Message.getOptionalFloatingPointField(s,5))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Landmark.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(l,s)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readFloat();o.setX(l);break;case 2:l=s.readFloat(),o.setY(l);break;case 3:l=s.readFloat(),o.setZ(l);break;case 4:l=s.readFloat(),o.setVisibility(l);break;case 5:l=s.readFloat(),o.setPresence(l);break;default:s.skipField()}return o},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeFloat(1,l),(l=e.Message.getField(o,2))!=null&&s.writeFloat(2,l),(l=e.Message.getField(o,3))!=null&&s.writeFloat(3,l),(l=e.Message.getField(o,4))!=null&&s.writeFloat(4,l),(l=e.Message.getField(o,5))!=null&&s.writeFloat(5,l)},proto.mediapipe.Landmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Landmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Landmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Landmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Landmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Landmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Landmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Landmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.LandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(o){return proto.mediapipe.LandmarkList.toObject(o,this)},proto.mediapipe.LandmarkList.toObject=function(o,s){var l={landmarkList:e.Message.toObjectList(s.getLandmarkList(),proto.mediapipe.Landmark.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.LandmarkList.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(l,s)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.Landmark;s.readMessage(l,proto.mediapipe.Landmark.deserializeBinaryFromReader),o.addLandmark(l)}else s.skipField();return o},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(o,s){var l;(l=o.getLandmarkList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Landmark,s)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.LandmarkListCollection.toObject(o,this)},proto.mediapipe.LandmarkListCollection.toObject=function(o,s){var l={landmarkListList:e.Message.toObjectList(s.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(l,s)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.LandmarkList;s.readMessage(l,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),o.addLandmarkList(l)}else s.skipField();return o},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(o,s){var l;(l=o.getLandmarkListList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.LandmarkList,s)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmark.toObject(o,this)},proto.mediapipe.NormalizedLandmark.toObject=function(o,s){var l,c={x:(l=e.Message.getOptionalFloatingPointField(s,1))==null?void 0:l,y:(l=e.Message.getOptionalFloatingPointField(s,2))==null?void 0:l,z:(l=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:l,visibility:(l=e.Message.getOptionalFloatingPointField(s,4))==null?void 0:l,presence:(l=e.Message.getOptionalFloatingPointField(s,5))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(l,s)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readFloat();o.setX(l);break;case 2:l=s.readFloat(),o.setY(l);break;case 3:l=s.readFloat(),o.setZ(l);break;case 4:l=s.readFloat(),o.setVisibility(l);break;case 5:l=s.readFloat(),o.setPresence(l);break;default:s.skipField()}return o},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeFloat(1,l),(l=e.Message.getField(o,2))!=null&&s.writeFloat(2,l),(l=e.Message.getField(o,3))!=null&&s.writeFloat(3,l),(l=e.Message.getField(o,4))!=null&&s.writeFloat(4,l),(l=e.Message.getField(o,5))!=null&&s.writeFloat(5,l)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkList.toObject(o,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(o,s){var l={landmarkList:e.Message.toObjectList(s.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(l,s)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.NormalizedLandmark;s.readMessage(l,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),o.addLandmark(l)}else s.skipField();return o},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(o,s){var l;(l=o.getLandmarkList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmark,s)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(o,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(o,s){var l={landmarkListList:e.Message.toObjectList(s.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,o)};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(l,s)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=new proto.mediapipe.NormalizedLandmarkList;s.readMessage(l,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),o.addLandmarkList(l)}else s.skipField();return o},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(o,s){var l;(l=o.getLandmarkListList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmarkList,s)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},t.object.extend(n,proto.mediapipe)})(landmark_pb);var face_geometry_pb={},matrix_data_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.MatrixData",null,i),t.exportSymbol("proto.mediapipe.MatrixData.Layout",null,i),proto.mediapipe.MatrixData=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},t.inherits(proto.mediapipe.MatrixData,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(o){return proto.mediapipe.MatrixData.toObject(o,this)},proto.mediapipe.MatrixData.toObject=function(o,s){var l,c={rows:(l=e.Message.getField(s,1))==null?void 0:l,cols:(l=e.Message.getField(s,2))==null?void 0:l,packedDataList:(l=e.Message.getRepeatedFloatingPointField(s,3))==null?void 0:l,layout:e.Message.getFieldWithDefault(s,4,0)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.MatrixData.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(l,s)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setRows(l);break;case 2:l=s.readInt32(),o.setCols(l);break;case 3:for(var c=s.isDelimited()?s.readPackedFloat():[s.readFloat()],w=0;w<c.length;w++)o.addPackedData(c[w]);break;case 4:l=s.readEnum(),o.setLayout(l);break;default:s.skipField()}return o},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt32(2,l),(l=o.getPackedDataList()).length>0&&s.writePackedFloat(3,l),(l=e.Message.getField(o,4))!=null&&s.writeEnum(4,l)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.MatrixData.prototype.getCols=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return e.Message.getField(this,4)!=null},t.object.extend(n,proto.mediapipe)})(matrix_data_pb);var mesh_3d_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,i),t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,i),t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,i),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(o,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(o,s){var l,c={vertexType:(l=e.Message.getField(s,1))==null?void 0:l,primitiveType:(l=e.Message.getField(s,2))==null?void 0:l,vertexBufferList:(l=e.Message.getRepeatedFloatingPointField(s,3))==null?void 0:l,indexBufferList:(l=e.Message.getRepeatedField(s,4))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readEnum();o.setVertexType(l);break;case 2:l=s.readEnum(),o.setPrimitiveType(l);break;case 3:for(var c=s.isDelimited()?s.readPackedFloat():[s.readFloat()],w=0;w<c.length;w++)o.addVertexBuffer(c[w]);break;case 4:for(c=s.isDelimited()?s.readPackedUint32():[s.readUint32()],w=0;w<c.length;w++)o.addIndexBuffer(c[w]);break;default:s.skipField()}return o},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeEnum(1,l),(l=e.Message.getField(o,2))!=null&&s.writeEnum(2,l),(l=o.getVertexBufferList()).length>0&&s.writeRepeatedFloat(3,l),(l=o.getIndexBufferList()).length>0&&s.writeRepeatedUint32(4,l)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(o,s){return e.Message.addToRepeatedField(this,4,o,s)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},t.object.extend(n,proto.mediapipe.tasks.vision.face_geometry.proto)})(mesh_3d_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=matrix_data_pb;t.object.extend(proto,o);var s=mesh_3d_pb;t.object.extend(proto,s),t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,i),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(l,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(l,c){var w,er={mesh:(w=c.getMesh())&&s.Mesh3d.toObject(l,w),poseTransformMatrix:(w=c.getPoseTransformMatrix())&&o.MatrixData.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(w,c)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var w=new s.Mesh3d;c.readMessage(w,s.Mesh3d.deserializeBinaryFromReader),l.setMesh(w);break;case 2:w=new o.MatrixData,c.readMessage(w,o.MatrixData.deserializeBinaryFromReader),l.setPoseTransformMatrix(w);break;default:c.skipField()}return l},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(l,c){var w=void 0;(w=l.getMesh())!=null&&c.writeMessage(1,w,s.Mesh3d.serializeBinaryToWriter),(w=l.getPoseTransformMatrix())!=null&&c.writeMessage(2,w,o.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return e.Message.getWrapperField(this,s.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return e.Message.getWrapperField(this,o.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(l){return e.Message.setWrapperField(this,2,l)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;t.object.extend(proto,o);var s=external_file_pb;t.object.extend(proto,s),t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,i),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(l,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(l,c){var w,er={metadataFile:(w=c.getMetadataFile())&&s.ExternalFile.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(w,c)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var w=new s.ExternalFile;c.readMessage(w,s.ExternalFile.deserializeBinaryFromReader),l.setMetadataFile(w)}else c.skipField();return l},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(l,c){var w;(w=l.getMetadataFile())!=null&&c.writeMessage(1,w,s.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return e.Message.getWrapperField(this,s.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_geometry)})(geometry_pipeline_calculator_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;t.object.extend(proto,o);var s=geometry_pipeline_calculator_pb;t.object.extend(proto,s),t.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,i),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(l,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(l,c){var w,er={geometryPipelineOptions:(w=c.getGeometryPipelineOptions())&&s.FaceGeometryPipelineCalculatorOptions.toObject(l,w)};return l&&(er.$jspbMessageInstance=c),er}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(l){var c=new e.BinaryReader(l),w=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(w,c)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(l,c){for(;c.nextField()&&!c.isEndGroup();)if(c.getFieldNumber()===1){var w=new s.FaceGeometryPipelineCalculatorOptions;c.readMessage(w,s.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),l.setGeometryPipelineOptions(w)}else c.skipField();return l},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(l,c){var w;(w=l.getGeometryPipelineOptions())!=null&&c.writeMessage(1,w,s.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return e.Message.getWrapperField(this,s.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,i),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er)};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)if(w.getFieldNumber()===1){var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er)}else w.skipField();return c},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(c,w){var er;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_landmarker.proto)})(face_blendshapes_graph_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=face_blendshapes_graph_options_pb;t.object.extend(proto,c),t.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,i),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(w){e.Message.initialize(this,w,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(w){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(w,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(w,er){var nr,rr={baseOptions:(nr=er.getBaseOptions())&&l.BaseOptions.toObject(w,nr),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(er,2,.5),faceBlendshapesGraphOptions:(nr=er.getFaceBlendshapesGraphOptions())&&c.FaceBlendshapesGraphOptions.toObject(w,nr)};return w&&(rr.$jspbMessageInstance=er),rr}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(w){var er=new e.BinaryReader(w),nr=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(nr,er)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(w,er){for(;er.nextField()&&!er.isEndGroup();)switch(er.getFieldNumber()){case 1:var nr=new l.BaseOptions;er.readMessage(nr,l.BaseOptions.deserializeBinaryFromReader),w.setBaseOptions(nr);break;case 2:nr=er.readFloat(),w.setMinDetectionConfidence(nr);break;case 3:nr=new c.FaceBlendshapesGraphOptions,er.readMessage(nr,c.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),w.setFaceBlendshapesGraphOptions(nr);break;default:er.skipField()}return w},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var w=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,w),w.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(w,er){var nr=void 0;(nr=w.getBaseOptions())!=null&&er.writeMessage(1,nr,l.BaseOptions.serializeBinaryToWriter),(nr=e.Message.getField(w,2))!=null&&er.writeFloat(2,nr),(nr=w.getFaceBlendshapesGraphOptions())!=null&&er.writeMessage(3,nr,c.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(w){return e.Message.setWrapperField(this,1,w)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(w){return e.Message.setField(this,2,w)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return e.Message.getWrapperField(this,c.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(w){return e.Message.setWrapperField(this,3,w)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=face_detector_graph_options_pb;t.object.extend(proto,c);var w=face_geometry_graph_options_pb;t.object.extend(proto,w);var er=face_landmarks_detector_graph_options_pb;t.object.extend(proto,er),t.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,i),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(nr){e.Message.initialize(this,nr,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(nr){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(nr,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(nr,rr){var or,sr={baseOptions:(or=rr.getBaseOptions())&&l.BaseOptions.toObject(nr,or),faceDetectorGraphOptions:(or=rr.getFaceDetectorGraphOptions())&&c.FaceDetectorGraphOptions.toObject(nr,or),faceLandmarksDetectorGraphOptions:(or=rr.getFaceLandmarksDetectorGraphOptions())&&er.FaceLandmarksDetectorGraphOptions.toObject(nr,or),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(rr,4,.5),faceGeometryGraphOptions:(or=rr.getFaceGeometryGraphOptions())&&w.FaceGeometryGraphOptions.toObject(nr,or)};return nr&&(sr.$jspbMessageInstance=rr),sr}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(nr){var rr=new e.BinaryReader(nr),or=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(or,rr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(nr,rr){for(;rr.nextField()&&!rr.isEndGroup();)switch(rr.getFieldNumber()){case 1:var or=new l.BaseOptions;rr.readMessage(or,l.BaseOptions.deserializeBinaryFromReader),nr.setBaseOptions(or);break;case 2:or=new c.FaceDetectorGraphOptions,rr.readMessage(or,c.FaceDetectorGraphOptions.deserializeBinaryFromReader),nr.setFaceDetectorGraphOptions(or);break;case 3:or=new er.FaceLandmarksDetectorGraphOptions,rr.readMessage(or,er.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),nr.setFaceLandmarksDetectorGraphOptions(or);break;case 4:or=rr.readFloat(),nr.setMinTrackingConfidence(or);break;case 5:or=new w.FaceGeometryGraphOptions,rr.readMessage(or,w.FaceGeometryGraphOptions.deserializeBinaryFromReader),nr.setFaceGeometryGraphOptions(or);break;default:rr.skipField()}return nr},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var nr=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,nr),nr.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(nr,rr){var or=void 0;(or=nr.getBaseOptions())!=null&&rr.writeMessage(1,or,l.BaseOptions.serializeBinaryToWriter),(or=nr.getFaceDetectorGraphOptions())!=null&&rr.writeMessage(2,or,c.FaceDetectorGraphOptions.serializeBinaryToWriter),(or=nr.getFaceLandmarksDetectorGraphOptions())!=null&&rr.writeMessage(3,or,er.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),(or=e.Message.getField(nr,4))!=null&&rr.writeFloat(4,or),(or=nr.getFaceGeometryGraphOptions())!=null&&rr.writeMessage(5,or,w.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(nr){return e.Message.setWrapperField(this,1,nr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return e.Message.getWrapperField(this,c.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(nr){return e.Message.setWrapperField(this,2,nr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,er.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(nr){return e.Message.setWrapperField(this,3,nr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(nr){return e.Message.setField(this,4,nr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return e.Message.getWrapperField(this,w.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(nr){return e.Message.setWrapperField(this,5,nr)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(n,e=DEFAULT_INDEX$1,t=""){return{categories:n.map(i=>{var o,s,l,c;return{index:(o=i.getIndex())!==null&&o!==void 0?o:DEFAULT_INDEX$1,score:(s=i.getScore())!==null&&s!==void 0?s:DEFAULT_SCORE,categoryName:(l=i.getLabel())!==null&&l!==void 0?l:"",displayName:(c=i.getDisplayName())!==null&&c!==void 0?c:""}}),headIndex:e,headName:t}}function convertFromClassificationsProto(n){var e,t;return convertFromClassifications((t=(e=n.getClassificationList())===null||e===void 0?void 0:e.getClassificationList())!==null&&t!==void 0?t:[],n.getHeadIndex(),n.getHeadName())}function convertFromClassificationResultProto(n){const e={classifications:n.getClassificationsList().map(t=>convertFromClassificationsProto(t))};return n.hasTimestampMs()&&(e.timestampMs=n.getTimestampMs()),e}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0});var face_landmarks_connections={};Object.defineProperty(face_landmarks_connections,"__esModule",{value:!0}),face_landmarks_connections.FaceLandmarksConnections=void 0;class FaceLandmarksConnections$1{}face_landmarks_connections.FaceLandmarksConnections=FaceLandmarksConnections$1,FaceLandmarksConnections$1.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],FaceLandmarksConnections$1.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],FaceLandmarksConnections$1.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],FaceLandmarksConnections$1.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],FaceLandmarksConnections$1.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],FaceLandmarksConnections$1.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],FaceLandmarksConnections$1.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],FaceLandmarksConnections$1.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],FaceLandmarksConnections$1.FACE_LANDMARKS_CONTOURS=[...FaceLandmarksConnections$1.FACE_LANDMARKS_LIPS,...FaceLandmarksConnections$1.FACE_LANDMARKS_LEFT_EYE,...FaceLandmarksConnections$1.FACE_LANDMARKS_LEFT_EYEBROW,...FaceLandmarksConnections$1.FACE_LANDMARKS_RIGHT_EYE,...FaceLandmarksConnections$1.FACE_LANDMARKS_RIGHT_EYEBROW,...FaceLandmarksConnections$1.FACE_LANDMARKS_FACE_OVAL],FaceLandmarksConnections$1.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}],function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Mr,Fr,Tr,Er){Er===void 0&&(Er=Tr);var Rr=Object.getOwnPropertyDescriptor(Fr,Tr);Rr&&!("get"in Rr?!Fr.__esModule:Rr.writable||Rr.configurable)||(Rr={enumerable:!0,get:function(){return Fr[Tr]}}),Object.defineProperty(Mr,Er,Rr)}:function(Mr,Fr,Tr,Er){Er===void 0&&(Er=Tr),Mr[Er]=Fr[Tr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(Mr,Fr){for(var Tr in Mr)Tr==="default"||Object.prototype.hasOwnProperty.call(Fr,Tr)||e(Fr,Mr,Tr)};Object.defineProperty(n,"__esModule",{value:!0}),n.FaceLandmarker=void 0;const i=calculator_pb,o=calculator_options_pb,s=classification_pb,l=landmark_pb,c=base_options_pb,w=face_detector_graph_options_pb,er=face_geometry_pb,nr=face_landmarker_graph_options_pb,rr=face_landmarks_detector_graph_options_pb,or=classifier_result,sr=vision_task_runner;t(face_landmarker_options,n),t(face_landmarker_result,n),t(face_landmarks_connections,n);const dr="image_in",hr="norm_rect",gr="face_landmarks",mr="blendshapes",vr="face_geometry",Sr=.5;class Ar extends sr.VisionTaskRunner{static createFromOptions(Fr,Tr){return sr.VisionTaskRunner.createVisionInstance(Ar,Fr,Tr)}static createFromModelBuffer(Fr,Tr){return sr.VisionTaskRunner.createVisionInstance(Ar,Fr,{baseOptions:{modelAssetBuffer:Tr}})}static createFromModelPath(Fr,Tr){return sr.VisionTaskRunner.createVisionInstance(Ar,Fr,{baseOptions:{modelAssetPath:Tr}})}constructor(Fr,Tr){super(new sr.VisionGraphRunner(Fr,Tr),dr,hr,!1),this.result={faceLandmarks:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new nr.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new c.BaseOptions),this.faceLandmarksDetectorGraphOptions=new rr.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new w.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(Fr){this.options.setBaseOptions(Fr)}setOptions(Fr){var Tr,Er,Rr,wr;return"numFaces"in Fr&&this.faceDetectorGraphOptions.setNumFaces((Tr=Fr.numFaces)!==null&&Tr!==void 0?Tr:1),"minFaceDetectionConfidence"in Fr&&this.faceDetectorGraphOptions.setMinDetectionConfidence((Er=Fr.minFaceDetectionConfidence)!==null&&Er!==void 0?Er:Sr),"minTrackingConfidence"in Fr&&this.options.setMinTrackingConfidence((Rr=Fr.minTrackingConfidence)!==null&&Rr!==void 0?Rr:Sr),"minFacePresenceConfidence"in Fr&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence((wr=Fr.minFacePresenceConfidence)!==null&&wr!==void 0?wr:Sr),"outputFaceBlendshapes"in Fr&&(this.outputFaceBlendshapes=!!Fr.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in Fr&&(this.outputFacialTransformationMatrixes=!!Fr.outputFacialTransformationMatrixes),this.applyOptions(Fr)}detect(Fr,Tr){return this.resetResults(),this.processImageData(Fr,Tr),this.result}detectForVideo(Fr,Tr,Er){return this.resetResults(),this.processVideoData(Fr,Er,Tr),this.result}resetResults(){this.result={faceLandmarks:[]},this.outputFaceBlendshapes&&(this.result.faceBlendshapes=[]),this.outputFacialTransformationMatrixes&&(this.result.facialTransformationMatrixes=[])}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(Sr),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(Sr),this.options.setMinTrackingConfidence(Sr)}addJsLandmarks(Fr){var Tr,Er,Rr;for(const wr of Fr){const Or=l.NormalizedLandmarkList.deserializeBinary(wr),kr=[];for(const Cr of Or.getLandmarkList())kr.push({x:(Tr=Cr.getX())!==null&&Tr!==void 0?Tr:0,y:(Er=Cr.getY())!==null&&Er!==void 0?Er:0,z:(Rr=Cr.getZ())!==null&&Rr!==void 0?Rr:0});this.result.faceLandmarks.push(kr)}}addBlenshape(Fr){var Tr;if(this.result.faceBlendshapes)for(const Er of Fr){const Rr=s.ClassificationList.deserializeBinary(Er);this.result.faceBlendshapes.push((0,or.convertFromClassifications)((Tr=Rr.getClassificationList())!==null&&Tr!==void 0?Tr:[]))}}addFacialTransformationMatrixes(Fr){var Tr,Er,Rr;if(this.result.facialTransformationMatrixes)for(const wr of Fr){const Or=er.FaceGeometry.deserializeBinary(wr).getPoseTransformMatrix();Or&&this.result.facialTransformationMatrixes.push({rows:(Tr=Or.getRows())!==null&&Tr!==void 0?Tr:0,columns:(Er=Or.getCols())!==null&&Er!==void 0?Er:0,data:(Rr=Or.getPackedDataList())!==null&&Rr!==void 0?Rr:[]})}}refreshGraph(){const Fr=new i.CalculatorGraphConfig;Fr.addInputStream(dr),Fr.addInputStream(hr),Fr.addOutputStream(gr);const Tr=new o.CalculatorOptions;Tr.setExtension(nr.FaceLandmarkerGraphOptions.ext,this.options);const Er=new i.CalculatorGraphConfig.Node;Er.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Er.addInputStream("IMAGE:"+dr),Er.addInputStream("NORM_RECT:"+hr),Er.addOutputStream("NORM_LANDMARKS:"+gr),Er.setOptions(Tr),Fr.addNode(Er),this.graphRunner.attachProtoVectorListener(gr,(wr,Or)=>{this.addJsLandmarks(wr),this.setLatestOutputTimestamp(Or)}),this.graphRunner.attachEmptyPacketListener(gr,wr=>{this.setLatestOutputTimestamp(wr)}),this.outputFaceBlendshapes&&(Fr.addOutputStream(mr),Er.addOutputStream("BLENDSHAPES:"+mr),this.graphRunner.attachProtoVectorListener(mr,(wr,Or)=>{this.addBlenshape(wr),this.setLatestOutputTimestamp(Or)}),this.graphRunner.attachEmptyPacketListener(mr,wr=>{this.setLatestOutputTimestamp(wr)})),this.outputFacialTransformationMatrixes&&(Fr.addOutputStream(vr),Er.addOutputStream("FACE_GEOMETRY:"+vr),this.graphRunner.attachProtoVectorListener(vr,(wr,Or)=>{this.addFacialTransformationMatrixes(wr),this.setLatestOutputTimestamp(Or)}),this.graphRunner.attachEmptyPacketListener(vr,wr=>{this.setLatestOutputTimestamp(wr)}));const Rr=Fr.serializeBinary();this.setGraph(new Uint8Array(Rr),!0)}}n.FaceLandmarker=Ar}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,i),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er)};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)if(w.getFieldNumber()===1){var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er)}else w.skipField();return c},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(c,w){var er;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.face_stylizer.proto)})(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(or,sr,dr,hr){hr===void 0&&(hr=dr);var gr=Object.getOwnPropertyDescriptor(sr,dr);gr&&!("get"in gr?!sr.__esModule:gr.writable||gr.configurable)||(gr={enumerable:!0,get:function(){return sr[dr]}}),Object.defineProperty(or,hr,gr)}:function(or,sr,dr,hr){hr===void 0&&(hr=dr),or[hr]=sr[dr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(or,sr){for(var dr in or)dr==="default"||Object.prototype.hasOwnProperty.call(sr,dr)||e(sr,or,dr)};Object.defineProperty(n,"__esModule",{value:!0}),n.FaceStylizer=void 0;const i=calculator_pb,o=calculator_options_pb,s=base_options_pb,l=face_stylizer_graph_options_pb,c=vision_task_runner;t(face_stylizer_options,n);const w="image_in",er="norm_rect",nr="stylized_image";class rr extends c.VisionTaskRunner{static createFromOptions(sr,dr){return c.VisionTaskRunner.createVisionInstance(rr,sr,dr)}static createFromModelBuffer(sr,dr){return c.VisionTaskRunner.createVisionInstance(rr,sr,{baseOptions:{modelAssetBuffer:dr}})}static createFromModelPath(sr,dr){return c.VisionTaskRunner.createVisionInstance(rr,sr,{baseOptions:{modelAssetPath:dr}})}constructor(sr,dr){super(new c.VisionGraphRunner(sr,dr),w,er,!0),this.userCallback=()=>{},this.options=new l.FaceStylizerGraphOptions,this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(sr){this.options.setBaseOptions(sr)}setOptions(sr){return super.applyOptions(sr)}stylize(sr,dr,hr){const gr=typeof dr!="function"?dr:{};this.userCallback=typeof dr=="function"?dr:hr,this.processImageData(sr,gr??{}),this.userCallback=()=>{}}stylizeForVideo(sr,dr,hr,gr){const mr=typeof dr!="number"?dr:{},vr=typeof dr=="number"?dr:hr;this.userCallback=typeof hr=="function"?hr:gr,this.processVideoData(sr,mr,vr),this.userCallback=()=>{}}refreshGraph(){const sr=new i.CalculatorGraphConfig;sr.addInputStream(w),sr.addInputStream(er),sr.addOutputStream(nr);const dr=new o.CalculatorOptions;dr.setExtension(l.FaceStylizerGraphOptions.ext,this.options);const hr=new i.CalculatorGraphConfig.Node;hr.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),hr.addInputStream("IMAGE:"+w),hr.addInputStream("NORM_RECT:"+er),hr.addOutputStream("STYLIZED_IMAGE:"+nr),hr.setOptions(dr),sr.addNode(hr),this.graphRunner.attachImageListener(nr,(mr,vr)=>{const Sr=this.convertToImageData(mr);this.userCallback(Sr,mr.width,mr.height),this.setLatestOutputTimestamp(vr)}),this.graphRunner.attachEmptyPacketListener(nr,mr=>{this.setLatestOutputTimestamp(mr)});const gr=sr.serializeBinary();this.setGraph(new Uint8Array(gr),!0)}}n.FaceStylizer=rr}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,i),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(o,s){var l,c={displayNamesLocale:e.Message.getFieldWithDefault(s,1,"en"),maxResults:e.Message.getFieldWithDefault(s,2,-1),scoreThreshold:(l=e.Message.getOptionalFloatingPointField(s,3))==null?void 0:l,categoryAllowlistList:(l=e.Message.getRepeatedField(s,4))==null?void 0:l,categoryDenylistList:(l=e.Message.getRepeatedField(s,5))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readString();o.setDisplayNamesLocale(l);break;case 2:l=s.readInt32(),o.setMaxResults(l);break;case 3:l=s.readFloat(),o.setScoreThreshold(l);break;case 4:l=s.readString(),o.addCategoryAllowlist(l);break;case 5:l=s.readString(),o.addCategoryDenylist(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeString(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt32(2,l),(l=e.Message.getField(o,3))!=null&&s.writeFloat(3,l),(l=o.getCategoryAllowlistList()).length>0&&s.writeRepeatedString(4,l),(l=o.getCategoryDenylistList()).length>0&&s.writeRepeatedString(5,l)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(o,s){return e.Message.addToRepeatedField(this,4,o,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(o){return e.Message.setField(this,5,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(o,s){return e.Message.addToRepeatedField(this,5,o,s)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},t.object.extend(n,proto.mediapipe.tasks.components.processors.proto)})(classifier_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=classifier_options_pb;t.object.extend(proto,l);var c=base_options_pb;t.object.extend(proto,c),t.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,i),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(w){e.Message.initialize(this,w,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(w){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(w,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(w,er){var nr,rr={baseOptions:(nr=er.getBaseOptions())&&c.BaseOptions.toObject(w,nr),classifierOptions:(nr=er.getClassifierOptions())&&l.ClassifierOptions.toObject(w,nr)};return w&&(rr.$jspbMessageInstance=er),rr}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(w){var er=new e.BinaryReader(w),nr=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(nr,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(w,er){for(;er.nextField()&&!er.isEndGroup();)switch(er.getFieldNumber()){case 1:var nr=new c.BaseOptions;er.readMessage(nr,c.BaseOptions.deserializeBinaryFromReader),w.setBaseOptions(nr);break;case 2:nr=new l.ClassifierOptions,er.readMessage(nr,l.ClassifierOptions.deserializeBinaryFromReader),w.setClassifierOptions(nr);break;default:er.skipField()}return w},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var w=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,w),w.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(w,er){var nr=void 0;(nr=w.getBaseOptions())!=null&&er.writeMessage(1,nr,c.BaseOptions.serializeBinaryToWriter),(nr=w.getClassifierOptions())!=null&&er.writeMessage(2,nr,l.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(w){return e.Message.setWrapperField(this,1,w)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,l.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(w){return e.Message.setWrapperField(this,2,w)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,i),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er)};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)if(w.getFieldNumber()===1){var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er)}else w.skipField();return c},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(c,w){var er;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.gesture_recognizer.proto)})(gesture_embedder_graph_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=gesture_classifier_graph_options_pb;t.object.extend(proto,c);var w=gesture_embedder_graph_options_pb;t.object.extend(proto,w),t.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,i),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(er){e.Message.initialize(this,er,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(er){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(er,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(er,nr){var rr,or={baseOptions:(rr=nr.getBaseOptions())&&l.BaseOptions.toObject(er,rr),gestureEmbedderGraphOptions:(rr=nr.getGestureEmbedderGraphOptions())&&w.GestureEmbedderGraphOptions.toObject(er,rr),cannedGestureClassifierGraphOptions:(rr=nr.getCannedGestureClassifierGraphOptions())&&c.GestureClassifierGraphOptions.toObject(er,rr),customGestureClassifierGraphOptions:(rr=nr.getCustomGestureClassifierGraphOptions())&&c.GestureClassifierGraphOptions.toObject(er,rr)};return er&&(or.$jspbMessageInstance=nr),or}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(er){var nr=new e.BinaryReader(er),rr=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(rr,nr)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(er,nr){for(;nr.nextField()&&!nr.isEndGroup();)switch(nr.getFieldNumber()){case 1:var rr=new l.BaseOptions;nr.readMessage(rr,l.BaseOptions.deserializeBinaryFromReader),er.setBaseOptions(rr);break;case 2:rr=new w.GestureEmbedderGraphOptions,nr.readMessage(rr,w.GestureEmbedderGraphOptions.deserializeBinaryFromReader),er.setGestureEmbedderGraphOptions(rr);break;case 3:rr=new c.GestureClassifierGraphOptions,nr.readMessage(rr,c.GestureClassifierGraphOptions.deserializeBinaryFromReader),er.setCannedGestureClassifierGraphOptions(rr);break;case 4:rr=new c.GestureClassifierGraphOptions,nr.readMessage(rr,c.GestureClassifierGraphOptions.deserializeBinaryFromReader),er.setCustomGestureClassifierGraphOptions(rr);break;default:nr.skipField()}return er},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var er=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,er),er.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(er,nr){var rr=void 0;(rr=er.getBaseOptions())!=null&&nr.writeMessage(1,rr,l.BaseOptions.serializeBinaryToWriter),(rr=er.getGestureEmbedderGraphOptions())!=null&&nr.writeMessage(2,rr,w.GestureEmbedderGraphOptions.serializeBinaryToWriter),(rr=er.getCannedGestureClassifierGraphOptions())!=null&&nr.writeMessage(3,rr,c.GestureClassifierGraphOptions.serializeBinaryToWriter),(rr=er.getCustomGestureClassifierGraphOptions())!=null&&nr.writeMessage(4,rr,c.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(er){return e.Message.setWrapperField(this,1,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return e.Message.getWrapperField(this,w.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(er){return e.Message.setWrapperField(this,2,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,c.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(er){return e.Message.setWrapperField(this,3,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,c.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(er){return e.Message.setWrapperField(this,4,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,i),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(w,2,.5),numHands:(er=e.Message.getField(w,3))==null?void 0:er};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er);break;case 2:er=w.readFloat(),c.setMinDetectionConfidence(er);break;case 3:er=w.readInt32(),c.setNumHands(er);break;default:w.skipField()}return c},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(c,w){var er=void 0;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter),(er=e.Message.getField(c,2))!=null&&w.writeFloat(2,er),(er=e.Message.getField(c,3))!=null&&w.writeInt32(3,er)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.hand_detector.proto)})(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,i),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(c,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(w,2,.5)};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er);break;case 2:er=w.readFloat(),c.setMinDetectionConfidence(er);break;default:w.skipField()}return c},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(c,w){var er=void 0;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter),(er=e.Message.getField(c,2))!=null&&w.writeFloat(2,er)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.hand_landmarker.proto)})(hand_landmarks_detector_graph_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=hand_detector_graph_options_pb;t.object.extend(proto,c);var w=hand_landmarks_detector_graph_options_pb;t.object.extend(proto,w),t.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,i),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(er){e.Message.initialize(this,er,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(er){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(er,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(er,nr){var rr,or={baseOptions:(rr=nr.getBaseOptions())&&l.BaseOptions.toObject(er,rr),handDetectorGraphOptions:(rr=nr.getHandDetectorGraphOptions())&&c.HandDetectorGraphOptions.toObject(er,rr),handLandmarksDetectorGraphOptions:(rr=nr.getHandLandmarksDetectorGraphOptions())&&w.HandLandmarksDetectorGraphOptions.toObject(er,rr),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(nr,4,.5)};return er&&(or.$jspbMessageInstance=nr),or}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(er){var nr=new e.BinaryReader(er),rr=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(rr,nr)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(er,nr){for(;nr.nextField()&&!nr.isEndGroup();)switch(nr.getFieldNumber()){case 1:var rr=new l.BaseOptions;nr.readMessage(rr,l.BaseOptions.deserializeBinaryFromReader),er.setBaseOptions(rr);break;case 2:rr=new c.HandDetectorGraphOptions,nr.readMessage(rr,c.HandDetectorGraphOptions.deserializeBinaryFromReader),er.setHandDetectorGraphOptions(rr);break;case 3:rr=new w.HandLandmarksDetectorGraphOptions,nr.readMessage(rr,w.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),er.setHandLandmarksDetectorGraphOptions(rr);break;case 4:rr=nr.readFloat(),er.setMinTrackingConfidence(rr);break;default:nr.skipField()}return er},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var er=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,er),er.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(er,nr){var rr=void 0;(rr=er.getBaseOptions())!=null&&nr.writeMessage(1,rr,l.BaseOptions.serializeBinaryToWriter),(rr=er.getHandDetectorGraphOptions())!=null&&nr.writeMessage(2,rr,c.HandDetectorGraphOptions.serializeBinaryToWriter),(rr=er.getHandLandmarksDetectorGraphOptions())!=null&&nr.writeMessage(3,rr,w.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),(rr=e.Message.getField(er,4))!=null&&nr.writeFloat(4,rr)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(er){return e.Message.setWrapperField(this,1,er)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return e.Message.getWrapperField(this,c.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(er){return e.Message.setWrapperField(this,2,er)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,w.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(er){return e.Message.setWrapperField(this,3,er)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(er){return e.Message.setField(this,4,er)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=hand_gesture_recognizer_graph_options_pb;t.object.extend(proto,c);var w=hand_landmarker_graph_options_pb;t.object.extend(proto,w),t.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,i),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(er){e.Message.initialize(this,er,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(er){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(er,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(er,nr){var rr,or={baseOptions:(rr=nr.getBaseOptions())&&l.BaseOptions.toObject(er,rr),handLandmarkerGraphOptions:(rr=nr.getHandLandmarkerGraphOptions())&&w.HandLandmarkerGraphOptions.toObject(er,rr),handGestureRecognizerGraphOptions:(rr=nr.getHandGestureRecognizerGraphOptions())&&c.HandGestureRecognizerGraphOptions.toObject(er,rr)};return er&&(or.$jspbMessageInstance=nr),or}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(er){var nr=new e.BinaryReader(er),rr=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(rr,nr)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(er,nr){for(;nr.nextField()&&!nr.isEndGroup();)switch(nr.getFieldNumber()){case 1:var rr=new l.BaseOptions;nr.readMessage(rr,l.BaseOptions.deserializeBinaryFromReader),er.setBaseOptions(rr);break;case 2:rr=new w.HandLandmarkerGraphOptions,nr.readMessage(rr,w.HandLandmarkerGraphOptions.deserializeBinaryFromReader),er.setHandLandmarkerGraphOptions(rr);break;case 3:rr=new c.HandGestureRecognizerGraphOptions,nr.readMessage(rr,c.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),er.setHandGestureRecognizerGraphOptions(rr);break;default:nr.skipField()}return er},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var er=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,er),er.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(er,nr){var rr=void 0;(rr=er.getBaseOptions())!=null&&nr.writeMessage(1,rr,l.BaseOptions.serializeBinaryToWriter),(rr=er.getHandLandmarkerGraphOptions())!=null&&nr.writeMessage(2,rr,w.HandLandmarkerGraphOptions.serializeBinaryToWriter),(rr=er.getHandGestureRecognizerGraphOptions())!=null&&nr.writeMessage(3,rr,c.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(er){return e.Message.setWrapperField(this,1,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,w.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(er){return e.Message.setWrapperField(this,2,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return e.Message.getWrapperField(this,c.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(er){return e.Message.setWrapperField(this,3,er)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(n,e){const t=e?e.clone():new classifier_options_pb_1.ClassifierOptions;return n.displayNamesLocale!==void 0?t.setDisplayNamesLocale(n.displayNamesLocale):n.displayNamesLocale===void 0&&t.clearDisplayNamesLocale(),n.maxResults!==void 0?t.setMaxResults(n.maxResults):"maxResults"in n&&t.clearMaxResults(),n.scoreThreshold!==void 0?t.setScoreThreshold(n.scoreThreshold):"scoreThreshold"in n&&t.clearScoreThreshold(),n.categoryAllowlist!==void 0?t.setCategoryAllowlistList(n.categoryAllowlist):"categoryAllowlist"in n&&t.clearCategoryAllowlistList(),n.categoryDenylist!==void 0?t.setCategoryDenylistList(n.categoryDenylist):"categoryDenylist"in n&&t.clearCategoryDenylistList(),t}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Er,Rr,wr,Or){Or===void 0&&(Or=wr);var kr=Object.getOwnPropertyDescriptor(Rr,wr);kr&&!("get"in kr?!Rr.__esModule:kr.writable||kr.configurable)||(kr={enumerable:!0,get:function(){return Rr[wr]}}),Object.defineProperty(Er,Or,kr)}:function(Er,Rr,wr,Or){Or===void 0&&(Or=wr),Er[Or]=Rr[wr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(Er,Rr){for(var wr in Er)wr==="default"||Object.prototype.hasOwnProperty.call(Rr,wr)||e(Rr,Er,wr)};Object.defineProperty(n,"__esModule",{value:!0}),n.GestureRecognizer=void 0;const i=calculator_pb,o=calculator_options_pb,s=classification_pb,l=landmark_pb,c=base_options_pb,w=gesture_classifier_graph_options_pb,er=gesture_recognizer_graph_options_pb,nr=hand_gesture_recognizer_graph_options_pb,rr=hand_detector_graph_options_pb,or=hand_landmarker_graph_options_pb,sr=hand_landmarks_detector_graph_options_pb,dr=classifier_options,hr=vision_task_runner;t(gesture_recognizer_options,n),t(gesture_recognizer_result,n);const gr="image_in",mr="norm_rect",vr="hand_gestures",Sr="hand_landmarks",Ar="world_hand_landmarks",Mr="handedness",Fr=.5;class Tr extends hr.VisionTaskRunner{static createFromOptions(Rr,wr){return hr.VisionTaskRunner.createVisionInstance(Tr,Rr,wr)}static createFromModelBuffer(Rr,wr){return hr.VisionTaskRunner.createVisionInstance(Tr,Rr,{baseOptions:{modelAssetBuffer:wr}})}static createFromModelPath(Rr,wr){return hr.VisionTaskRunner.createVisionInstance(Tr,Rr,{baseOptions:{modelAssetPath:wr}})}constructor(Rr,wr){super(new hr.VisionGraphRunner(Rr,wr),gr,mr,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new er.GestureRecognizerGraphOptions,this.options.setBaseOptions(new c.BaseOptions),this.handLandmarkerGraphOptions=new or.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new sr.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new rr.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new nr.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(Fr),this.handLandmarkerGraphOptions.setMinTrackingConfidence(Fr),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(Fr)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(Rr){this.options.setBaseOptions(Rr)}setOptions(Rr){var wr,Or,kr,Cr,gn,hn,Xr,dn;if(this.handDetectorGraphOptions.setNumHands((wr=Rr.numHands)!==null&&wr!==void 0?wr:1),"minHandDetectionConfidence"in Rr&&this.handDetectorGraphOptions.setMinDetectionConfidence((Or=Rr.minHandDetectionConfidence)!==null&&Or!==void 0?Or:Fr),"minTrackingConfidence"in Rr&&this.handLandmarkerGraphOptions.setMinTrackingConfidence((kr=Rr.minTrackingConfidence)!==null&&kr!==void 0?kr:Fr),"minHandPresenceConfidence"in Rr&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((Cr=Rr.minHandPresenceConfidence)!==null&&Cr!==void 0?Cr:Fr),Rr.cannedGesturesClassifierOptions){const Wr=new w.GestureClassifierGraphOptions;Wr.setClassifierOptions((0,dr.convertClassifierOptionsToProto)(Rr.cannedGesturesClassifierOptions,(gn=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||gn===void 0?void 0:gn.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(Wr)}else Rr.cannedGesturesClassifierOptions===void 0&&((hn=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||hn===void 0||hn.clearClassifierOptions());if(Rr.customGesturesClassifierOptions){const Wr=new w.GestureClassifierGraphOptions;Wr.setClassifierOptions((0,dr.convertClassifierOptionsToProto)(Rr.customGesturesClassifierOptions,(Xr=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||Xr===void 0?void 0:Xr.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(Wr)}else Rr.customGesturesClassifierOptions===void 0&&((dn=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||dn===void 0||dn.clearClassifierOptions());return this.applyOptions(Rr)}recognize(Rr,wr){return this.resetResults(),this.processImageData(Rr,wr),this.processResults()}recognizeForVideo(Rr,wr,Or){return this.resetResults(),this.processVideoData(Rr,Or,wr),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return this.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(Rr,wr=!0){var Or,kr,Cr;const gn=[];for(const hn of Rr){const Xr=s.ClassificationList.deserializeBinary(hn),dn=[];for(const Wr of Xr.getClassificationList()){const Jr=wr&&Wr.hasIndex()?Wr.getIndex():-1;dn.push({score:(Or=Wr.getScore())!==null&&Or!==void 0?Or:0,index:Jr,categoryName:(kr=Wr.getLabel())!==null&&kr!==void 0?kr:"",displayName:(Cr=Wr.getDisplayName())!==null&&Cr!==void 0?Cr:""})}gn.push(dn)}return gn}addJsLandmarks(Rr){var wr,Or,kr;for(const Cr of Rr){const gn=l.NormalizedLandmarkList.deserializeBinary(Cr),hn=[];for(const Xr of gn.getLandmarkList())hn.push({x:(wr=Xr.getX())!==null&&wr!==void 0?wr:0,y:(Or=Xr.getY())!==null&&Or!==void 0?Or:0,z:(kr=Xr.getZ())!==null&&kr!==void 0?kr:0});this.landmarks.push(hn)}}adddJsWorldLandmarks(Rr){var wr,Or,kr;for(const Cr of Rr){const gn=l.LandmarkList.deserializeBinary(Cr),hn=[];for(const Xr of gn.getLandmarkList())hn.push({x:(wr=Xr.getX())!==null&&wr!==void 0?wr:0,y:(Or=Xr.getY())!==null&&Or!==void 0?Or:0,z:(kr=Xr.getZ())!==null&&kr!==void 0?kr:0});this.worldLandmarks.push(hn)}}refreshGraph(){const Rr=new i.CalculatorGraphConfig;Rr.addInputStream(gr),Rr.addInputStream(mr),Rr.addOutputStream(vr),Rr.addOutputStream(Sr),Rr.addOutputStream(Ar),Rr.addOutputStream(Mr);const wr=new o.CalculatorOptions;wr.setExtension(er.GestureRecognizerGraphOptions.ext,this.options);const Or=new i.CalculatorGraphConfig.Node;Or.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Or.addInputStream("IMAGE:"+gr),Or.addInputStream("NORM_RECT:"+mr),Or.addOutputStream("HAND_GESTURES:"+vr),Or.addOutputStream("LANDMARKS:"+Sr),Or.addOutputStream("WORLD_LANDMARKS:"+Ar),Or.addOutputStream("HANDEDNESS:"+Mr),Or.setOptions(wr),Rr.addNode(Or),this.graphRunner.attachProtoVectorListener(Sr,(Cr,gn)=>{this.addJsLandmarks(Cr),this.setLatestOutputTimestamp(gn)}),this.graphRunner.attachEmptyPacketListener(Sr,Cr=>{this.setLatestOutputTimestamp(Cr)}),this.graphRunner.attachProtoVectorListener(Ar,(Cr,gn)=>{this.adddJsWorldLandmarks(Cr),this.setLatestOutputTimestamp(gn)}),this.graphRunner.attachEmptyPacketListener(Ar,Cr=>{this.setLatestOutputTimestamp(Cr)}),this.graphRunner.attachProtoVectorListener(vr,(Cr,gn)=>{this.gestures.push(...this.toJsCategories(Cr,!1)),this.setLatestOutputTimestamp(gn)}),this.graphRunner.attachEmptyPacketListener(vr,Cr=>{this.setLatestOutputTimestamp(Cr)}),this.graphRunner.attachProtoVectorListener(Mr,(Cr,gn)=>{this.handednesses.push(...this.toJsCategories(Cr)),this.setLatestOutputTimestamp(gn)}),this.graphRunner.attachEmptyPacketListener(Mr,Cr=>{this.setLatestOutputTimestamp(Cr)});const kr=Rr.serializeBinary();this.setGraph(new Uint8Array(kr),!0)}}n.GestureRecognizer=Tr}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Sr,Ar,Mr,Fr){Fr===void 0&&(Fr=Mr);var Tr=Object.getOwnPropertyDescriptor(Ar,Mr);Tr&&!("get"in Tr?!Ar.__esModule:Tr.writable||Tr.configurable)||(Tr={enumerable:!0,get:function(){return Ar[Mr]}}),Object.defineProperty(Sr,Fr,Tr)}:function(Sr,Ar,Mr,Fr){Fr===void 0&&(Fr=Mr),Sr[Fr]=Ar[Mr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(Sr,Ar){for(var Mr in Sr)Mr==="default"||Object.prototype.hasOwnProperty.call(Ar,Mr)||e(Ar,Sr,Mr)};Object.defineProperty(n,"__esModule",{value:!0}),n.HandLandmarker=void 0;const i=calculator_pb,o=calculator_options_pb,s=classification_pb,l=landmark_pb,c=base_options_pb,w=hand_detector_graph_options_pb,er=hand_landmarker_graph_options_pb,nr=hand_landmarks_detector_graph_options_pb,rr=vision_task_runner;t(hand_landmarker_options,n),t(hand_landmarker_result,n);const or="image_in",sr="norm_rect",dr="hand_landmarks",hr="world_hand_landmarks",gr="handedness",mr=.5;class vr extends rr.VisionTaskRunner{static createFromOptions(Ar,Mr){return rr.VisionTaskRunner.createVisionInstance(vr,Ar,Mr)}static createFromModelBuffer(Ar,Mr){return rr.VisionTaskRunner.createVisionInstance(vr,Ar,{baseOptions:{modelAssetBuffer:Mr}})}static createFromModelPath(Ar,Mr){return rr.VisionTaskRunner.createVisionInstance(vr,Ar,{baseOptions:{modelAssetPath:Mr}})}constructor(Ar,Mr){super(new rr.VisionGraphRunner(Ar,Mr),or,sr,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new er.HandLandmarkerGraphOptions,this.options.setBaseOptions(new c.BaseOptions),this.handLandmarksDetectorGraphOptions=new nr.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new w.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(Ar){this.options.setBaseOptions(Ar)}setOptions(Ar){var Mr,Fr,Tr,Er;return"numHands"in Ar&&this.handDetectorGraphOptions.setNumHands((Mr=Ar.numHands)!==null&&Mr!==void 0?Mr:1),"minHandDetectionConfidence"in Ar&&this.handDetectorGraphOptions.setMinDetectionConfidence((Fr=Ar.minHandDetectionConfidence)!==null&&Fr!==void 0?Fr:mr),"minTrackingConfidence"in Ar&&this.options.setMinTrackingConfidence((Tr=Ar.minTrackingConfidence)!==null&&Tr!==void 0?Tr:mr),"minHandPresenceConfidence"in Ar&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((Er=Ar.minHandPresenceConfidence)!==null&&Er!==void 0?Er:mr),this.applyOptions(Ar)}detect(Ar,Mr){return this.resetResults(),this.processImageData(Ar,Mr),this.processResults()}detectForVideo(Ar,Mr,Fr){return this.resetResults(),this.processVideoData(Ar,Fr,Mr),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(mr),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(mr),this.options.setMinTrackingConfidence(mr)}toJsCategories(Ar){var Mr,Fr,Tr,Er;const Rr=[];for(const wr of Ar){const Or=s.ClassificationList.deserializeBinary(wr),kr=[];for(const Cr of Or.getClassificationList())kr.push({score:(Mr=Cr.getScore())!==null&&Mr!==void 0?Mr:0,index:(Fr=Cr.getIndex())!==null&&Fr!==void 0?Fr:-1,categoryName:(Tr=Cr.getLabel())!==null&&Tr!==void 0?Tr:"",displayName:(Er=Cr.getDisplayName())!==null&&Er!==void 0?Er:""});Rr.push(kr)}return Rr}addJsLandmarks(Ar){var Mr,Fr,Tr;for(const Er of Ar){const Rr=l.NormalizedLandmarkList.deserializeBinary(Er),wr=[];for(const Or of Rr.getLandmarkList())wr.push({x:(Mr=Or.getX())!==null&&Mr!==void 0?Mr:0,y:(Fr=Or.getY())!==null&&Fr!==void 0?Fr:0,z:(Tr=Or.getZ())!==null&&Tr!==void 0?Tr:0});this.landmarks.push(wr)}}adddJsWorldLandmarks(Ar){var Mr,Fr,Tr;for(const Er of Ar){const Rr=l.LandmarkList.deserializeBinary(Er),wr=[];for(const Or of Rr.getLandmarkList())wr.push({x:(Mr=Or.getX())!==null&&Mr!==void 0?Mr:0,y:(Fr=Or.getY())!==null&&Fr!==void 0?Fr:0,z:(Tr=Or.getZ())!==null&&Tr!==void 0?Tr:0});this.worldLandmarks.push(wr)}}refreshGraph(){const Ar=new i.CalculatorGraphConfig;Ar.addInputStream(or),Ar.addInputStream(sr),Ar.addOutputStream(dr),Ar.addOutputStream(hr),Ar.addOutputStream(gr);const Mr=new o.CalculatorOptions;Mr.setExtension(er.HandLandmarkerGraphOptions.ext,this.options);const Fr=new i.CalculatorGraphConfig.Node;Fr.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Fr.addInputStream("IMAGE:"+or),Fr.addInputStream("NORM_RECT:"+sr),Fr.addOutputStream("LANDMARKS:"+dr),Fr.addOutputStream("WORLD_LANDMARKS:"+hr),Fr.addOutputStream("HANDEDNESS:"+gr),Fr.setOptions(Mr),Ar.addNode(Fr),this.graphRunner.attachProtoVectorListener(dr,(Er,Rr)=>{this.addJsLandmarks(Er),this.setLatestOutputTimestamp(Rr)}),this.graphRunner.attachEmptyPacketListener(dr,Er=>{this.setLatestOutputTimestamp(Er)}),this.graphRunner.attachProtoVectorListener(hr,(Er,Rr)=>{this.adddJsWorldLandmarks(Er),this.setLatestOutputTimestamp(Rr)}),this.graphRunner.attachEmptyPacketListener(hr,Er=>{this.setLatestOutputTimestamp(Er)}),this.graphRunner.attachProtoVectorListener(gr,(Er,Rr)=>{this.handednesses.push(...this.toJsCategories(Er)),this.setLatestOutputTimestamp(Rr)}),this.graphRunner.attachEmptyPacketListener(gr,Er=>{this.setLatestOutputTimestamp(Er)});const Tr=Ar.serializeBinary();this.setGraph(new Uint8Array(Tr),!0)}}n.HandLandmarker=vr}(hand_landmarker);var image_classifier={},classifications_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=classification_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,i),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,i),proto.mediapipe.tasks.components.containers.proto.Classifications=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(s){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(s,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(s,l){var c,w={classificationList:(c=l.getClassificationList())&&o.ClassificationList.toObject(s,c),headIndex:(c=e.Message.getField(l,2))==null?void 0:c,headName:(c=e.Message.getField(l,3))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(c,l)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 4:var c=new o.ClassificationList;l.readMessage(c,o.ClassificationList.deserializeBinaryFromReader),s.setClassificationList(c);break;case 2:c=l.readInt32(),s.setHeadIndex(c);break;case 3:c=l.readString(),s.setHeadName(c);break;default:l.skipField()}return s},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getClassificationList())!=null&&l.writeMessage(4,c,o.ClassificationList.serializeBinaryToWriter),(c=e.Message.getField(s,2))!=null&&l.writeInt32(2,c),(c=e.Message.getField(s,3))!=null&&l.writeString(3,c)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return e.Message.getWrapperField(this,o.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(s){return e.Message.setWrapperField(this,4,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(s){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(s,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(s,l){var c,w={classificationsList:e.Message.toObjectList(l.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,s),timestampMs:(c=e.Message.getField(l,2))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(c,l)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.tasks.components.containers.proto.Classifications;l.readMessage(c,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),s.addClassifications(c);break;case 2:c=l.readInt64(),s.setTimestampMs(c);break;default:l.skipField()}return s},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getClassificationsList()).length>0&&l.writeRepeatedMessage(1,c,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),(c=e.Message.getField(s,2))!=null&&l.writeInt64(2,c)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(s,l){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.tasks.components.containers.proto.Classifications,l)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.components.containers.proto)})(classifications_pb);var image_classifier_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=classifier_options_pb;t.object.extend(proto,l);var c=base_options_pb;t.object.extend(proto,c),t.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,i),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(w){e.Message.initialize(this,w,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(w){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(w,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(w,er){var nr,rr={baseOptions:(nr=er.getBaseOptions())&&c.BaseOptions.toObject(w,nr),classifierOptions:(nr=er.getClassifierOptions())&&l.ClassifierOptions.toObject(w,nr)};return w&&(rr.$jspbMessageInstance=er),rr}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(w){var er=new e.BinaryReader(w),nr=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(nr,er)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(w,er){for(;er.nextField()&&!er.isEndGroup();)switch(er.getFieldNumber()){case 1:var nr=new c.BaseOptions;er.readMessage(nr,c.BaseOptions.deserializeBinaryFromReader),w.setBaseOptions(nr);break;case 2:nr=new l.ClassifierOptions,er.readMessage(nr,l.ClassifierOptions.deserializeBinaryFromReader),w.setClassifierOptions(nr);break;default:er.skipField()}return w},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var w=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,w),w.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(w,er){var nr=void 0;(nr=w.getBaseOptions())!=null&&er.writeMessage(1,nr,c.BaseOptions.serializeBinaryToWriter),(nr=w.getClassifierOptions())!=null&&er.writeMessage(2,nr,l.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(w){return e.Message.setWrapperField(this,1,w)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,l.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(w){return e.Message.setWrapperField(this,2,w)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.image_classifier.proto)})(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(hr,gr,mr,vr){vr===void 0&&(vr=mr);var Sr=Object.getOwnPropertyDescriptor(gr,mr);Sr&&!("get"in Sr?!gr.__esModule:Sr.writable||Sr.configurable)||(Sr={enumerable:!0,get:function(){return gr[mr]}}),Object.defineProperty(hr,vr,Sr)}:function(hr,gr,mr,vr){vr===void 0&&(vr=mr),hr[vr]=gr[mr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(hr,gr){for(var mr in hr)mr==="default"||Object.prototype.hasOwnProperty.call(gr,mr)||e(gr,hr,mr)};Object.defineProperty(n,"__esModule",{value:!0}),n.ImageClassifier=void 0;const i=calculator_pb,o=calculator_options_pb,s=classifications_pb,l=base_options_pb,c=image_classifier_graph_options_pb,w=classifier_options,er=classifier_result,nr=vision_task_runner,rr="input_image",or="norm_rect",sr="classifications";t(image_classifier_options,n),t(image_classifier_result,n);class dr extends nr.VisionTaskRunner{static createFromOptions(gr,mr){return nr.VisionTaskRunner.createVisionInstance(dr,gr,mr)}static createFromModelBuffer(gr,mr){return nr.VisionTaskRunner.createVisionInstance(dr,gr,{baseOptions:{modelAssetBuffer:mr}})}static createFromModelPath(gr,mr){return nr.VisionTaskRunner.createVisionInstance(dr,gr,{baseOptions:{modelAssetPath:mr}})}constructor(gr,mr){super(new nr.VisionGraphRunner(gr,mr),rr,or,!0),this.classificationResult={classifications:[]},this.options=new c.ImageClassifierGraphOptions,this.options.setBaseOptions(new l.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(gr){this.options.setBaseOptions(gr)}setOptions(gr){return this.options.setClassifierOptions((0,w.convertClassifierOptionsToProto)(gr,this.options.getClassifierOptions())),this.applyOptions(gr)}classify(gr,mr){return this.classificationResult={classifications:[]},this.processImageData(gr,mr),this.classificationResult}classifyForVideo(gr,mr,vr){return this.classificationResult={classifications:[]},this.processVideoData(gr,vr,mr),this.classificationResult}refreshGraph(){const gr=new i.CalculatorGraphConfig;gr.addInputStream(rr),gr.addInputStream(or),gr.addOutputStream(sr);const mr=new o.CalculatorOptions;mr.setExtension(c.ImageClassifierGraphOptions.ext,this.options);const vr=new i.CalculatorGraphConfig.Node;vr.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),vr.addInputStream("IMAGE:"+rr),vr.addInputStream("NORM_RECT:"+or),vr.addOutputStream("CLASSIFICATIONS:"+sr),vr.setOptions(mr),gr.addNode(vr),this.graphRunner.attachProtoListener(sr,(Ar,Mr)=>{this.classificationResult=(0,er.convertFromClassificationResultProto)(s.ClassificationResult.deserializeBinary(Ar)),this.setLatestOutputTimestamp(Mr)}),this.graphRunner.attachEmptyPacketListener(sr,Ar=>{this.setLatestOutputTimestamp(Ar)});const Sr=gr.serializeBinary();this.setGraph(new Uint8Array(Sr),!0)}}n.ImageClassifier=dr}(image_classifier);var image_embedder={},embeddings_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,i),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,i),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,i),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,i),t.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,i),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(o){e.Message.initialize(this,o,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},t.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(o,s){var l,c={valuesList:(l=e.Message.getRepeatedFloatingPointField(s,1))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1)for(var l=s.isDelimited()?s.readPackedFloat():[s.readFloat()],c=0;c<l.length;c++)o.addValues(l[c]);else s.skipField();return o},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(o,s){var l;(l=o.getValuesList()).length>0&&s.writePackedFloat(1,l)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return e.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(o){return e.Message.setField(this,1,o||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(o,s){return e.Message.addToRepeatedField(this,1,o,s)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(o,s){var l={values:s.getValues_asB64()};return o&&(l.$jspbMessageInstance=s),l}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=s.readBytes();o.setValues(l)}else s.skipField();return o},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(o,s){var l;(l=e.Message.getField(o,1))!=null&&s.writeBytes(1,l)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return e.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return e.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(o,s){var l,c={floatEmbedding:(l=s.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,l),quantizedEmbedding:(l=s.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,l),headIndex:(l=e.Message.getField(s,3))==null?void 0:l,headName:(l=e.Message.getField(s,4))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;s.readMessage(l,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),o.setFloatEmbedding(l);break;case 2:l=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,s.readMessage(l,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),o.setQuantizedEmbedding(l);break;case 3:l=s.readInt32(),o.setHeadIndex(l);break;case 4:l=s.readString(),o.setHeadName(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(o,s){var l=void 0;(l=o.getFloatEmbedding())!=null&&s.writeMessage(1,l,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),(l=o.getQuantizedEmbedding())!=null&&s.writeMessage(2,l,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),(l=e.Message.getField(o,3))!=null&&s.writeInt32(3,l),(l=e.Message.getField(o,4))!=null&&s.writeString(4,l)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(o){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(o){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(o,s){var l,c={embeddingsList:e.Message.toObjectList(s.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,o),timestampMs:(l=e.Message.getField(s,2))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=new proto.mediapipe.tasks.components.containers.proto.Embedding;s.readMessage(l,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),o.addEmbeddings(l);break;case 2:l=s.readInt64(),o.setTimestampMs(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(o,s){var l=void 0;(l=o.getEmbeddingsList()).length>0&&s.writeRepeatedMessage(1,l,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),(l=e.Message.getField(o,2))!=null&&s.writeInt64(2,l)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(o,s){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.tasks.components.containers.proto.Embedding,s)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.components.containers.proto)})(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,i),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(o,s){var l,c={l2Normalize:(l=e.Message.getBooleanField(s,1))==null?void 0:l,quantize:(l=e.Message.getBooleanField(s,2))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readBool();o.setL2Normalize(l);break;case 2:l=s.readBool(),o.setQuantize(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeBool(1,l),(l=e.Message.getField(o,2))!=null&&s.writeBool(2,l)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.components.processors.proto)})(embedder_options_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=embedder_options_pb;t.object.extend(proto,l);var c=base_options_pb;t.object.extend(proto,c),t.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,i),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(w){e.Message.initialize(this,w,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(w){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(w,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(w,er){var nr,rr={baseOptions:(nr=er.getBaseOptions())&&c.BaseOptions.toObject(w,nr),embedderOptions:(nr=er.getEmbedderOptions())&&l.EmbedderOptions.toObject(w,nr)};return w&&(rr.$jspbMessageInstance=er),rr}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(w){var er=new e.BinaryReader(w),nr=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(nr,er)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(w,er){for(;er.nextField()&&!er.isEndGroup();)switch(er.getFieldNumber()){case 1:var nr=new c.BaseOptions;er.readMessage(nr,c.BaseOptions.deserializeBinaryFromReader),w.setBaseOptions(nr);break;case 2:nr=new l.EmbedderOptions,er.readMessage(nr,l.EmbedderOptions.deserializeBinaryFromReader),w.setEmbedderOptions(nr);break;default:er.skipField()}return w},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var w=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,w),w.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(w,er){var nr=void 0;(nr=w.getBaseOptions())!=null&&er.writeMessage(1,nr,c.BaseOptions.serializeBinaryToWriter),(nr=w.getEmbedderOptions())!=null&&er.writeMessage(2,nr,l.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,c.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(w){return e.Message.setWrapperField(this,1,w)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return e.Message.getWrapperField(this,l.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(w){return e.Message.setWrapperField(this,2,w)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(n,e){const t=e?e.clone():new embedder_options_pb_1.EmbedderOptions;return n.l2Normalize!==void 0?t.setL2Normalize(n.l2Normalize):"l2Normalize"in n&&t.clearL2Normalize(),n.quantize!==void 0?t.setQuantize(n.quantize):"quantize"in n&&t.clearQuantize(),t}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(n){var e,t,i,o;const s={headIndex:(e=n.getHeadIndex())!==null&&e!==void 0?e:DEFAULT_INDEX,headName:(t=n.getHeadName())!==null&&t!==void 0?t:""};if(n.hasFloatEmbedding())s.floatEmbedding=n.getFloatEmbedding().getValuesList();else{const l=(o=(i=n.getQuantizedEmbedding())===null||i===void 0?void 0:i.getValues())!==null&&o!==void 0?o:"";s.quantizedEmbedding=typeof l=="string"?Uint8Array.from(atob(l),c=>c.charCodeAt(0)):l}return s}function convertFromEmbeddingResultProto(n){return{embeddings:n.getEmbeddingsList().map(e=>convertFromEmbeddingsProto(e)),timestampMs:n.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(n,e){if(n.floatEmbedding&&e.floatEmbedding)return compute(n.floatEmbedding,e.floatEmbedding);if(n.quantizedEmbedding&&e.quantizedEmbedding)return compute(convertToBytes(n.quantizedEmbedding),convertToBytes(e.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(n){return Array.from(n,e=>e>127?e-256:e)}function compute(n,e){if(n.length!==e.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${n.length} vs. ${e.length}).`);let t=0,i=0,o=0;for(let s=0;s<n.length;s++)t+=n[s]*e[s],i+=n[s]*n[s],o+=e[s]*e[s];if(i<=0||o<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return t/Math.sqrt(i*o)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(gr,mr,vr,Sr){Sr===void 0&&(Sr=vr);var Ar=Object.getOwnPropertyDescriptor(mr,vr);Ar&&!("get"in Ar?!mr.__esModule:Ar.writable||Ar.configurable)||(Ar={enumerable:!0,get:function(){return mr[vr]}}),Object.defineProperty(gr,Sr,Ar)}:function(gr,mr,vr,Sr){Sr===void 0&&(Sr=vr),gr[Sr]=mr[vr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(gr,mr){for(var vr in gr)vr==="default"||Object.prototype.hasOwnProperty.call(mr,vr)||e(mr,gr,vr)};Object.defineProperty(n,"__esModule",{value:!0}),n.ImageEmbedder=void 0;const i=calculator_pb,o=calculator_options_pb,s=embeddings_pb,l=base_options_pb,c=image_embedder_graph_options_pb,w=embedder_options,er=embedder_result,nr=cosine_similarity,rr=vision_task_runner,or="image_in",sr="norm_rect",dr="embeddings_out";t(image_embedder_options,n),t(image_embedder_result,n);class hr extends rr.VisionTaskRunner{static createFromOptions(mr,vr){return rr.VisionTaskRunner.createVisionInstance(hr,mr,vr)}static createFromModelBuffer(mr,vr){return rr.VisionTaskRunner.createVisionInstance(hr,mr,{baseOptions:{modelAssetBuffer:vr}})}static createFromModelPath(mr,vr){return rr.VisionTaskRunner.createVisionInstance(hr,mr,{baseOptions:{modelAssetPath:vr}})}constructor(mr,vr){super(new rr.VisionGraphRunner(mr,vr),or,sr,!0),this.options=new c.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new l.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(mr){this.options.setBaseOptions(mr)}setOptions(mr){return this.options.setEmbedderOptions((0,w.convertEmbedderOptionsToProto)(mr,this.options.getEmbedderOptions())),this.applyOptions(mr)}embed(mr,vr){return this.processImageData(mr,vr),this.embeddings}embedForVideo(mr,vr,Sr){return this.processVideoData(mr,Sr,vr),this.embeddings}static cosineSimilarity(mr,vr){return(0,nr.computeCosineSimilarity)(mr,vr)}addJsImageEmdedding(mr){const vr=s.EmbeddingResult.deserializeBinary(mr);this.embeddings=(0,er.convertFromEmbeddingResultProto)(vr)}refreshGraph(){const mr=new i.CalculatorGraphConfig;mr.addInputStream(or),mr.addInputStream(sr),mr.addOutputStream(dr);const vr=new o.CalculatorOptions;vr.setExtension(c.ImageEmbedderGraphOptions.ext,this.options);const Sr=new i.CalculatorGraphConfig.Node;Sr.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Sr.addInputStream("IMAGE:"+or),Sr.addInputStream("NORM_RECT:"+sr),Sr.addOutputStream("EMBEDDINGS:"+dr),Sr.setOptions(vr),mr.addNode(Sr),this.graphRunner.attachProtoListener(dr,(Mr,Fr)=>{this.addJsImageEmdedding(Mr),this.setLatestOutputTimestamp(Fr)}),this.graphRunner.attachEmptyPacketListener(dr,Mr=>{this.setLatestOutputTimestamp(Mr)});const Ar=mr.serializeBinary();this.setGraph(new Uint8Array(Ar),!0)}}n.ImageEmbedder=hr}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,i),t.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,i),t.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,i),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(o,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(o,s){var l,c={outputType:(l=e.Message.getField(s,1))==null?void 0:l,activation:e.Message.getFieldWithDefault(s,2,0)};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(l,s)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readEnum();o.setOutputType(l);break;case 2:l=s.readEnum(),o.setActivation(l);break;default:s.skipField()}return o},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeEnum(1,l),(l=e.Message.getField(o,2))!=null&&s.writeEnum(2,l)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return e.Message.getField(this,2)!=null},t.object.extend(n,proto.mediapipe.tasks.vision.image_segmenter.proto)})(segmenter_options_pb);var label_map_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.LabelMapItem",null,i),proto.mediapipe.LabelMapItem=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},t.inherits(proto.mediapipe.LabelMapItem,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(o){return proto.mediapipe.LabelMapItem.toObject(o,this)},proto.mediapipe.LabelMapItem.toObject=function(o,s){var l,c={name:(l=e.Message.getField(s,1))==null?void 0:l,displayName:(l=e.Message.getField(s,2))==null?void 0:l,childNameList:(l=e.Message.getRepeatedField(s,3))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.LabelMapItem.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(l,s)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readString();o.setName(l);break;case 2:l=s.readString(),o.setDisplayName(l);break;case 3:l=s.readString(),o.addChildName(l);break;default:s.skipField()}return o},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeString(1,l),(l=e.Message.getField(o,2))!=null&&s.writeString(2,l),(l=o.getChildNameList()).length>0&&s.writeRepeatedString(3,l)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(o,s){return e.Message.addToRepeatedField(this,3,o,s)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},t.object.extend(n,proto.mediapipe)})(label_map_pb),function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;t.object.extend(proto,o);var s=segmenter_options_pb;t.object.extend(proto,s);var l=label_map_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,i),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(c){e.Message.initialize(this,c,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(c,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(c,w){var er,nr={segmenterOptions:(er=w.getSegmenterOptions())&&s.SegmenterOptions.toObject(c,er),labelItemsMap:(er=w.getLabelItemsMap())?er.toObject(c,proto.mediapipe.LabelMapItem.toObject):[]};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var er=new s.SegmenterOptions;w.readMessage(er,s.SegmenterOptions.deserializeBinaryFromReader),c.setSegmenterOptions(er);break;case 2:er=c.getLabelItemsMap(),w.readMessage(er,function(nr,rr){e.Map.deserializeBinary(nr,rr,e.BinaryReader.prototype.readInt64,e.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)});break;default:w.skipField()}return c},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(c,w){var er=void 0;(er=c.getSegmenterOptions())!=null&&w.writeMessage(1,er,s.SegmenterOptions.serializeBinaryToWriter),(er=c.getLabelItemsMap(!0))&&er.getLength()>0&&er.serializeBinary(2,w,e.BinaryWriter.prototype.writeInt64,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,s.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(c){return e.Message.getMapField(this,2,c,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,t.object.extend(n,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l);var c=segmenter_options_pb;t.object.extend(proto,c),t.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,i),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(w){e.Message.initialize(this,w,0,-1,null,null)},t.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(w){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(w,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(w,er){var nr,rr={baseOptions:(nr=er.getBaseOptions())&&l.BaseOptions.toObject(w,nr),displayNamesLocale:e.Message.getFieldWithDefault(er,2,"en"),segmenterOptions:(nr=er.getSegmenterOptions())&&c.SegmenterOptions.toObject(w,nr)};return w&&(rr.$jspbMessageInstance=er),rr}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(w){var er=new e.BinaryReader(w),nr=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(nr,er)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(w,er){for(;er.nextField()&&!er.isEndGroup();)switch(er.getFieldNumber()){case 1:var nr=new l.BaseOptions;er.readMessage(nr,l.BaseOptions.deserializeBinaryFromReader),w.setBaseOptions(nr);break;case 2:nr=er.readString(),w.setDisplayNamesLocale(nr);break;case 3:nr=new c.SegmenterOptions,er.readMessage(nr,c.SegmenterOptions.deserializeBinaryFromReader),w.setSegmenterOptions(nr);break;default:er.skipField()}return w},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var w=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,w),w.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(w,er){var nr=void 0;(nr=w.getBaseOptions())!=null&&er.writeMessage(1,nr,l.BaseOptions.serializeBinaryToWriter),(nr=e.Message.getField(w,2))!=null&&er.writeString(2,nr),(nr=w.getSegmenterOptions())!=null&&er.writeMessage(3,nr,c.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(w){return e.Message.setWrapperField(this,1,w)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(w){return e.Message.setField(this,2,w)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,c.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(w){return e.Message.setWrapperField(this,3,w)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),s.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.image_segmenter.proto)})(image_segmenter_graph_options_pb);var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(hr,gr,mr,vr){vr===void 0&&(vr=mr);var Sr=Object.getOwnPropertyDescriptor(gr,mr);Sr&&!("get"in Sr?!gr.__esModule:Sr.writable||Sr.configurable)||(Sr={enumerable:!0,get:function(){return gr[mr]}}),Object.defineProperty(hr,vr,Sr)}:function(hr,gr,mr,vr){vr===void 0&&(vr=mr),hr[vr]=gr[mr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(hr,gr){for(var mr in hr)mr==="default"||Object.prototype.hasOwnProperty.call(gr,mr)||e(gr,hr,mr)};Object.defineProperty(n,"__esModule",{value:!0}),n.ImageSegmenter=void 0;const i=calculator_pb,o=calculator_options_pb,s=base_options_pb,l=tensors_to_segmentation_calculator_pb,c=image_segmenter_graph_options_pb,w=segmenter_options_pb,er=vision_task_runner;t(image_segmenter_options,n);const nr="image_in",rr="norm_rect",or="segmented_masks",sr="mediapipe.tasks.TensorsToSegmentationCalculator";class dr extends er.VisionTaskRunner{static createFromOptions(gr,mr){return er.VisionTaskRunner.createVisionInstance(dr,gr,mr)}static createFromModelBuffer(gr,mr){return er.VisionTaskRunner.createVisionInstance(dr,gr,{baseOptions:{modelAssetBuffer:mr}})}static createFromModelPath(gr,mr){return er.VisionTaskRunner.createVisionInstance(dr,gr,{baseOptions:{modelAssetPath:mr}})}constructor(gr,mr){super(new er.VisionGraphRunner(gr,mr),nr,rr,!1),this.userCallback=()=>{},this.labels=[],this.options=new c.ImageSegmenterGraphOptions,this.segmenterOptions=new w.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(gr){this.options.setBaseOptions(gr)}setOptions(gr){return gr.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(gr.displayNamesLocale):"displayNamesLocale"in gr&&this.options.clearDisplayNamesLocale(),gr.outputType==="CONFIDENCE_MASK"?this.segmenterOptions.setOutputType(w.SegmenterOptions.OutputType.CONFIDENCE_MASK):this.segmenterOptions.setOutputType(w.SegmenterOptions.OutputType.CATEGORY_MASK),super.applyOptions(gr)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var gr,mr,vr;const Sr=this.getCalculatorGraphConfig().getNodeList().filter(Ar=>Ar.getName().includes(sr));if(this.labels=[],Sr.length>1)throw new Error(`The graph has more than one ${sr}.`);Sr.length===1&&((vr=(mr=(gr=Sr[0].getOptions())===null||gr===void 0?void 0:gr.getExtension(l.TensorsToSegmentationCalculatorOptions.ext))===null||mr===void 0?void 0:mr.getLabelItemsMap())!==null&&vr!==void 0?vr:new Map).forEach((Ar,Mr)=>{this.labels[Number(Mr)]=Ar.getName()})}segment(gr,mr,vr){const Sr=typeof mr!="function"?mr:{};this.userCallback=typeof mr=="function"?mr:vr,this.processImageData(gr,Sr),this.userCallback=()=>{}}getLabels(){return this.labels}segmentForVideo(gr,mr,vr,Sr){const Ar=typeof mr!="number"?mr:{},Mr=typeof mr=="number"?mr:vr;this.userCallback=typeof vr=="function"?vr:Sr,this.processVideoData(gr,Ar,Mr),this.userCallback=()=>{}}refreshGraph(){const gr=new i.CalculatorGraphConfig;gr.addInputStream(nr),gr.addInputStream(rr),gr.addOutputStream(or);const mr=new o.CalculatorOptions;mr.setExtension(c.ImageSegmenterGraphOptions.ext,this.options);const vr=new i.CalculatorGraphConfig.Node;vr.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),vr.addInputStream("IMAGE:"+nr),vr.addInputStream("NORM_RECT:"+rr),vr.addOutputStream("GROUPED_SEGMENTATION:"+or),vr.setOptions(mr),gr.addNode(vr),this.graphRunner.attachImageVectorListener(or,(Ar,Mr)=>{Ar.length===0?this.userCallback([],0,0):this.userCallback(Ar.map(Fr=>Fr.data),Ar[0].width,Ar[0].height),this.setLatestOutputTimestamp(Mr)}),this.graphRunner.attachEmptyPacketListener(or,Ar=>{this.setLatestOutputTimestamp(Ar)});const Sr=gr.serializeBinary();this.setGraph(new Uint8Array(Sr),!0)}}n.ImageSegmenter=dr}(image_segmenter);var interactive_segmenter={},color_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.mediapipe.Color",null,i),t.exportSymbol("proto.mediapipe.ColorMap",null,i),proto.mediapipe.Color=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.Color,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(o){e.Message.initialize(this,o,0,-1,null,null)},t.inherits(proto.mediapipe.ColorMap,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(o){return proto.mediapipe.Color.toObject(o,this)},proto.mediapipe.Color.toObject=function(o,s){var l,c={r:(l=e.Message.getField(s,1))==null?void 0:l,g:(l=e.Message.getField(s,2))==null?void 0:l,b:(l=e.Message.getField(s,3))==null?void 0:l};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.Color.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(l,s)},proto.mediapipe.Color.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var l=s.readInt32();o.setR(l);break;case 2:l=s.readInt32(),o.setG(l);break;case 3:l=s.readInt32(),o.setB(l);break;default:s.skipField()}return o},proto.mediapipe.Color.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(o,s){var l=void 0;(l=e.Message.getField(o,1))!=null&&s.writeInt32(1,l),(l=e.Message.getField(o,2))!=null&&s.writeInt32(2,l),(l=e.Message.getField(o,3))!=null&&s.writeInt32(3,l)},proto.mediapipe.Color.prototype.getR=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Color.prototype.clearR=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Color.prototype.getG=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Color.prototype.clearG=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Color.prototype.getB=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Color.prototype.clearB=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(o){return proto.mediapipe.ColorMap.toObject(o,this)},proto.mediapipe.ColorMap.toObject=function(o,s){var l,c={labelToColorMap:(l=s.getLabelToColorMap())?l.toObject(o,proto.mediapipe.Color.toObject):[]};return o&&(c.$jspbMessageInstance=s),c}),proto.mediapipe.ColorMap.deserializeBinary=function(o){var s=new e.BinaryReader(o),l=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(l,s)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(o,s){for(;s.nextField()&&!s.isEndGroup();)if(s.getFieldNumber()===1){var l=o.getLabelToColorMap();s.readMessage(l,function(c,w){e.Map.deserializeBinary(c,w,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)})}else s.skipField();return o},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(o,s){var l=void 0;(l=o.getLabelToColorMap(!0))&&l.getLength()>0&&l.serializeBinary(1,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(o){return e.Message.getMapField(this,1,o,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},t.object.extend(n,proto.mediapipe)})(color_pb);var render_data_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=color_pb;t.object.extend(proto,o),t.exportSymbol("proto.mediapipe.RenderAnnotation",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,i),t.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,i),t.exportSymbol("proto.mediapipe.RenderData",null,i),t.exportSymbol("proto.mediapipe.RenderViewport",null,i),proto.mediapipe.RenderData=function(s){e.Message.initialize(this,s,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},t.inherits(proto.mediapipe.RenderData,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(s){e.Message.initialize(this,s,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},t.inherits(proto.mediapipe.RenderAnnotation,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Rectangle,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Oval,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.FilledOval,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Point,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Line,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.GradientLine,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Arrow=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Arrow,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderAnnotation.Text,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(s){e.Message.initialize(this,s,0,-1,null,null)},t.inherits(proto.mediapipe.RenderViewport,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(s){return proto.mediapipe.RenderData.toObject(s,this)},proto.mediapipe.RenderData.toObject=function(s,l){var c,w={renderAnnotationsList:e.Message.toObjectList(l.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,s),sceneClass:(c=e.Message.getField(l,2))==null?void 0:c,sceneViewport:(c=l.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderData.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation;l.readMessage(c,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),s.addRenderAnnotations(c);break;case 2:c=l.readString(),s.setSceneClass(c);break;case 3:c=new proto.mediapipe.RenderViewport,l.readMessage(c,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),s.setSceneViewport(c);break;default:l.skipField()}return s},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getRenderAnnotationsList()).length>0&&l.writeRepeatedMessage(1,c,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),(c=e.Message.getField(s,2))!=null&&l.writeString(2,c),(c=s.getSceneViewport())!=null&&l.writeMessage(3,c,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(s){return e.Message.setRepeatedWrapperField(this,1,s)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(s,l){return e.Message.addToRepeatedWrapperField(this,1,s,proto.mediapipe.RenderAnnotation,l)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(s){return e.Message.setWrapperField(this,3,s)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.toObject(s,this)},proto.mediapipe.RenderAnnotation.toObject=function(s,l){var c,w={rectangle:(c=l.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,c),filledRectangle:(c=l.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(s,c),oval:(c=l.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(s,c),filledOval:(c=l.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(s,c),point:(c=l.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(s,c),line:(c=l.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(s,c),arrow:(c=l.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(s,c),text:(c=l.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(s,c),roundedRectangle:(c=l.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,c),filledRoundedRectangle:(c=l.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(s,c),gradientLine:(c=l.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(s,c),thickness:e.Message.getFloatingPointFieldWithDefault(l,11,1),color:(c=l.getColor())&&o.Color.toObject(s,c),sceneTag:(c=e.Message.getField(l,13))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation.Rectangle;l.readMessage(c,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(c);break;case 2:c=new proto.mediapipe.RenderAnnotation.FilledRectangle,l.readMessage(c,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),s.setFilledRectangle(c);break;case 3:c=new proto.mediapipe.RenderAnnotation.Oval,l.readMessage(c,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),s.setOval(c);break;case 4:c=new proto.mediapipe.RenderAnnotation.FilledOval,l.readMessage(c,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),s.setFilledOval(c);break;case 5:c=new proto.mediapipe.RenderAnnotation.Point,l.readMessage(c,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),s.setPoint(c);break;case 6:c=new proto.mediapipe.RenderAnnotation.Line,l.readMessage(c,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),s.setLine(c);break;case 7:c=new proto.mediapipe.RenderAnnotation.Arrow,l.readMessage(c,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),s.setArrow(c);break;case 8:c=new proto.mediapipe.RenderAnnotation.Text,l.readMessage(c,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),s.setText(c);break;case 9:c=new proto.mediapipe.RenderAnnotation.RoundedRectangle,l.readMessage(c,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),s.setRoundedRectangle(c);break;case 10:c=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,l.readMessage(c,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),s.setFilledRoundedRectangle(c);break;case 14:c=new proto.mediapipe.RenderAnnotation.GradientLine,l.readMessage(c,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),s.setGradientLine(c);break;case 11:c=l.readDouble(),s.setThickness(c);break;case 12:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setColor(c);break;case 13:c=l.readString(),s.setSceneTag(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getRectangle())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(c=s.getFilledRectangle())!=null&&l.writeMessage(2,c,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),(c=s.getOval())!=null&&l.writeMessage(3,c,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(c=s.getFilledOval())!=null&&l.writeMessage(4,c,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),(c=s.getPoint())!=null&&l.writeMessage(5,c,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),(c=s.getLine())!=null&&l.writeMessage(6,c,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),(c=s.getArrow())!=null&&l.writeMessage(7,c,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),(c=s.getText())!=null&&l.writeMessage(8,c,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),(c=s.getRoundedRectangle())!=null&&l.writeMessage(9,c,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(c=s.getFilledRoundedRectangle())!=null&&l.writeMessage(10,c,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),(c=s.getGradientLine())!=null&&l.writeMessage(14,c,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),(c=e.Message.getField(s,11))!=null&&l.writeDouble(11,c),(c=s.getColor())!=null&&l.writeMessage(12,c,o.Color.serializeBinaryToWriter),(c=e.Message.getField(s,13))!=null&&l.writeString(13,c)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(s,l){var c,w={left:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,top:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,right:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,bottom:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c,normalized:e.Message.getBooleanFieldWithDefault(l,5,!1),rotation:(c=e.Message.getOptionalFloatingPointField(l,6))==null?void 0:c,topLeftThickness:(c=e.Message.getOptionalFloatingPointField(l,7))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readDouble();s.setLeft(c);break;case 2:c=l.readDouble(),s.setTop(c);break;case 3:c=l.readDouble(),s.setRight(c);break;case 4:c=l.readDouble(),s.setBottom(c);break;case 5:c=l.readBool(),s.setNormalized(c);break;case 6:c=l.readDouble(),s.setRotation(c);break;case 7:c=l.readDouble(),s.setTopLeftThickness(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeDouble(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeDouble(3,c),(c=e.Message.getField(s,4))!=null&&l.writeDouble(4,c),(c=e.Message.getField(s,5))!=null&&l.writeBool(5,c),(c=e.Message.getField(s,6))!=null&&l.writeDouble(6,c),(c=e.Message.getField(s,7))!=null&&l.writeDouble(7,c)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return e.Message.getField(this,7)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(s,l){var c,w={rectangle:(c=l.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,c),fillColor:(c=l.getFillColor())&&o.Color.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation.Rectangle;l.readMessage(c,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(c);break;case 2:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setFillColor(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getRectangle())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(c=s.getFillColor())!=null&&l.writeMessage(2,c,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(s,l){var c,w={rectangle:(c=l.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,c),cornerRadius:e.Message.getFieldWithDefault(l,2,0),lineType:e.Message.getFieldWithDefault(l,3,4)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation.Rectangle;l.readMessage(c,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(c);break;case 2:c=l.readInt32(),s.setCornerRadius(c);break;case 3:c=l.readInt32(),s.setLineType(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getRectangle())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(c=e.Message.getField(s,2))!=null&&l.writeInt32(2,c),(c=e.Message.getField(s,3))!=null&&l.writeInt32(3,c)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(s,l){var c,w={roundedRectangle:(c=l.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(s,c),fillColor:(c=l.getFillColor())&&o.Color.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation.RoundedRectangle;l.readMessage(c,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),s.setRoundedRectangle(c);break;case 2:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setFillColor(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getRoundedRectangle())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(c=s.getFillColor())!=null&&l.writeMessage(2,c,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Oval.toObject(s,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(s,l){var c,w={rectangle:(c=l.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)if(l.getFieldNumber()===1){var c=new proto.mediapipe.RenderAnnotation.Rectangle;l.readMessage(c,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),s.setRectangle(c)}else l.skipField();return s},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(s,l){var c;(c=s.getRectangle())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(s,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(s,l){var c,w={oval:(c=l.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(s,c),fillColor:(c=l.getFillColor())&&o.Color.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=new proto.mediapipe.RenderAnnotation.Oval;l.readMessage(c,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),s.setOval(c);break;case 2:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setFillColor(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(s,l){var c=void 0;(c=s.getOval())!=null&&l.writeMessage(1,c,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(c=s.getFillColor())!=null&&l.writeMessage(2,c,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(s){return e.Message.setWrapperField(this,1,s)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(s){return e.Message.setWrapperField(this,2,s)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Point.toObject(s,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(s,l){var c,w={x:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,y:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,normalized:e.Message.getBooleanFieldWithDefault(l,3,!1)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readDouble();s.setX(c);break;case 2:c=l.readDouble(),s.setY(c);break;case 3:c=l.readBool(),s.setNormalized(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeDouble(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeBool(3,c)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Line.toObject(s,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(s,l){var c,w={xStart:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,yStart:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,xEnd:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,yEnd:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c,normalized:e.Message.getBooleanFieldWithDefault(l,5,!1),lineType:e.Message.getFieldWithDefault(l,6,1)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readDouble();s.setXStart(c);break;case 2:c=l.readDouble(),s.setYStart(c);break;case 3:c=l.readDouble(),s.setXEnd(c);break;case 4:c=l.readDouble(),s.setYEnd(c);break;case 5:c=l.readBool(),s.setNormalized(c);break;case 6:c=l.readEnum(),s.setLineType(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeDouble(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeDouble(3,c),(c=e.Message.getField(s,4))!=null&&l.writeDouble(4,c),(c=e.Message.getField(s,5))!=null&&l.writeBool(5,c),(c=e.Message.getField(s,6))!=null&&l.writeEnum(6,c)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(s,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(s,l){var c,w={xStart:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,yStart:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,xEnd:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,yEnd:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c,normalized:e.Message.getBooleanFieldWithDefault(l,5,!1),color1:(c=l.getColor1())&&o.Color.toObject(s,c),color2:(c=l.getColor2())&&o.Color.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readDouble();s.setXStart(c);break;case 2:c=l.readDouble(),s.setYStart(c);break;case 3:c=l.readDouble(),s.setXEnd(c);break;case 4:c=l.readDouble(),s.setYEnd(c);break;case 5:c=l.readBool(),s.setNormalized(c);break;case 6:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setColor1(c);break;case 7:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setColor2(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeDouble(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeDouble(3,c),(c=e.Message.getField(s,4))!=null&&l.writeDouble(4,c),(c=e.Message.getField(s,5))!=null&&l.writeBool(5,c),(c=s.getColor1())!=null&&l.writeMessage(6,c,o.Color.serializeBinaryToWriter),(c=s.getColor2())!=null&&l.writeMessage(7,c,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return e.Message.getWrapperField(this,o.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(s){return e.Message.setWrapperField(this,6,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return e.Message.getWrapperField(this,o.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(s){return e.Message.setWrapperField(this,7,s)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return e.Message.getField(this,7)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Arrow.toObject(s,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(s,l){var c,w={xStart:(c=e.Message.getOptionalFloatingPointField(l,1))==null?void 0:c,yStart:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,xEnd:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,yEnd:(c=e.Message.getOptionalFloatingPointField(l,4))==null?void 0:c,normalized:e.Message.getBooleanFieldWithDefault(l,5,!1)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readDouble();s.setXStart(c);break;case 2:c=l.readDouble(),s.setYStart(c);break;case 3:c=l.readDouble(),s.setXEnd(c);break;case 4:c=l.readDouble(),s.setYEnd(c);break;case 5:c=l.readBool(),s.setNormalized(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeDouble(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeDouble(3,c),(c=e.Message.getField(s,4))!=null&&l.writeDouble(4,c),(c=e.Message.getField(s,5))!=null&&l.writeBool(5,c)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(s){return proto.mediapipe.RenderAnnotation.Text.toObject(s,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(s,l){var c,w={displayText:(c=e.Message.getField(l,1))==null?void 0:c,left:(c=e.Message.getOptionalFloatingPointField(l,2))==null?void 0:c,baseline:(c=e.Message.getOptionalFloatingPointField(l,3))==null?void 0:c,fontHeight:e.Message.getFloatingPointFieldWithDefault(l,4,8),normalized:e.Message.getBooleanFieldWithDefault(l,5,!1),fontFace:e.Message.getFieldWithDefault(l,6,0),centerHorizontally:e.Message.getBooleanFieldWithDefault(l,7,!1),centerVertically:e.Message.getBooleanFieldWithDefault(l,8,!1),outlineThickness:e.Message.getFloatingPointFieldWithDefault(l,11,0),outlineColor:(c=l.getOutlineColor())&&o.Color.toObject(s,c)};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.setDisplayText(c);break;case 2:c=l.readDouble(),s.setLeft(c);break;case 3:c=l.readDouble(),s.setBaseline(c);break;case 4:c=l.readDouble(),s.setFontHeight(c);break;case 5:c=l.readBool(),s.setNormalized(c);break;case 6:c=l.readInt32(),s.setFontFace(c);break;case 7:c=l.readBool(),s.setCenterHorizontally(c);break;case 8:c=l.readBool(),s.setCenterVertically(c);break;case 11:c=l.readDouble(),s.setOutlineThickness(c);break;case 12:c=new o.Color,l.readMessage(c,o.Color.deserializeBinaryFromReader),s.setOutlineColor(c);break;default:l.skipField()}return s},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeString(1,c),(c=e.Message.getField(s,2))!=null&&l.writeDouble(2,c),(c=e.Message.getField(s,3))!=null&&l.writeDouble(3,c),(c=e.Message.getField(s,4))!=null&&l.writeDouble(4,c),(c=e.Message.getField(s,5))!=null&&l.writeBool(5,c),(c=e.Message.getField(s,6))!=null&&l.writeInt32(6,c),(c=e.Message.getField(s,7))!=null&&l.writeBool(7,c),(c=e.Message.getField(s,8))!=null&&l.writeBool(8,c),(c=e.Message.getField(s,11))!=null&&l.writeDouble(11,c),(c=s.getOutlineColor())!=null&&l.writeMessage(12,c,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(s){return e.Message.setField(this,5,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(s){return e.Message.setField(this,6,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return e.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(s){return e.Message.setField(this,7,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return e.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(s){return e.Message.setField(this,8,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(s){return e.Message.setField(this,11,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(s){return e.Message.setWrapperField(this,12,s)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(s){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(s){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(s){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(s){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(s){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(s){return e.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(s){return e.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(s){return e.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(s){return e.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,9)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(s){return e.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(s){return e.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],s)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return e.Message.getField(this,14)!=null},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(s){return e.Message.setField(this,11,s)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(s){return e.Message.setWrapperField(this,12,s)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return e.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(s){return e.Message.setField(this,13,s)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return e.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return e.Message.getField(this,13)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(s){return proto.mediapipe.RenderViewport.toObject(s,this)},proto.mediapipe.RenderViewport.toObject=function(s,l){var c,w={id:(c=e.Message.getField(l,1))==null?void 0:c,widthPx:(c=e.Message.getField(l,2))==null?void 0:c,heightPx:(c=e.Message.getField(l,3))==null?void 0:c,composeOnVideo:(c=e.Message.getBooleanField(l,4))==null?void 0:c};return s&&(w.$jspbMessageInstance=l),w}),proto.mediapipe.RenderViewport.deserializeBinary=function(s){var l=new e.BinaryReader(s),c=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(c,l)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(s,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var c=l.readString();s.setId(c);break;case 2:c=l.readInt32(),s.setWidthPx(c);break;case 3:c=l.readInt32(),s.setHeightPx(c);break;case 4:c=l.readBool(),s.setComposeOnVideo(c);break;default:l.skipField()}return s},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var s=new e.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(s,l){var c=void 0;(c=e.Message.getField(s,1))!=null&&l.writeString(1,c),(c=e.Message.getField(s,2))!=null&&l.writeInt32(2,c),(c=e.Message.getField(s,3))!=null&&l.writeInt32(3,c),(c=e.Message.getField(s,4))!=null&&l.writeBool(4,c)},proto.mediapipe.RenderViewport.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(s){return e.Message.setField(this,1,s)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(s){return e.Message.setField(this,2,s)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(s){return e.Message.setField(this,3,s)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(s){return e.Message.setField(this,4,s)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return e.Message.getField(this,4)!=null},t.object.extend(n,proto.mediapipe)})(render_data_pb);var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(gr,mr,vr,Sr){Sr===void 0&&(Sr=vr);var Ar=Object.getOwnPropertyDescriptor(mr,vr);Ar&&!("get"in Ar?!mr.__esModule:Ar.writable||Ar.configurable)||(Ar={enumerable:!0,get:function(){return mr[vr]}}),Object.defineProperty(gr,Sr,Ar)}:function(gr,mr,vr,Sr){Sr===void 0&&(Sr=vr),gr[Sr]=mr[vr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(gr,mr){for(var vr in gr)vr==="default"||Object.prototype.hasOwnProperty.call(mr,vr)||e(mr,gr,vr)};Object.defineProperty(n,"__esModule",{value:!0}),n.InteractiveSegmenter=void 0;const i=calculator_pb,o=calculator_options_pb,s=base_options_pb,l=image_segmenter_graph_options_pb,c=segmenter_options_pb,w=vision_task_runner,er=color_pb,nr=render_data_pb;t(interactive_segmenter_options,n);const rr="image_in",or="norm_rect_in",sr="roi_in",dr="image_out";class hr extends w.VisionTaskRunner{static createFromOptions(mr,vr){return w.VisionTaskRunner.createVisionInstance(hr,mr,vr)}static createFromModelBuffer(mr,vr){return w.VisionTaskRunner.createVisionInstance(hr,mr,{baseOptions:{modelAssetBuffer:vr}})}static createFromModelPath(mr,vr){return w.VisionTaskRunner.createVisionInstance(hr,mr,{baseOptions:{modelAssetPath:vr}})}constructor(mr,vr){super(new w.VisionGraphRunner(mr,vr),rr,or,!1),this.userCallback=()=>{},this.options=new l.ImageSegmenterGraphOptions,this.segmenterOptions=new c.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new s.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(mr){this.options.setBaseOptions(mr)}setOptions(mr){return mr.outputType==="CONFIDENCE_MASK"?this.segmenterOptions.setOutputType(c.SegmenterOptions.OutputType.CONFIDENCE_MASK):this.segmenterOptions.setOutputType(c.SegmenterOptions.OutputType.CATEGORY_MASK),super.applyOptions(mr)}segment(mr,vr,Sr,Ar){const Mr=typeof Sr!="function"?Sr:{};this.userCallback=typeof Sr=="function"?Sr:Ar,this.processRenderData(vr,this.getSynctheticTimestamp()),this.processImageData(mr,Mr),this.userCallback=()=>{}}refreshGraph(){const mr=new i.CalculatorGraphConfig;mr.addInputStream(rr),mr.addInputStream(sr),mr.addInputStream(or),mr.addOutputStream(dr);const vr=new o.CalculatorOptions;vr.setExtension(l.ImageSegmenterGraphOptions.ext,this.options);const Sr=new i.CalculatorGraphConfig.Node;Sr.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Sr.addInputStream("IMAGE:"+rr),Sr.addInputStream("ROI:"+sr),Sr.addInputStream("NORM_RECT:"+or),Sr.addOutputStream("GROUPED_SEGMENTATION:"+dr),Sr.setOptions(vr),mr.addNode(Sr),this.graphRunner.attachImageVectorListener(dr,(Mr,Fr)=>{Mr.length===0?this.userCallback([],0,0):this.userCallback(Mr.map(Tr=>Tr.data),Mr[0].width,Mr[0].height),this.setLatestOutputTimestamp(Fr)}),this.graphRunner.attachEmptyPacketListener(dr,Mr=>{this.setLatestOutputTimestamp(Mr)});const Ar=mr.serializeBinary();this.setGraph(new Uint8Array(Ar),!0)}processRenderData(mr,vr){const Sr=new nr.RenderData,Ar=new nr.RenderAnnotation,Mr=new er.Color;Mr.setR(255),Ar.setColor(Mr);const Fr=new nr.RenderAnnotation.Point;Fr.setNormalized(!0),Fr.setX(mr.keypoint.x),Fr.setY(mr.keypoint.y),Ar.setPoint(Fr),Sr.addRenderAnnotations(Ar),this.graphRunner.addProtoToStream(Sr.serializeBinary(),"drishti.RenderData",sr,vr)}}n.InteractiveSegmenter=hr}(interactive_segmenter);var object_detector={},object_detector_options_pb={};(function(n){var e=googleProtobuf,t=e,i=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||i!==void 0&&i||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;t.object.extend(proto,o);var s=calculator_options_pb;t.object.extend(proto,s);var l=base_options_pb;t.object.extend(proto,l),t.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,i),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(c){e.Message.initialize(this,c,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},t.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,e.Message),t.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(c){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(c,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(c,w){var er,nr={baseOptions:(er=w.getBaseOptions())&&l.BaseOptions.toObject(c,er),displayNamesLocale:e.Message.getFieldWithDefault(w,2,"en"),maxResults:e.Message.getFieldWithDefault(w,3,-1),scoreThreshold:(er=e.Message.getOptionalFloatingPointField(w,4))==null?void 0:er,categoryAllowlistList:(er=e.Message.getRepeatedField(w,5))==null?void 0:er,categoryDenylistList:(er=e.Message.getRepeatedField(w,6))==null?void 0:er};return c&&(nr.$jspbMessageInstance=w),nr}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(c){var w=new e.BinaryReader(c),er=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(er,w)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(c,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var er=new l.BaseOptions;w.readMessage(er,l.BaseOptions.deserializeBinaryFromReader),c.setBaseOptions(er);break;case 2:er=w.readString(),c.setDisplayNamesLocale(er);break;case 3:er=w.readInt32(),c.setMaxResults(er);break;case 4:er=w.readFloat(),c.setScoreThreshold(er);break;case 5:er=w.readString(),c.addCategoryAllowlist(er);break;case 6:er=w.readString(),c.addCategoryDenylist(er);break;default:w.skipField()}return c},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(c,w){var er=void 0;(er=c.getBaseOptions())!=null&&w.writeMessage(1,er,l.BaseOptions.serializeBinaryToWriter),(er=e.Message.getField(c,2))!=null&&w.writeString(2,er),(er=e.Message.getField(c,3))!=null&&w.writeInt32(3,er),(er=e.Message.getField(c,4))!=null&&w.writeFloat(4,er),(er=c.getCategoryAllowlistList()).length>0&&w.writeRepeatedString(5,er),(er=c.getCategoryDenylistList()).length>0&&w.writeRepeatedString(6,er)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,l.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(c){return e.Message.setWrapperField(this,1,c)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(c){return e.Message.setField(this,2,c)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(c){return e.Message.setField(this,3,c)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(c){return e.Message.setField(this,4,c)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(c){return e.Message.setField(this,5,c||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(c,w){return e.Message.addToRepeatedField(this,5,c,w)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(c){return e.Message.setField(this,6,c||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(c,w){return e.Message.addToRepeatedField(this,6,c,w)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),s.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),s.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,t.object.extend(n,proto.mediapipe.tasks.vision.object_detector.proto)})(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(dr,hr,gr,mr){mr===void 0&&(mr=gr);var vr=Object.getOwnPropertyDescriptor(hr,gr);vr&&!("get"in vr?!hr.__esModule:vr.writable||vr.configurable)||(vr={enumerable:!0,get:function(){return hr[gr]}}),Object.defineProperty(dr,mr,vr)}:function(dr,hr,gr,mr){mr===void 0&&(mr=gr),dr[mr]=hr[gr]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(dr,hr){for(var gr in dr)gr==="default"||Object.prototype.hasOwnProperty.call(hr,gr)||e(hr,dr,gr)};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectDetector=void 0;const i=calculator_pb,o=calculator_options_pb,s=detection_pb,l=base_options_pb,c=object_detector_options_pb,w=detection_result,er=vision_task_runner,nr="input_frame_gpu",rr="norm_rect",or="detections";t(object_detector_options,n),t(object_detector_result,n);class sr extends er.VisionTaskRunner{static createFromOptions(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,gr)}static createFromModelBuffer(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,{baseOptions:{modelAssetBuffer:gr}})}static async createFromModelPath(hr,gr){return er.VisionTaskRunner.createVisionInstance(sr,hr,{baseOptions:{modelAssetPath:gr}})}constructor(hr,gr){super(new er.VisionGraphRunner(hr,gr),nr,rr,!1),this.result={detections:[]},this.options=new c.ObjectDetectorOptions,this.options.setBaseOptions(new l.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(hr){this.options.setBaseOptions(hr)}setOptions(hr){return hr.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(hr.displayNamesLocale):"displayNamesLocale"in hr&&this.options.clearDisplayNamesLocale(),hr.maxResults!==void 0?this.options.setMaxResults(hr.maxResults):"maxResults"in hr&&this.options.clearMaxResults(),hr.scoreThreshold!==void 0?this.options.setScoreThreshold(hr.scoreThreshold):"scoreThreshold"in hr&&this.options.clearScoreThreshold(),hr.categoryAllowlist!==void 0?this.options.setCategoryAllowlistList(hr.categoryAllowlist):"categoryAllowlist"in hr&&this.options.clearCategoryAllowlistList(),hr.categoryDenylist!==void 0?this.options.setCategoryDenylistList(hr.categoryDenylist):"categoryDenylist"in hr&&this.options.clearCategoryDenylistList(),this.applyOptions(hr)}detect(hr,gr){return this.result={detections:[]},this.processImageData(hr,gr),this.result}detectForVideo(hr,gr,mr){return this.result={detections:[]},this.processVideoData(hr,mr,gr),this.result}addJsObjectDetections(hr){for(const gr of hr){const mr=s.Detection.deserializeBinary(gr);this.result.detections.push((0,w.convertFromDetectionProto)(mr))}}refreshGraph(){const hr=new i.CalculatorGraphConfig;hr.addInputStream(nr),hr.addInputStream(rr),hr.addOutputStream(or);const gr=new o.CalculatorOptions;gr.setExtension(c.ObjectDetectorOptions.ext,this.options);const mr=new i.CalculatorGraphConfig.Node;mr.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),mr.addInputStream("IMAGE:"+nr),mr.addInputStream("NORM_RECT:"+rr),mr.addOutputStream("DETECTIONS:"+or),mr.setOptions(gr),hr.addNode(mr),this.graphRunner.attachProtoVectorListener(or,(Sr,Ar)=>{this.addJsObjectDetections(Sr),this.setLatestOutputTimestamp(Ar)}),this.graphRunner.attachEmptyPacketListener(or,Sr=>{this.setLatestOutputTimestamp(Sr)});const vr=hr.serializeBinary();this.setGraph(new Uint8Array(vr),!0)}}n.ObjectDetector=sr}(object_detector),Object.defineProperty(vision,"__esModule",{value:!0});vision.ObjectDetector=vision.InteractiveSegmenter=vision.ImageSegmenter=vision.ImageEmbedder=vision.ImageClassifier=vision.HandLandmarker=GestureRecognizer_1=vision.GestureRecognizer=vision.FaceStylizer=vision.FaceLandmarksConnections=vision.FaceLandmarker=vision.FaceDetector=FilesetResolver_1=vision.FilesetResolver=void 0;const fileset_resolver_1=fileset_resolver,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;const FaceDetector=face_detector_1.FaceDetector;vision.FaceDetector=FaceDetector;const FaceLandmarker=face_landmarker_1.FaceLandmarker;vision.FaceLandmarker=FaceLandmarker;const FaceLandmarksConnections=face_landmarker_1.FaceLandmarksConnections;vision.FaceLandmarksConnections=FaceLandmarksConnections;const FaceStylizer=face_stylizer_1.FaceStylizer;vision.FaceStylizer=FaceStylizer;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;var GestureRecognizer_1=vision.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;vision.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;vision.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;vision.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;vision.ImageSegmenter=ImageSegmenter;const InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;vision.InteractiveSegmenter=InteractiveSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;vision.ObjectDetector=ObjectDetector;var drawing_utils={},hasRequiredDrawing_utils;function requireDrawing_utils(){return hasRequiredDrawing_utils||(hasRequiredDrawing_utils=1,(function(){function n(dr){var hr=0;return function(){return hr<dr.length?{done:!1,value:dr[hr++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(dr,hr,gr){return dr==Array.prototype||dr==Object.prototype||(dr[hr]=gr.value),dr};function t(dr){dr=[typeof globalThis=="object"&&globalThis,dr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal$3=="object"&&commonjsGlobal$3];for(var hr=0;hr<dr.length;++hr){var gr=dr[hr];if(gr&&gr.Math==Math)return gr}throw Error("Cannot find global object")}var i=t(this);function o(dr,hr){if(hr)e:{var gr=i;dr=dr.split(".");for(var mr=0;mr<dr.length-1;mr++){var vr=dr[mr];if(!(vr in gr))break e;gr=gr[vr]}dr=dr[dr.length-1],mr=gr[dr],hr=hr(mr),hr!=mr&&hr!=null&&e(gr,dr,{configurable:!0,writable:!0,value:hr})}}function s(dr){var hr=typeof Symbol<"u"&&Symbol.iterator&&dr[Symbol.iterator];return hr?hr.call(dr):{next:n(dr)}}var l=typeof Object.assign=="function"?Object.assign:function(dr,hr){for(var gr=1;gr<arguments.length;gr++){var mr=arguments[gr];if(mr)for(var vr in mr)Object.prototype.hasOwnProperty.call(mr,vr)&&(dr[vr]=mr[vr])}return dr};o("Object.assign",function(dr){return dr||l}),o("Array.prototype.fill",function(dr){return dr||function(hr,gr,mr){var vr=this.length||0;for(0>gr&&(gr=Math.max(0,vr+gr)),(mr==null||mr>vr)&&(mr=vr),mr=Number(mr),0>mr&&(mr=Math.max(0,vr+mr)),gr=Number(gr||0);gr<mr;gr++)this[gr]=hr;return this}});function c(dr){return dr||Array.prototype.fill}o("Int8Array.prototype.fill",c),o("Uint8Array.prototype.fill",c),o("Uint8ClampedArray.prototype.fill",c),o("Int16Array.prototype.fill",c),o("Uint16Array.prototype.fill",c),o("Int32Array.prototype.fill",c),o("Uint32Array.prototype.fill",c),o("Float32Array.prototype.fill",c),o("Float64Array.prototype.fill",c);var w=this||self;function er(dr,hr){dr=dr.split(".");var gr=w;dr[0]in gr||typeof gr.execScript>"u"||gr.execScript("var "+dr[0]);for(var mr;dr.length&&(mr=dr.shift());)dr.length||hr===void 0?gr[mr]&&gr[mr]!==Object.prototype[mr]?gr=gr[mr]:gr=gr[mr]={}:gr[mr]=hr}var nr={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function rr(dr){return dr=dr||{},Object.assign({},nr,{fillColor:dr.color},dr)}function or(dr,hr){return dr instanceof Function?dr(hr):dr}function sr(dr,hr,gr){return Math.max(Math.min(hr,gr),Math.min(Math.max(hr,gr),dr))}er("clamp",sr),er("drawLandmarks",function(dr,hr,gr){if(hr){gr=rr(gr),dr.save();var mr=dr.canvas,vr=0;hr=s(hr);for(var Sr=hr.next();!Sr.done;Sr=hr.next())if(Sr=Sr.value,Sr!==void 0&&(Sr.visibility===void 0||Sr.visibility>gr.visibilityMin)){dr.fillStyle=or(gr.fillColor,{index:vr,from:Sr}),dr.strokeStyle=or(gr.color,{index:vr,from:Sr}),dr.lineWidth=or(gr.lineWidth,{index:vr,from:Sr});var Ar=new Path2D;Ar.arc(Sr.x*mr.width,Sr.y*mr.height,or(gr.radius,{index:vr,from:Sr}),0,2*Math.PI),dr.fill(Ar),dr.stroke(Ar),++vr}dr.restore()}}),er("drawConnectors",function(dr,hr,gr,mr){if(hr&&gr){mr=rr(mr),dr.save();var vr=dr.canvas,Sr=0;gr=s(gr);for(var Ar=gr.next();!Ar.done;Ar=gr.next()){var Mr=Ar.value;dr.beginPath(),Ar=hr[Mr[0]],Mr=hr[Mr[1]],Ar&&Mr&&(Ar.visibility===void 0||Ar.visibility>mr.visibilityMin)&&(Mr.visibility===void 0||Mr.visibility>mr.visibilityMin)&&(dr.strokeStyle=or(mr.color,{index:Sr,from:Ar,to:Mr}),dr.lineWidth=or(mr.lineWidth,{index:Sr,from:Ar,to:Mr}),dr.moveTo(Ar.x*vr.width,Ar.y*vr.height),dr.lineTo(Mr.x*vr.width,Mr.y*vr.height)),++Sr,dr.stroke()}dr.restore()}}),er("drawRectangle",function(dr,hr,gr){gr=rr(gr),dr.save();var mr=dr.canvas;dr.beginPath(),dr.lineWidth=or(gr.lineWidth,{}),dr.strokeStyle=or(gr.color,{}),dr.fillStyle=or(gr.fillColor,{}),dr.translate(hr.xCenter*mr.width,hr.yCenter*mr.height),dr.rotate(hr.rotation*Math.PI/180),dr.rect(-hr.width/2*mr.width,-hr.height/2*mr.height,hr.width*mr.width,hr.height*mr.height),dr.translate(-hr.xCenter*mr.width,-hr.yCenter*mr.height),dr.stroke(),dr.fill(),dr.restore()}),er("lerp",function(dr,hr,gr,mr,vr){return sr(mr*(1-(dr-hr)/(gr-hr))+vr*(1-(gr-dr)/(gr-hr)),mr,vr)})}).call(drawing_utils)),drawing_utils}var drawing_utilsExports=requireDrawing_utils(),hands={},hasRequiredHands;function requireHands(){return hasRequiredHands||(hasRequiredHands=1,(function(){var n;function e(ar){var fr=0;return function(){return fr<ar.length?{done:!1,value:ar[fr++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(ar,fr,tr){return ar==Array.prototype||ar==Object.prototype||(ar[fr]=tr.value),ar};function i(ar){ar=[typeof globalThis=="object"&&globalThis,ar,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal$3=="object"&&commonjsGlobal$3];for(var fr=0;fr<ar.length;++fr){var tr=ar[fr];if(tr&&tr.Math==Math)return tr}throw Error("Cannot find global object")}var o=i(this);function s(ar,fr){if(fr)e:{var tr=o;ar=ar.split(".");for(var lr=0;lr<ar.length-1;lr++){var ur=ar[lr];if(!(ur in tr))break e;tr=tr[ur]}ar=ar[ar.length-1],lr=tr[ar],fr=fr(lr),fr!=lr&&fr!=null&&t(tr,ar,{configurable:!0,writable:!0,value:fr})}}s("Symbol",function(ar){function fr(yr){if(this instanceof fr)throw new TypeError("Symbol is not a constructor");return new tr(lr+(yr||"")+"_"+ur++,yr)}function tr(yr,br){this.h=yr,t(this,"description",{configurable:!0,writable:!0,value:br})}if(ar)return ar;tr.prototype.toString=function(){return this.h};var lr="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ur=0;return fr}),s("Symbol.iterator",function(ar){if(ar)return ar;ar=Symbol("Symbol.iterator");for(var fr="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),tr=0;tr<fr.length;tr++){var lr=o[fr[tr]];typeof lr=="function"&&typeof lr.prototype[ar]!="function"&&t(lr.prototype,ar,{configurable:!0,writable:!0,value:function(){return l(e(this))}})}return ar});function l(ar){return ar={next:ar},ar[Symbol.iterator]=function(){return this},ar}function c(ar){var fr=typeof Symbol<"u"&&Symbol.iterator&&ar[Symbol.iterator];return fr?fr.call(ar):{next:e(ar)}}function w(ar){if(!(ar instanceof Array)){ar=c(ar);for(var fr,tr=[];!(fr=ar.next()).done;)tr.push(fr.value);ar=tr}return ar}var er=typeof Object.assign=="function"?Object.assign:function(ar,fr){for(var tr=1;tr<arguments.length;tr++){var lr=arguments[tr];if(lr)for(var ur in lr)Object.prototype.hasOwnProperty.call(lr,ur)&&(ar[ur]=lr[ur])}return ar};s("Object.assign",function(ar){return ar||er});var nr=typeof Object.create=="function"?Object.create:function(ar){function fr(){}return fr.prototype=ar,new fr},rr;if(typeof Object.setPrototypeOf=="function")rr=Object.setPrototypeOf;else{var or;e:{var sr={a:!0},dr={};try{dr.__proto__=sr,or=dr.a;break e}catch{}or=!1}rr=or?function(ar,fr){if(ar.__proto__=fr,ar.__proto__!==fr)throw new TypeError(ar+" is not extensible");return ar}:null}var hr=rr;function gr(ar,fr){if(ar.prototype=nr(fr.prototype),ar.prototype.constructor=ar,hr)hr(ar,fr);else for(var tr in fr)if(tr!="prototype")if(Object.defineProperties){var lr=Object.getOwnPropertyDescriptor(fr,tr);lr&&Object.defineProperty(ar,tr,lr)}else ar[tr]=fr[tr];ar.ya=fr.prototype}function mr(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function vr(ar){if(ar.m)throw new TypeError("Generator is already running");ar.m=!0}mr.prototype.u=function(ar){this.i=ar};function Sr(ar,fr){ar.l={ma:fr,na:!0},ar.h=ar.s||ar.v}mr.prototype.return=function(ar){this.l={return:ar},this.h=this.v};function Ar(ar,fr,tr){return ar.h=tr,{value:fr}}function Mr(ar){this.h=new mr,this.i=ar}function Fr(ar,fr){vr(ar.h);var tr=ar.h.j;return tr?Tr(ar,"return"in tr?tr.return:function(lr){return{value:lr,done:!0}},fr,ar.h.return):(ar.h.return(fr),Er(ar))}function Tr(ar,fr,tr,lr){try{var ur=fr.call(ar.h.j,tr);if(!(ur instanceof Object))throw new TypeError("Iterator result "+ur+" is not an object");if(!ur.done)return ar.h.m=!1,ur;var yr=ur.value}catch(br){return ar.h.j=null,Sr(ar.h,br),Er(ar)}return ar.h.j=null,lr.call(ar.h,yr),Er(ar)}function Er(ar){for(;ar.h.h;)try{var fr=ar.i(ar.h);if(fr)return ar.h.m=!1,{value:fr.value,done:!1}}catch(tr){ar.h.i=void 0,Sr(ar.h,tr)}if(ar.h.m=!1,ar.h.l){if(fr=ar.h.l,ar.h.l=null,fr.na)throw fr.ma;return{value:fr.return,done:!0}}return{value:void 0,done:!0}}function Rr(ar){this.next=function(fr){return vr(ar.h),ar.h.j?fr=Tr(ar,ar.h.j.next,fr,ar.h.u):(ar.h.u(fr),fr=Er(ar)),fr},this.throw=function(fr){return vr(ar.h),ar.h.j?fr=Tr(ar,ar.h.j.throw,fr,ar.h.u):(Sr(ar.h,fr),fr=Er(ar)),fr},this.return=function(fr){return Fr(ar,fr)},this[Symbol.iterator]=function(){return this}}function wr(ar){function fr(lr){return ar.next(lr)}function tr(lr){return ar.throw(lr)}return new Promise(function(lr,ur){function yr(br){br.done?lr(br.value):Promise.resolve(br.value).then(fr,tr).then(yr,ur)}yr(ar.next())})}function Or(ar){return wr(new Rr(new Mr(ar)))}s("Promise",function(ar){function fr(br){this.i=0,this.j=void 0,this.h=[],this.u=!1;var Pr=this.l();try{br(Pr.resolve,Pr.reject)}catch(Dr){Pr.reject(Dr)}}function tr(){this.h=null}function lr(br){return br instanceof fr?br:new fr(function(Pr){Pr(br)})}if(ar)return ar;tr.prototype.i=function(br){if(this.h==null){this.h=[];var Pr=this;this.j(function(){Pr.m()})}this.h.push(br)};var ur=o.setTimeout;tr.prototype.j=function(br){ur(br,0)},tr.prototype.m=function(){for(;this.h&&this.h.length;){var br=this.h;this.h=[];for(var Pr=0;Pr<br.length;++Pr){var Dr=br[Pr];br[Pr]=null;try{Dr()}catch(zr){this.l(zr)}}}this.h=null},tr.prototype.l=function(br){this.j(function(){throw br})},fr.prototype.l=function(){function br(zr){return function(Kr){Dr||(Dr=!0,zr.call(Pr,Kr))}}var Pr=this,Dr=!1;return{resolve:br(this.I),reject:br(this.m)}},fr.prototype.I=function(br){if(br===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(br instanceof fr)this.L(br);else{e:switch(typeof br){case"object":var Pr=br!=null;break e;case"function":Pr=!0;break e;default:Pr=!1}Pr?this.F(br):this.s(br)}},fr.prototype.F=function(br){var Pr=void 0;try{Pr=br.then}catch(Dr){this.m(Dr);return}typeof Pr=="function"?this.M(Pr,br):this.s(br)},fr.prototype.m=function(br){this.v(2,br)},fr.prototype.s=function(br){this.v(1,br)},fr.prototype.v=function(br,Pr){if(this.i!=0)throw Error("Cannot settle("+br+", "+Pr+"): Promise already settled in state"+this.i);this.i=br,this.j=Pr,this.i===2&&this.K(),this.H()},fr.prototype.K=function(){var br=this;ur(function(){if(br.D()){var Pr=o.console;typeof Pr<"u"&&Pr.error(br.j)}},1)},fr.prototype.D=function(){if(this.u)return!1;var br=o.CustomEvent,Pr=o.Event,Dr=o.dispatchEvent;return typeof Dr>"u"?!0:(typeof br=="function"?br=new br("unhandledrejection",{cancelable:!0}):typeof Pr=="function"?br=new Pr("unhandledrejection",{cancelable:!0}):(br=o.document.createEvent("CustomEvent"),br.initCustomEvent("unhandledrejection",!1,!0,br)),br.promise=this,br.reason=this.j,Dr(br))},fr.prototype.H=function(){if(this.h!=null){for(var br=0;br<this.h.length;++br)yr.i(this.h[br]);this.h=null}};var yr=new tr;return fr.prototype.L=function(br){var Pr=this.l();br.T(Pr.resolve,Pr.reject)},fr.prototype.M=function(br,Pr){var Dr=this.l();try{br.call(Pr,Dr.resolve,Dr.reject)}catch(zr){Dr.reject(zr)}},fr.prototype.then=function(br,Pr){function Dr(pn,Yr){return typeof pn=="function"?function(bn){try{zr(pn(bn))}catch(Rn){Kr(Rn)}}:Yr}var zr,Kr,Zr=new fr(function(pn,Yr){zr=pn,Kr=Yr});return this.T(Dr(br,zr),Dr(Pr,Kr)),Zr},fr.prototype.catch=function(br){return this.then(void 0,br)},fr.prototype.T=function(br,Pr){function Dr(){switch(zr.i){case 1:br(zr.j);break;case 2:Pr(zr.j);break;default:throw Error("Unexpected state: "+zr.i)}}var zr=this;this.h==null?yr.i(Dr):this.h.push(Dr),this.u=!0},fr.resolve=lr,fr.reject=function(br){return new fr(function(Pr,Dr){Dr(br)})},fr.race=function(br){return new fr(function(Pr,Dr){for(var zr=c(br),Kr=zr.next();!Kr.done;Kr=zr.next())lr(Kr.value).T(Pr,Dr)})},fr.all=function(br){var Pr=c(br),Dr=Pr.next();return Dr.done?lr([]):new fr(function(zr,Kr){function Zr(bn){return function(Rn){pn[bn]=Rn,Yr--,Yr==0&&zr(pn)}}var pn=[],Yr=0;do pn.push(void 0),Yr++,lr(Dr.value).T(Zr(pn.length-1),Kr),Dr=Pr.next();while(!Dr.done)})},fr});function kr(ar,fr){ar instanceof String&&(ar+="");var tr=0,lr=!1,ur={next:function(){if(!lr&&tr<ar.length){var yr=tr++;return{value:fr(yr,ar[yr]),done:!1}}return lr=!0,{done:!0,value:void 0}}};return ur[Symbol.iterator]=function(){return ur},ur}s("Array.prototype.keys",function(ar){return ar||function(){return kr(this,function(fr){return fr})}}),s("Array.prototype.fill",function(ar){return ar||function(fr,tr,lr){var ur=this.length||0;for(0>tr&&(tr=Math.max(0,ur+tr)),(lr==null||lr>ur)&&(lr=ur),lr=Number(lr),0>lr&&(lr=Math.max(0,ur+lr)),tr=Number(tr||0);tr<lr;tr++)this[tr]=fr;return this}});function Cr(ar){return ar||Array.prototype.fill}s("Int8Array.prototype.fill",Cr),s("Uint8Array.prototype.fill",Cr),s("Uint8ClampedArray.prototype.fill",Cr),s("Int16Array.prototype.fill",Cr),s("Uint16Array.prototype.fill",Cr),s("Int32Array.prototype.fill",Cr),s("Uint32Array.prototype.fill",Cr),s("Float32Array.prototype.fill",Cr),s("Float64Array.prototype.fill",Cr),s("Object.is",function(ar){return ar||function(fr,tr){return fr===tr?fr!==0||1/fr===1/tr:fr!==fr&&tr!==tr}}),s("Array.prototype.includes",function(ar){return ar||function(fr,tr){var lr=this;lr instanceof String&&(lr=String(lr));var ur=lr.length;for(tr=tr||0,0>tr&&(tr=Math.max(tr+ur,0));tr<ur;tr++){var yr=lr[tr];if(yr===fr||Object.is(yr,fr))return!0}return!1}}),s("String.prototype.includes",function(ar){return ar||function(fr,tr){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(fr instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(fr,tr||0)!==-1}});var gn=this||self;function hn(ar,fr){ar=ar.split(".");var tr=gn;ar[0]in tr||typeof tr.execScript>"u"||tr.execScript("var "+ar[0]);for(var lr;ar.length&&(lr=ar.shift());)ar.length||fr===void 0?tr[lr]&&tr[lr]!==Object.prototype[lr]?tr=tr[lr]:tr=tr[lr]={}:tr[lr]=fr}function Xr(ar){var fr;e:{if((fr=gn.navigator)&&(fr=fr.userAgent))break e;fr=""}return fr.indexOf(ar)!=-1}var dn=Array.prototype.map?function(ar,fr){return Array.prototype.map.call(ar,fr,void 0)}:function(ar,fr){for(var tr=ar.length,lr=Array(tr),ur=typeof ar=="string"?ar.split(""):ar,yr=0;yr<tr;yr++)yr in ur&&(lr[yr]=fr.call(void 0,ur[yr],yr,ar));return lr},Wr={},Jr=null;function cn(ar){var fr=ar.length,tr=3*fr/4;tr%3?tr=Math.floor(tr):"=.".indexOf(ar[fr-1])!=-1&&(tr="=.".indexOf(ar[fr-2])!=-1?tr-2:tr-1);var lr=new Uint8Array(tr),ur=0;return Vr(ar,function(yr){lr[ur++]=yr}),ur!==tr?lr.subarray(0,ur):lr}function Vr(ar,fr){function tr(Dr){for(;lr<ar.length;){var zr=ar.charAt(lr++),Kr=Jr[zr];if(Kr!=null)return Kr;if(!/^[\s\xa0]*$/.test(zr))throw Error("Unknown base64 encoding at char: "+zr)}return Dr}Ur();for(var lr=0;;){var ur=tr(-1),yr=tr(0),br=tr(64),Pr=tr(64);if(Pr===64&&ur===-1)break;fr(ur<<2|yr>>4),br!=64&&(fr(yr<<4&240|br>>2),Pr!=64&&fr(br<<6&192|Pr))}}function Ur(){if(!Jr){Jr={};for(var ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),fr=["+/=","+/","-_=","-_.","-_"],tr=0;5>tr;tr++){var lr=ar.concat(fr[tr].split(""));Wr[tr]=lr;for(var ur=0;ur<lr.length;ur++){var yr=lr[ur];Jr[yr]===void 0&&(Jr[yr]=ur)}}}}var mn=typeof Uint8Array<"u",Sn=!(Xr("Trident")||Xr("MSIE"))&&typeof gn.btoa=="function";function Pn(ar){if(!Sn){var fr;fr===void 0&&(fr=0),Ur(),fr=Wr[fr];for(var tr=Array(Math.floor(ar.length/3)),lr=fr[64]||"",ur=0,yr=0;ur<ar.length-2;ur+=3){var br=ar[ur],Pr=ar[ur+1],Dr=ar[ur+2],zr=fr[br>>2];br=fr[(br&3)<<4|Pr>>4],Pr=fr[(Pr&15)<<2|Dr>>6],Dr=fr[Dr&63],tr[yr++]=zr+br+Pr+Dr}switch(zr=0,Dr=lr,ar.length-ur){case 2:zr=ar[ur+1],Dr=fr[(zr&15)<<2]||lr;case 1:ar=ar[ur],tr[yr]=fr[ar>>2]+fr[(ar&3)<<4|zr>>4]+Dr+lr}return tr.join("")}for(fr="";10240<ar.length;)fr+=String.fromCharCode.apply(null,ar.subarray(0,10240)),ar=ar.subarray(10240);return fr+=String.fromCharCode.apply(null,ar),btoa(fr)}var On=RegExp("[-_.]","g");function kn(ar){switch(ar){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Fn(ar){if(!Sn)return cn(ar);On.test(ar)&&(ar=ar.replace(On,kn)),ar=atob(ar);for(var fr=new Uint8Array(ar.length),tr=0;tr<ar.length;tr++)fr[tr]=ar.charCodeAt(tr);return fr}var Gn;function ti(){return Gn||(Gn=new Uint8Array(0))}var Li={},qs=typeof Uint8Array.prototype.slice=="function",Un=0,Yn=0;function fs(ar){var fr=0>ar;ar=Math.abs(ar);var tr=ar>>>0;ar=Math.floor((ar-tr)/4294967296),fr&&(tr=c(Ys(tr,ar)),fr=tr.next().value,ar=tr.next().value,tr=fr),Un=tr>>>0,Yn=ar>>>0}var Aa=typeof BigInt=="function";function Ys(ar,fr){return fr=~fr,ar?ar=~ar+1:fr+=1,[ar,fr]}function Sa(ar,fr){this.i=ar>>>0,this.h=fr>>>0}function ms(ar){if(!ar)return _o||(_o=new Sa(0,0));if(!/^-?\d+$/.test(ar))return null;if(16>ar.length)fs(Number(ar));else if(Aa)ar=BigInt(ar),Un=Number(ar&BigInt(4294967295))>>>0,Yn=Number(ar>>BigInt(32)&BigInt(4294967295));else{var fr=+(ar[0]==="-");Yn=Un=0;for(var tr=ar.length,lr=fr,ur=(tr-fr)%6+fr;ur<=tr;lr=ur,ur+=6)lr=Number(ar.slice(lr,ur)),Yn*=1e6,Un=1e6*Un+lr,4294967296<=Un&&(Yn+=Un/4294967296|0,Un%=4294967296);fr&&(fr=c(Ys(Un,Yn)),ar=fr.next().value,fr=fr.next().value,Un=ar,Yn=fr)}return new Sa(Un,Yn)}var _o;function yo(ar,fr){return Error("Invalid wire type: "+ar+" (at position "+fr+")")}function _s(){return Error("Failed to read varint, encoding is invalid.")}function ys(ar,fr){return Error("Tried to read past the end of the data "+fr+" > "+ar)}function Hi(){throw Error("Invalid UTF8")}function Qs(ar,fr){return fr=String.fromCharCode.apply(null,fr),ar==null?fr:ar+fr}var Kn=void 0,Qn,ko=typeof TextDecoder<"u",Xs,Qo=typeof TextEncoder<"u",Xo;function Jo(ar){if(ar!==Li)throw Error("illegal external caller")}function xo(ar,fr){if(Jo(fr),this.V=ar,ar!=null&&ar.length===0)throw Error("ByteString should be constructed with non-empty values")}function vs(){return Xo||(Xo=new xo(null,Li))}function Js(ar){Jo(Li);var fr=ar.V;return fr=fr==null||mn&&fr!=null&&fr instanceof Uint8Array?fr:typeof fr=="string"?Fn(fr):null,fr==null?fr:ar.V=fr}function Pa(ar){if(typeof ar=="string")return{buffer:Fn(ar),C:!1};if(Array.isArray(ar))return{buffer:new Uint8Array(ar),C:!1};if(ar.constructor===Uint8Array)return{buffer:ar,C:!1};if(ar.constructor===ArrayBuffer)return{buffer:new Uint8Array(ar),C:!1};if(ar.constructor===xo)return{buffer:Js(ar)||ti(),C:!0};if(ar instanceof Uint8Array)return{buffer:new Uint8Array(ar.buffer,ar.byteOffset,ar.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Zs(ar,fr){this.i=null,this.m=!1,this.h=this.j=this.l=0,Do(this,ar,fr)}function Do(ar,fr,tr){tr=tr===void 0?{}:tr,ar.S=tr.S===void 0?!1:tr.S,fr&&(fr=Pa(fr),ar.i=fr.buffer,ar.m=fr.C,ar.l=0,ar.j=ar.i.length,ar.h=ar.l)}Zs.prototype.reset=function(){this.h=this.l};function $i(ar,fr){if(ar.h=fr,fr>ar.j)throw ys(ar.j,fr)}function vo(ar){var fr=ar.i,tr=ar.h,lr=fr[tr++],ur=lr&127;if(lr&128&&(lr=fr[tr++],ur|=(lr&127)<<7,lr&128&&(lr=fr[tr++],ur|=(lr&127)<<14,lr&128&&(lr=fr[tr++],ur|=(lr&127)<<21,lr&128&&(lr=fr[tr++],ur|=lr<<28,lr&128&&fr[tr++]&128&&fr[tr++]&128&&fr[tr++]&128&&fr[tr++]&128&&fr[tr++]&128)))))throw _s();return $i(ar,tr),ur}function Bi(ar,fr){if(0>fr)throw Error("Tried to read a negative byte length: "+fr);var tr=ar.h,lr=tr+fr;if(lr>ar.j)throw ys(fr,ar.j-tr);return ar.h=lr,tr}var io=[];function Zo(){this.h=[]}Zo.prototype.length=function(){return this.h.length},Zo.prototype.end=function(){var ar=this.h;return this.h=[],ar};function oo(ar,fr,tr){for(;0<tr||127<fr;)ar.h.push(fr&127|128),fr=(fr>>>7|tr<<25)>>>0,tr>>>=7;ar.h.push(fr)}function so(ar,fr){for(;127<fr;)ar.h.push(fr&127|128),fr>>>=7;ar.h.push(fr)}function Lo(ar,fr){if(io.length){var tr=io.pop();Do(tr,ar,fr),ar=tr}else ar=new Zs(ar,fr);this.h=ar,this.j=this.h.h,this.i=this.l=-1,this.setOptions(fr)}Lo.prototype.setOptions=function(ar){ar=ar===void 0?{}:ar,this.ca=ar.ca===void 0?!1:ar.ca},Lo.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function ea(ar){var fr=ar.h;if(fr.h==fr.j)return!1;ar.j=ar.h.h;var tr=vo(ar.h)>>>0;if(fr=tr>>>3,tr&=7,!(0<=tr&&5>=tr))throw yo(tr,ar.j);if(1>fr)throw Error("Invalid field number: "+fr+" (at position "+ar.j+")");return ar.l=fr,ar.i=tr,!0}function Ki(ar){switch(ar.i){case 0:if(ar.i!=0)Ki(ar);else e:{ar=ar.h;for(var fr=ar.h,tr=fr+10,lr=ar.i;fr<tr;)if((lr[fr++]&128)===0){$i(ar,fr);break e}throw _s()}break;case 1:ar=ar.h,$i(ar,ar.h+8);break;case 2:ar.i!=2?Ki(ar):(fr=vo(ar.h)>>>0,ar=ar.h,$i(ar,ar.h+fr));break;case 5:ar=ar.h,$i(ar,ar.h+4);break;case 3:fr=ar.l;do{if(!ea(ar))throw Error("Unmatched start-group tag: stream EOF");if(ar.i==4){if(ar.l!=fr)throw Error("Unmatched end-group tag");break}Ki(ar)}while(!0);break;default:throw yo(ar.i,ar.j)}}var es=[];function Xn(){this.j=[],this.i=0,this.h=new Zo}function ao(ar,fr){fr.length!==0&&(ar.j.push(fr),ar.i+=fr.length)}function lo(ar,fr){if(fr=fr.R){ao(ar,ar.h.end());for(var tr=0;tr<fr.length;tr++)ao(ar,Js(fr[tr])||ti())}}var Ei=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Vi(ar,fr){return Ei?ar[Ei]|=fr:ar.A!==void 0?ar.A|=fr:(Object.defineProperties(ar,{A:{value:fr,configurable:!0,writable:!0,enumerable:!1}}),fr)}function Es(ar,fr){Ei?ar[Ei]&&(ar[Ei]&=~fr):ar.A!==void 0&&(ar.A&=~fr)}function xn(ar){var fr;return Ei?fr=ar[Ei]:fr=ar.A,fr??0}function wi(ar,fr){Ei?ar[Ei]=fr:ar.A!==void 0?ar.A=fr:Object.defineProperties(ar,{A:{value:fr,configurable:!0,writable:!0,enumerable:!1}})}function wa(ar){return Vi(ar,1),ar}function ta(ar,fr){wi(fr,(ar|0)&-51)}function bs(ar,fr){wi(fr,(ar|18)&-41)}var Ni={};function Eo(ar){return ar!==null&&typeof ar=="object"&&!Array.isArray(ar)&&ar.constructor===Object}var bi,Oa=[];wi(Oa,23),bi=Object.freeze(Oa);function Ts(ar){if(xn(ar.o)&2)throw Error("Cannot mutate an immutable Message")}function ts(ar){var fr=ar.length;(fr=fr?ar[fr-1]:void 0)&&Eo(fr)?fr.g=1:(fr={},ar.push((fr.g=1,fr)))}function Rs(ar){var fr=ar.i+ar.G;return ar.B||(ar.B=ar.o[fr]={})}function Ti(ar,fr){return fr===-1?null:fr>=ar.i?ar.B?ar.B[fr]:void 0:ar.o[fr+ar.G]}function ji(ar,fr,tr,lr){Ts(ar),Is(ar,fr,tr,lr)}function Is(ar,fr,tr,lr){ar.j&&(ar.j=void 0),fr>=ar.i||lr?Rs(ar)[fr]=tr:(ar.o[fr+ar.G]=tr,(ar=ar.B)&&fr in ar&&delete ar[fr])}function jn(ar,fr,tr,lr){var ur=Ti(ar,fr);Array.isArray(ur)||(ur=bi);var yr=xn(ur);if(yr&1||wa(ur),lr)yr&2||Vi(ur,2),tr&1||Object.freeze(ur);else{lr=!(tr&2);var br=yr&2;tr&1||!br?lr&&yr&16&&!br&&Es(ur,16):(ur=wa(Array.prototype.slice.call(ur)),Is(ar,fr,ur))}return ur}function ra(ar,fr){var tr=Ti(ar,fr),lr=tr==null?tr:typeof tr=="number"||tr==="NaN"||tr==="Infinity"||tr==="-Infinity"?Number(tr):void 0;return lr!=null&&lr!==tr&&Is(ar,fr,lr),lr}function rs(ar,fr,tr,lr,ur){ar.h||(ar.h={});var yr=ar.h[tr],br=jn(ar,tr,3,ur);if(!yr){var Pr=br;yr=[];var Dr=!!(xn(ar.o)&16);br=!!(xn(Pr)&2);var zr=Pr;!ur&&br&&(Pr=Array.prototype.slice.call(Pr));for(var Kr=br,Zr=0;Zr<Pr.length;Zr++){var pn=Pr[Zr],Yr=fr,bn=!1;if(bn=bn===void 0?!1:bn,pn=Array.isArray(pn)?new Yr(pn):bn?new Yr:void 0,pn!==void 0){Yr=pn.o;var Rn=bn=xn(Yr);br&&(Rn|=2),Dr&&(Rn|=16),Rn!=bn&&wi(Yr,Rn),Yr=Rn,Kr=Kr||!!(2&Yr),yr.push(pn)}}return ar.h[tr]=yr,Dr=xn(Pr),fr=Dr|33,fr=Kr?fr&-9:fr|8,Dr!=fr&&(Kr=Pr,Object.isFrozen(Kr)&&(Kr=Array.prototype.slice.call(Kr)),wi(Kr,fr),Pr=Kr),zr!==Pr&&Is(ar,tr,Pr),(ur||lr&&br)&&Vi(yr,2),lr&&Object.freeze(yr),yr}return ur||(ur=Object.isFrozen(yr),lr&&!ur?Object.freeze(yr):!lr&&ur&&(yr=Array.prototype.slice.call(yr),ar.h[tr]=yr)),yr}function co(ar,fr,tr){var lr=!!(xn(ar.o)&2);if(fr=rs(ar,fr,tr,lr,lr),ar=jn(ar,tr,3,lr),!(lr||xn(ar)&8)){for(lr=0;lr<fr.length;lr++){if(tr=fr[lr],xn(tr.o)&2){var ur=ns(tr,!1);ur.j=tr}else ur=tr;tr!==ur&&(fr[lr]=ur,ar[lr]=ur.o)}Vi(ar,8)}return fr}function Jn(ar,fr,tr){if(tr!=null&&typeof tr!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof tr+": "+tr);ji(ar,fr,tr)}function na(ar,fr,tr,lr,ur){Ts(ar);var yr=rs(ar,tr,fr,!1,!1);return tr=lr??new tr,ar=jn(ar,fr,2,!1),ur!=null?(yr.splice(ur,0,tr),ar.splice(ur,0,tr.o)):(yr.push(tr),ar.push(tr.o)),tr.C()&&Es(ar,8),tr}function As(ar,fr){return ar??fr}function di(ar,fr,tr){return tr=tr===void 0?0:tr,As(ra(ar,fr),tr)}var gi;function Qa(ar){switch(typeof ar){case"number":return isFinite(ar)?ar:String(ar);case"object":if(ar)if(Array.isArray(ar)){if((xn(ar)&128)!==0)return ar=Array.prototype.slice.call(ar),ts(ar),ar}else{if(mn&&ar!=null&&ar instanceof Uint8Array)return Pn(ar);if(ar instanceof xo){var fr=ar.V;return fr==null?"":typeof fr=="string"?fr:ar.V=Pn(fr)}}}return ar}function hi(ar,fr,tr,lr){if(ar!=null){if(Array.isArray(ar))ar=Ss(ar,fr,tr,lr!==void 0);else if(Eo(ar)){var ur={},yr;for(yr in ar)ur[yr]=hi(ar[yr],fr,tr,lr);ar=ur}else ar=fr(ar,lr);return ar}}function Ss(ar,fr,tr,lr){var ur=xn(ar);lr=lr?!!(ur&16):void 0,ar=Array.prototype.slice.call(ar);for(var yr=0;yr<ar.length;yr++)ar[yr]=hi(ar[yr],fr,tr,lr);return tr(ur,ar),ar}function Xa(ar){return ar.ja===Ni?ar.toJSON():Qa(ar)}function Ja(ar,fr){ar&128&&ts(fr)}function Ps(ar,fr,tr){if(tr=tr===void 0?bs:tr,ar!=null){if(mn&&ar instanceof Uint8Array)return ar.length?new xo(new Uint8Array(ar),Li):vs();if(Array.isArray(ar)){var lr=xn(ar);return lr&2?ar:fr&&!(lr&32)&&(lr&16||lr===0)?(wi(ar,lr|2),ar):(ar=Ss(ar,Ps,lr&4?bs:tr,!0),fr=xn(ar),fr&4&&fr&2&&Object.freeze(ar),ar)}return ar.ja===Ni?Bo(ar):ar}}function ws(ar,fr,tr,lr,ur,yr,br){if(ar=ar.h&&ar.h[tr]){if(lr=xn(ar),lr&2?lr=ar:(yr=dn(ar,Bo),bs(lr,yr),Object.freeze(yr),lr=yr),Ts(fr),br=lr==null?bi:wa([]),lr!=null){for(yr=!!lr.length,ar=0;ar<lr.length;ar++){var Pr=lr[ar];yr=yr&&!(xn(Pr.o)&2),br[ar]=Pr.o}yr=(yr?8:0)|1,ar=xn(br),(ar&yr)!==yr&&(Object.isFrozen(br)&&(br=Array.prototype.slice.call(br)),wi(br,ar|yr)),fr.h||(fr.h={}),fr.h[tr]=lr}else fr.h&&(fr.h[tr]=void 0);Is(fr,tr,br,ur)}else ji(fr,tr,Ps(lr,yr,br),ur)}function Bo(ar){return xn(ar.o)&2||(ar=ns(ar,!0),Vi(ar.o,2)),ar}function ns(ar,fr){var tr=ar.o,lr=[];Vi(lr,16);var ur=ar.constructor.h;if(ur&&lr.push(ur),ur=ar.B,ur){lr.length=tr.length,lr.fill(void 0,lr.length,tr.length);var yr={};lr[lr.length-1]=yr}(xn(tr)&128)!==0&&ts(lr),fr=fr||ar.C()?bs:ta,yr=ar.constructor,gi=lr,lr=new yr(lr),gi=void 0,ar.R&&(lr.R=ar.R.slice()),yr=!!(xn(tr)&16);for(var br=ur?tr.length-1:tr.length,Pr=0;Pr<br;Pr++)ws(ar,lr,Pr-ar.G,tr[Pr],!1,yr,fr);if(ur)for(var Dr in ur)ws(ar,lr,+Dr,ur[Dr],!0,yr,fr);return lr}function fi(ar,fr,tr){ar==null&&(ar=gi),gi=void 0;var lr=this.constructor.i||0,ur=0<lr,yr=this.constructor.h,br=!1;if(ar==null){ar=yr?[yr]:[];var Pr=48,Dr=!0;ur&&(lr=0,Pr|=128),wi(ar,Pr)}else{if(!Array.isArray(ar)||yr&&yr!==ar[0])throw Error();var zr=Pr=Vi(ar,0);if((Dr=(16&zr)!==0)&&((br=(32&zr)!==0)||(zr|=32)),ur){if(128&zr)lr=0;else if(0<ar.length){var Kr=ar[ar.length-1];if(Eo(Kr)&&"g"in Kr){lr=0,zr|=128,delete Kr.g;var Zr=!0,pn;for(pn in Kr){Zr=!1;break}Zr&&ar.pop()}}}else if(128&zr)throw Error();Pr!==zr&&wi(ar,zr)}this.G=(yr?0:-1)-lr,this.h=void 0,this.o=ar;e:{if(yr=this.o.length,lr=yr-1,yr&&(yr=this.o[lr],Eo(yr))){this.B=yr,this.i=lr-this.G;break e}fr!==void 0&&-1<fr?(this.i=Math.max(fr,lr+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!ur&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(tr){fr=Dr&&!br&&!0,ur=this.i;var Yr;for(Dr=0;Dr<tr.length;Dr++)br=tr[Dr],br<ur?(br+=this.G,(lr=ar[br])?bo(lr,fr):ar[br]=bi):(Yr||(Yr=Rs(this)),(lr=Yr[br])?bo(lr,fr):Yr[br]=bi)}}fi.prototype.toJSON=function(){return Ss(this.o,Xa,Ja)},fi.prototype.C=function(){return!!(xn(this.o)&2)};function bo(ar,fr){if(Array.isArray(ar)){var tr=xn(ar),lr=1;!fr||tr&2||(lr|=16),(tr&lr)!==lr&&wi(ar,tr|lr)}}fi.prototype.ja=Ni,fi.prototype.toString=function(){return this.o.toString()};function Oi(ar,fr,tr){if(tr){var lr={},ur;for(ur in tr){var yr=tr[ur],br=yr.qa;br||(lr.J=yr.wa||yr.oa.W,yr.ia?(lr.aa=Cs(yr.ia),br=function(Pr){return function(Dr,zr,Kr){return Pr.J(Dr,zr,Kr,Pr.aa)}}(lr)):yr.ka?(lr.Z=Ca(yr.da.P,yr.ka),br=function(Pr){return function(Dr,zr,Kr){return Pr.J(Dr,zr,Kr,Pr.Z)}}(lr)):br=lr.J,yr.qa=br),br(fr,ar,yr.da),lr={J:lr.J,aa:lr.aa,Z:lr.Z}}}lo(fr,ar)}var To=Symbol();function Vo(ar,fr,tr){return ar[To]||(ar[To]=function(lr,ur){return fr(lr,ur,tr)})}function No(ar){var fr=ar[To];if(!fr){var tr=ia(ar);fr=function(lr,ur){return Ii(lr,ur,tr)},ar[To]=fr}return fr}function zn(ar){var fr=ar.ia;if(fr)return No(fr);if(fr=ar.va)return Vo(ar.da.P,fr,ar.ka)}function is(ar){var fr=zn(ar),tr=ar.da,lr=ar.oa.U;return fr?function(ur,yr){return lr(ur,yr,tr,fr)}:function(ur,yr){return lr(ur,yr,tr)}}function Mn(ar,fr){var tr=ar[fr];return typeof tr=="function"&&tr.length===0&&(tr=tr(),ar[fr]=tr),Array.isArray(tr)&&(Ri in tr||os in tr||0<tr.length&&typeof tr[0]=="function")?tr:void 0}function jo(ar,fr,tr,lr,ur,yr){fr.P=ar[0];var br=1;if(ar.length>br&&typeof ar[br]!="number"){var Pr=ar[br++];tr(fr,Pr)}for(;br<ar.length;){tr=ar[br++];for(var Dr=br+1;Dr<ar.length&&typeof ar[Dr]!="number";)Dr++;switch(Pr=ar[br++],Dr-=br,Dr){case 0:lr(fr,tr,Pr);break;case 1:(Dr=Mn(ar,br))?(br++,ur(fr,tr,Pr,Dr)):lr(fr,tr,Pr,ar[br++]);break;case 2:Dr=br++,Dr=Mn(ar,Dr),ur(fr,tr,Pr,Dr,ar[br++]);break;case 3:yr(fr,tr,Pr,ar[br++],ar[br++],ar[br++]);break;case 4:yr(fr,tr,Pr,ar[br++],ar[br++],ar[br++],ar[br++]);break;default:throw Error("unexpected number of binary field arguments: "+Dr)}}return fr}var Os=Symbol();function Cs(ar){var fr=ar[Os];if(!fr){var tr=Gi(ar);fr=function(lr,ur){return el(lr,ur,tr)},ar[Os]=fr}return fr}function Ca(ar,fr){var tr=ar[Os];return tr||(tr=function(lr,ur){return Oi(lr,ur,fr)},ar[Os]=tr),tr}var os=Symbol();function Za(ar,fr){ar.push(fr)}function Ma(ar,fr,tr){ar.push(fr,tr.W)}function Ro(ar,fr,tr,lr){var ur=Cs(lr),yr=Gi(lr).P,br=tr.W;ar.push(fr,function(Pr,Dr,zr){return br(Pr,Dr,zr,yr,ur)})}function li(ar,fr,tr,lr,ur,yr){var br=Ca(lr,yr),Pr=tr.W;ar.push(fr,function(Dr,zr,Kr){return Pr(Dr,zr,Kr,lr,br)})}function Gi(ar){var fr=ar[os];return fr||(fr=jo(ar,ar[os]=[],Za,Ma,Ro,li),Ri in ar&&os in ar&&(ar.length=0),fr)}var Ri=Symbol();function ss(ar,fr){ar[0]=fr}function qi(ar,fr,tr,lr){var ur=tr.U;ar[fr]=lr?function(yr,br,Pr){return ur(yr,br,Pr,lr)}:ur}function Io(ar,fr,tr,lr,ur){var yr=tr.U,br=No(lr),Pr=ia(lr).P;ar[fr]=function(Dr,zr,Kr){return yr(Dr,zr,Kr,Pr,br,ur)}}function Pl(ar,fr,tr,lr,ur,yr,br){var Pr=tr.U,Dr=Vo(lr,ur,yr);ar[fr]=function(zr,Kr,Zr){return Pr(zr,Kr,Zr,lr,Dr,br)}}function ia(ar){var fr=ar[Ri];return fr||(fr=jo(ar,ar[Ri]={},ss,qi,Io,Pl),Ri in ar&&os in ar&&(ar.length=0),fr)}function Ii(ar,fr,tr){for(;ea(fr)&&fr.i!=4;){var lr=fr.l,ur=tr[lr];if(!ur){var yr=tr[0];yr&&(yr=yr[lr])&&(ur=tr[lr]=is(yr))}if(!ur||!ur(fr,ar,lr)){ur=fr,lr=ar,yr=ur.j,Ki(ur);var br=ur;if(!br.ca){if(ur=br.h.h-yr,br.h.h=yr,br=br.h,ur==0)ur=vs();else{if(yr=Bi(br,ur),br.S&&br.m)ur=br.i.subarray(yr,yr+ur);else{br=br.i;var Pr=yr;ur=yr+ur,ur=Pr===ur?ti():qs?br.slice(Pr,ur):new Uint8Array(br.subarray(Pr,ur))}ur=ur.length==0?vs():new xo(ur,Li)}(yr=lr.R)?yr.push(ur):lr.R=[ur]}}}return ar}function el(ar,fr,tr){for(var lr=tr.length,ur=lr%2==1,yr=ur?1:0;yr<lr;yr+=2)(0,tr[yr+1])(fr,ar,tr[yr]);Oi(ar,fr,ur?tr[0]:void 0)}function as(ar,fr){return{U:ar,W:fr}}var ni=as(function(ar,fr,tr){if(ar.i!==5)return!1;ar=ar.h;var lr=ar.i,ur=ar.h,yr=lr[ur],br=lr[ur+1],Pr=lr[ur+2];return lr=lr[ur+3],$i(ar,ar.h+4),br=(yr<<0|br<<8|Pr<<16|lr<<24)>>>0,ar=2*(br>>31)+1,yr=br>>>23&255,br&=8388607,ji(fr,tr,yr==255?br?NaN:1/0*ar:yr==0?ar*Math.pow(2,-149)*br:ar*Math.pow(2,yr-150)*(br+Math.pow(2,23))),!0},function(ar,fr,tr){if(fr=ra(fr,tr),fr!=null){so(ar.h,8*tr+5),ar=ar.h;var lr=+fr;lr===0?0<1/lr?Un=Yn=0:(Yn=0,Un=2147483648):isNaN(lr)?(Yn=0,Un=2147483647):(lr=(tr=0>lr?-2147483648:0)?-lr:lr,34028234663852886e22<lr?(Yn=0,Un=(tr|2139095040)>>>0):11754943508222875e-54>lr?(lr=Math.round(lr/Math.pow(2,-149)),Yn=0,Un=(tr|lr)>>>0):(fr=Math.floor(Math.log(lr)/Math.LN2),lr*=Math.pow(2,-fr),lr=Math.round(8388608*lr),16777216<=lr&&++fr,Yn=0,Un=(tr|fr+127<<23|lr&8388607)>>>0)),tr=Un,ar.h.push(tr>>>0&255),ar.h.push(tr>>>8&255),ar.h.push(tr>>>16&255),ar.h.push(tr>>>24&255)}}),Ms=as(function(ar,fr,tr){if(ar.i!==0)return!1;var lr=ar.h,ur=0,yr=ar=0,br=lr.i,Pr=lr.h;do{var Dr=br[Pr++];ur|=(Dr&127)<<yr,yr+=7}while(32>yr&&Dr&128);for(32<yr&&(ar|=(Dr&127)>>4),yr=3;32>yr&&Dr&128;yr+=7)Dr=br[Pr++],ar|=(Dr&127)<<yr;if($i(lr,Pr),128>Dr)lr=ur>>>0,Dr=ar>>>0,(ar=Dr&2147483648)&&(lr=~lr+1>>>0,Dr=~Dr>>>0,lr==0&&(Dr=Dr+1>>>0)),lr=4294967296*Dr+(lr>>>0);else throw _s();return ji(fr,tr,ar?-lr:lr),!0},function(ar,fr,tr){fr=Ti(fr,tr),fr!=null&&(typeof fr=="string"&&ms(fr),fr!=null&&(so(ar.h,8*tr),typeof fr=="number"?(ar=ar.h,fs(fr),oo(ar,Un,Yn)):(tr=ms(fr),oo(ar.h,tr.i,tr.h))))}),tl=as(function(ar,fr,tr){return ar.i!==0?!1:(ji(fr,tr,vo(ar.h)),!0)},function(ar,fr,tr){if(fr=Ti(fr,tr),fr!=null&&fr!=null)if(so(ar.h,8*tr),ar=ar.h,tr=fr,0<=tr)so(ar,tr);else{for(fr=0;9>fr;fr++)ar.h.push(tr&127|128),tr>>=7;ar.h.push(1)}}),Yi=as(function(ar,fr,tr){if(ar.i!==2)return!1;var lr=vo(ar.h)>>>0;ar=ar.h;var ur=Bi(ar,lr);if(ar=ar.i,ko){var yr=ar,br;(br=Qn)||(br=Qn=new TextDecoder("utf-8",{fatal:!0})),ar=ur+lr,yr=ur===0&&ar===yr.length?yr:yr.subarray(ur,ar);try{var Pr=br.decode(yr)}catch(Zr){if(Kn===void 0){try{br.decode(new Uint8Array([128]))}catch{}try{br.decode(new Uint8Array([97])),Kn=!0}catch{Kn=!1}}throw!Kn&&(Qn=void 0),Zr}}else{Pr=ur,lr=Pr+lr,ur=[];for(var Dr=null,zr,Kr;Pr<lr;)zr=ar[Pr++],128>zr?ur.push(zr):224>zr?Pr>=lr?Hi():(Kr=ar[Pr++],194>zr||(Kr&192)!==128?(Pr--,Hi()):ur.push((zr&31)<<6|Kr&63)):240>zr?Pr>=lr-1?Hi():(Kr=ar[Pr++],(Kr&192)!==128||zr===224&&160>Kr||zr===237&&160<=Kr||((yr=ar[Pr++])&192)!==128?(Pr--,Hi()):ur.push((zr&15)<<12|(Kr&63)<<6|yr&63)):244>=zr?Pr>=lr-2?Hi():(Kr=ar[Pr++],(Kr&192)!==128||(zr<<28)+(Kr-144)>>30!==0||((yr=ar[Pr++])&192)!==128||((br=ar[Pr++])&192)!==128?(Pr--,Hi()):(zr=(zr&7)<<18|(Kr&63)<<12|(yr&63)<<6|br&63,zr-=65536,ur.push((zr>>10&1023)+55296,(zr&1023)+56320))):Hi(),8192<=ur.length&&(Dr=Qs(Dr,ur),ur.length=0);Pr=Qs(Dr,ur)}return ji(fr,tr,Pr),!0},function(ar,fr,tr){if(fr=Ti(fr,tr),fr!=null){var lr=!1;if(lr=lr===void 0?!1:lr,Qo){if(lr&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(fr))throw Error("Found an unpaired surrogate");fr=(Xs||(Xs=new TextEncoder)).encode(fr)}else{for(var ur=0,yr=new Uint8Array(3*fr.length),br=0;br<fr.length;br++){var Pr=fr.charCodeAt(br);if(128>Pr)yr[ur++]=Pr;else{if(2048>Pr)yr[ur++]=Pr>>6|192;else{if(55296<=Pr&&57343>=Pr){if(56319>=Pr&&br<fr.length){var Dr=fr.charCodeAt(++br);if(56320<=Dr&&57343>=Dr){Pr=1024*(Pr-55296)+Dr-56320+65536,yr[ur++]=Pr>>18|240,yr[ur++]=Pr>>12&63|128,yr[ur++]=Pr>>6&63|128,yr[ur++]=Pr&63|128;continue}else br--}if(lr)throw Error("Found an unpaired surrogate");Pr=65533}yr[ur++]=Pr>>12|224,yr[ur++]=Pr>>6&63|128}yr[ur++]=Pr&63|128}}fr=ur===yr.length?yr:yr.subarray(0,ur)}so(ar.h,8*tr+2),so(ar.h,fr.length),ao(ar,ar.h.end()),ao(ar,fr)}}),Qi=as(function(ar,fr,tr,lr,ur){if(ar.i!==2)return!1;fr=na(fr,tr,lr),tr=ar.h.j,lr=vo(ar.h)>>>0;var yr=ar.h.h+lr,br=yr-tr;if(0>=br&&(ar.h.j=yr,ur(fr,ar,void 0,void 0,void 0),br=yr-ar.h.h),br)throw Error("Message parsing ended unexpectedly. Expected to read "+(lr+" bytes, instead read "+(lr-br)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return ar.h.h=yr,ar.h.j=tr,!0},function(ar,fr,tr,lr,ur){if(fr=co(fr,lr,tr),fr!=null)for(lr=0;lr<fr.length;lr++){var yr=ar;so(yr.h,8*tr+2);var br=yr.h.end();ao(yr,br),br.push(yr.i),yr=br,ur(fr[lr],ar),br=ar;var Pr=yr.pop();for(Pr=br.i+br.h.length()-Pr;127<Pr;)yr.push(Pr&127|128),Pr>>>=7,br.i++;yr.push(Pr),br.i++}});function uo(ar){return function(fr,tr){e:{if(es.length){var lr=es.pop();lr.setOptions(tr),Do(lr.h,fr,tr),fr=lr}else fr=new Lo(fr,tr);try{var ur=ia(ar),yr=Ii(new ur.P,fr,ur);break e}finally{ur=fr.h,ur.i=null,ur.m=!1,ur.l=0,ur.j=0,ur.h=0,ur.S=!1,fr.l=-1,fr.i=-1,100>es.length&&es.push(fr)}yr=void 0}return yr}}function Ao(ar){return function(){var fr=new Xn;el(this,fr,Gi(ar)),ao(fr,fr.h.end());for(var tr=new Uint8Array(fr.i),lr=fr.j,ur=lr.length,yr=0,br=0;br<ur;br++){var Pr=lr[br];tr.set(Pr,yr),yr+=Pr.length}return fr.j=[tr],tr}}function Nn(ar){fi.call(this,ar)}gr(Nn,fi);var rl=[Nn,1,tl,2,ni,3,Yi,4,Yi];Nn.prototype.l=Ao(rl);function Fs(ar){fi.call(this,ar,-1,ks)}gr(Fs,fi),Fs.prototype.addClassification=function(ar,fr){return na(this,1,Nn,ar,fr),this};var ks=[1],xs=uo([Fs,1,Qi,rl]);function So(ar){fi.call(this,ar)}gr(So,fi);var Ci=[So,1,ni,2,ni,3,ni,4,ni,5,ni];So.prototype.l=Ao(Ci);function Ds(ar){fi.call(this,ar,-1,Mi)}gr(Ds,fi);var Mi=[1],oa=uo([Ds,1,Qi,Ci]);function Go(ar){fi.call(this,ar)}gr(Go,fi);var po=[Go,1,ni,2,ni,3,ni,4,ni,5,ni,6,Ms],Fa=uo(po);Go.prototype.l=Ao(po);function oi(ar,fr,tr){if(tr=ar.createShader(tr===0?ar.VERTEX_SHADER:ar.FRAGMENT_SHADER),ar.shaderSource(tr,fr),ar.compileShader(tr),!ar.getShaderParameter(tr,ar.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+ar.getShaderInfoLog(tr));return tr}function Xi(ar){return co(ar,Nn,1).map(function(fr){var tr=Ti(fr,1);return{index:tr??0,score:di(fr,2),label:Ti(fr,3)!=null?As(Ti(fr,3),""):void 0,displayName:Ti(fr,4)!=null?As(Ti(fr,4),""):void 0}})}function Ls(ar){return{x:di(ar,1),y:di(ar,2),z:di(ar,3),visibility:ra(ar,4)!=null?di(ar,4):void 0}}function go(ar){return ar.map(function(fr){return co(oa(fr),So,1).map(Ls)})}function ka(ar,fr){this.i=ar,this.h=fr,this.m=0}function Bs(ar,fr,tr){return zo(ar,fr),typeof ar.h.canvas.transferToImageBitmap=="function"?Promise.resolve(ar.h.canvas.transferToImageBitmap()):tr?Promise.resolve(ar.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(ar.h.canvas):(ar.j===void 0&&(ar.j=document.createElement("canvas")),new Promise(function(lr){ar.j.height=ar.h.canvas.height,ar.j.width=ar.h.canvas.width,ar.j.getContext("2d",{}).drawImage(ar.h.canvas,0,0,ar.h.canvas.width,ar.h.canvas.height),lr(ar.j)}))}function zo(ar,fr){var tr=ar.h;if(ar.s===void 0){var lr=oi(tr,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ur=oi(tr,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),yr=tr.createProgram();if(tr.attachShader(yr,lr),tr.attachShader(yr,ur),tr.linkProgram(yr),!tr.getProgramParameter(yr,tr.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+tr.getProgramInfoLog(yr));lr=ar.s=yr,tr.useProgram(lr),ur=tr.getUniformLocation(lr,"sampler0"),ar.l={O:tr.getAttribLocation(lr,"aVertex"),N:tr.getAttribLocation(lr,"aTex"),xa:ur},ar.v=tr.createBuffer(),tr.bindBuffer(tr.ARRAY_BUFFER,ar.v),tr.enableVertexAttribArray(ar.l.O),tr.vertexAttribPointer(ar.l.O,2,tr.FLOAT,!1,0,0),tr.bufferData(tr.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),tr.STATIC_DRAW),tr.bindBuffer(tr.ARRAY_BUFFER,null),ar.u=tr.createBuffer(),tr.bindBuffer(tr.ARRAY_BUFFER,ar.u),tr.enableVertexAttribArray(ar.l.N),tr.vertexAttribPointer(ar.l.N,2,tr.FLOAT,!1,0,0),tr.bufferData(tr.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),tr.STATIC_DRAW),tr.bindBuffer(tr.ARRAY_BUFFER,null),tr.uniform1i(ur,0)}lr=ar.l,tr.useProgram(ar.s),tr.canvas.width=fr.width,tr.canvas.height=fr.height,tr.viewport(0,0,fr.width,fr.height),tr.activeTexture(tr.TEXTURE0),ar.i.bindTexture2d(fr.glName),tr.enableVertexAttribArray(lr.O),tr.bindBuffer(tr.ARRAY_BUFFER,ar.v),tr.vertexAttribPointer(lr.O,2,tr.FLOAT,!1,0,0),tr.enableVertexAttribArray(lr.N),tr.bindBuffer(tr.ARRAY_BUFFER,ar.u),tr.vertexAttribPointer(lr.N,2,tr.FLOAT,!1,0,0),tr.bindFramebuffer(tr.DRAW_FRAMEBUFFER?tr.DRAW_FRAMEBUFFER:tr.FRAMEBUFFER,null),tr.clearColor(0,0,0,0),tr.clear(tr.COLOR_BUFFER_BIT),tr.colorMask(!0,!0,!0,!0),tr.drawArrays(tr.TRIANGLE_FAN,0,4),tr.disableVertexAttribArray(lr.O),tr.disableVertexAttribArray(lr.N),tr.bindBuffer(tr.ARRAY_BUFFER,null),ar.i.bindTexture2d(0)}function ls(ar){this.h=ar}var Vs=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function sa(ar,fr){return fr+ar}function aa(ar,fr){window[ar]=fr}function nl(ar){var fr=document.createElement("script");return fr.setAttribute("src",ar),fr.setAttribute("crossorigin","anonymous"),new Promise(function(tr){fr.addEventListener("load",function(){tr()},!1),fr.addEventListener("error",function(){tr()},!1),document.body.appendChild(fr)})}function la(){return Or(function(ar){switch(ar.h){case 1:return ar.s=2,Ar(ar,WebAssembly.instantiate(Vs),4);case 4:ar.h=3,ar.s=0;break;case 2:return ar.s=0,ar.l=null,ar.return(!1);case 3:return ar.return(!0)}})}function cs(ar){if(this.h=ar,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=ar&&ar.locateFile||sa,typeof window=="object")var fr=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")fr=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=fr,ar.options){fr=c(Object.keys(ar.options));for(var tr=fr.next();!tr.done;tr=fr.next()){tr=tr.value;var lr=ar.options[tr].default;lr!==void 0&&(this.l[tr]=typeof lr=="function"?lr():lr)}}}n=cs.prototype,n.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function il(ar){var fr,tr,lr,ur,yr,br,Pr,Dr,zr,Kr,Zr;return Or(function(pn){switch(pn.h){case 1:return ar.ga?(fr=ar.h.files===void 0?[]:typeof ar.h.files=="function"?ar.h.files(ar.l):ar.h.files,Ar(pn,la(),2)):pn.return();case 2:if(tr=pn.i,typeof window=="object")return aa("createMediapipeSolutionsWasm",{locateFile:ar.locateFile}),aa("createMediapipeSolutionsPackedAssets",{locateFile:ar.locateFile}),br=fr.filter(function(Yr){return Yr.data!==void 0}),Pr=fr.filter(function(Yr){return Yr.data===void 0}),Dr=Promise.all(br.map(function(Yr){var bn=Ns(ar,Yr.url);if(Yr.path!==void 0){var Rn=Yr.path;bn=bn.then(function(Dn){return ar.overrideFile(Rn,Dn),Promise.resolve(Dn)})}return bn})),zr=Promise.all(Pr.map(function(Yr){return Yr.simd===void 0||Yr.simd&&tr||!Yr.simd&&!tr?nl(ar.locateFile(Yr.url,ar.ha)):Promise.resolve()})).then(function(){var Yr,bn,Rn;return Or(function(Dn){if(Dn.h==1)return Yr=window.createMediapipeSolutionsWasm,bn=window.createMediapipeSolutionsPackedAssets,Rn=ar,Ar(Dn,Yr(bn),2);Rn.i=Dn.i,Dn.h=0})}),Kr=function(){return Or(function(Yr){return ar.h.graph&&ar.h.graph.url?Yr=Ar(Yr,Ns(ar,ar.h.graph.url),0):(Yr.h=0,Yr=void 0),Yr})}(),Ar(pn,Promise.all([zr,Dr,Kr]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return lr=fr.filter(function(Yr){return Yr.simd===void 0||Yr.simd&&tr||!Yr.simd&&!tr}).map(function(Yr){return ar.locateFile(Yr.url,ar.ha)}),importScripts.apply(null,w(lr)),ur=ar,Ar(pn,createMediapipeSolutionsWasm(Module),6);case 6:ur.i=pn.i,ar.m=new OffscreenCanvas(1,1),ar.i.canvas=ar.m,yr=ar.i.GL.createContext(ar.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),ar.i.GL.makeContextCurrent(yr),pn.h=4;break;case 7:if(ar.m=document.createElement("canvas"),Zr=ar.m.getContext("webgl2",{}),!Zr&&(Zr=ar.m.getContext("webgl",{}),!Zr))return alert("Failed to create WebGL canvas context when passing video frame."),pn.return();ar.K=Zr,ar.i.canvas=ar.m,ar.i.createContext(ar.m,!0,!0,{});case 4:ar.j=new ar.i.SolutionWasm,ar.ga=!1,pn.h=0}})}function Uo(ar){var fr,tr,lr,ur,yr,br,Pr,Dr;return Or(function(zr){if(zr.h==1){if(ar.h.graph&&ar.h.graph.url&&ar.fa===ar.h.graph.url)return zr.return();if(ar.u=!0,!ar.h.graph||!ar.h.graph.url){zr.h=2;return}return ar.fa=ar.h.graph.url,Ar(zr,Ns(ar,ar.h.graph.url),3)}for(zr.h!=2&&(fr=zr.i,ar.j.loadGraph(fr)),tr=c(Object.keys(ar.D)),lr=tr.next();!lr.done;lr=tr.next())ur=lr.value,ar.j.overrideFile(ur,ar.D[ur]);if(ar.D={},ar.h.listeners)for(yr=c(ar.h.listeners),br=yr.next();!br.done;br=yr.next())Pr=br.value,ca(ar,Pr);Dr=ar.l,ar.l={},ar.setOptions(Dr),zr.h=0})}n.reset=function(){var ar=this;return Or(function(fr){ar.j&&(ar.j.reset(),ar.s={},ar.v={}),fr.h=0})},n.setOptions=function(ar,fr){var tr=this;if(fr=fr||this.h.options){for(var lr=[],ur=[],yr={},br=c(Object.keys(ar)),Pr=br.next();!Pr.done;yr={X:yr.X,Y:yr.Y},Pr=br.next())if(Pr=Pr.value,!(Pr in this.l&&this.l[Pr]===ar[Pr])){this.l[Pr]=ar[Pr];var Dr=fr[Pr];Dr!==void 0&&(Dr.onChange&&(yr.X=Dr.onChange,yr.Y=ar[Pr],lr.push(function(zr){return function(){var Kr;return Or(function(Zr){if(Zr.h==1)return Ar(Zr,zr.X(zr.Y),2);Kr=Zr.i,Kr===!0&&(tr.u=!0),Zr.h=0})}}(yr))),Dr.graphOptionXref&&(Pr=Object.assign({},{calculatorName:"",calculatorIndex:0},Dr.graphOptionXref,{valueNumber:Dr.type===1?ar[Pr]:0,valueBoolean:Dr.type===0?ar[Pr]:!1,valueString:Dr.type===2?ar[Pr]:""}),ur.push(Pr)))}(lr.length!==0||ur.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(ur),this.F=(this.F===void 0?[]:this.F).concat(lr))}};function ol(ar){var fr,tr,lr,ur,yr,br,Pr;return Or(function(Dr){switch(Dr.h){case 1:if(!ar.u)return Dr.return();if(!ar.F){Dr.h=2;break}fr=c(ar.F),tr=fr.next();case 3:if(tr.done){Dr.h=5;break}return lr=tr.value,Ar(Dr,lr(),4);case 4:tr=fr.next(),Dr.h=3;break;case 5:ar.F=void 0;case 2:if(ar.H){for(ur=new ar.i.GraphOptionChangeRequestList,yr=c(ar.H),br=yr.next();!br.done;br=yr.next())Pr=br.value,ur.push_back(Pr);ar.j.changeOptions(ur),ur.delete(),ar.H=void 0}ar.u=!1,Dr.h=0}})}n.initialize=function(){var ar=this;return Or(function(fr){return fr.h==1?Ar(fr,il(ar),2):fr.h!=3?Ar(fr,Uo(ar),3):Ar(fr,ol(ar),0)})};function Ns(ar,fr){var tr,lr;return Or(function(ur){return fr in ar.L?ur.return(ar.L[fr]):(tr=ar.locateFile(fr,""),lr=fetch(tr).then(function(yr){return yr.arrayBuffer()}),ar.L[fr]=lr,ur.return(lr))})}n.overrideFile=function(ar,fr){this.j?this.j.overrideFile(ar,fr):this.D[ar]=fr},n.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},n.send=function(ar,fr){var tr=this,lr,ur,yr,br,Pr,Dr,zr,Kr,Zr;return Or(function(pn){switch(pn.h){case 1:return tr.h.inputs?(lr=1e3*(fr??performance.now()),Ar(pn,tr.I,2)):pn.return();case 2:return Ar(pn,tr.initialize(),3);case 3:for(ur=new tr.i.PacketDataList,yr=c(Object.keys(ar)),br=yr.next();!br.done;br=yr.next())if(Pr=br.value,Dr=tr.h.inputs[Pr]){e:{var Yr=ar[Pr];switch(Dr.type){case"video":var bn=tr.s[Dr.stream];if(bn||(bn=new ka(tr.i,tr.K),tr.s[Dr.stream]=bn),bn.m===0&&(bn.m=bn.i.createTexture()),typeof HTMLVideoElement<"u"&&Yr instanceof HTMLVideoElement)var Rn=Yr.videoWidth,Dn=Yr.videoHeight;else typeof HTMLImageElement<"u"&&Yr instanceof HTMLImageElement?(Rn=Yr.naturalWidth,Dn=Yr.naturalHeight):(Rn=Yr.width,Dn=Yr.height);Dn={glName:bn.m,width:Rn,height:Dn},Rn=bn.h,Rn.canvas.width=Dn.width,Rn.canvas.height=Dn.height,Rn.activeTexture(Rn.TEXTURE0),bn.i.bindTexture2d(bn.m),Rn.texImage2D(Rn.TEXTURE_2D,0,Rn.RGBA,Rn.RGBA,Rn.UNSIGNED_BYTE,Yr),bn.i.bindTexture2d(0),bn=Dn;break e;case"detections":for(bn=tr.s[Dr.stream],bn||(bn=new ls(tr.i),tr.s[Dr.stream]=bn),bn.data||(bn.data=new bn.h.DetectionListData),bn.data.reset(Yr.length),Dn=0;Dn<Yr.length;++Dn){Rn=Yr[Dn];var Ln=bn.data,si=Ln.setBoundingBox,zi=Dn,Ai=Rn.la,Cn=new Go;if(Jn(Cn,1,Ai.ra),Jn(Cn,2,Ai.sa),Jn(Cn,3,Ai.height),Jn(Cn,4,Ai.width),Jn(Cn,5,Ai.rotation),ji(Cn,6,Ai.pa),Ai=Cn.l(),si.call(Ln,zi,Ai),Rn.ea)for(Ln=0;Ln<Rn.ea.length;++Ln){Cn=Rn.ea[Ln],si=bn.data,zi=si.addNormalizedLandmark,Ai=Dn,Cn=Object.assign({},Cn,{visibility:Cn.visibility?Cn.visibility:0});var ci=new So;Jn(ci,1,Cn.x),Jn(ci,2,Cn.y),Jn(ci,3,Cn.z),Cn.visibility&&Jn(ci,4,Cn.visibility),Cn=ci.l(),zi.call(si,Ai,Cn)}if(Rn.ba)for(Ln=0;Ln<Rn.ba.length;++Ln)si=bn.data,zi=si.addClassification,Ai=Dn,Cn=Rn.ba[Ln],ci=new Nn,Jn(ci,2,Cn.score),Cn.index&&ji(ci,1,Cn.index),Cn.label&&ji(ci,3,Cn.label),Cn.displayName&&ji(ci,4,Cn.displayName),Cn=ci.l(),zi.call(si,Ai,Cn)}bn=bn.data;break e;default:bn={}}}switch(zr=bn,Kr=Dr.stream,Dr.type){case"video":ur.pushTexture2d(Object.assign({},zr,{stream:Kr,timestamp:lr}));break;case"detections":Zr=zr,Zr.stream=Kr,Zr.timestamp=lr,ur.pushDetectionList(Zr);break;default:throw Error("Unknown input config type: '"+Dr.type+"'")}}return tr.j.send(ur),Ar(pn,tr.I,4);case 4:ur.delete(),pn.h=0}})};function sl(ar,fr,tr){var lr,ur,yr,br,Pr,Dr,zr,Kr,Zr,pn,Yr,bn,Rn,Dn;return Or(function(Ln){switch(Ln.h){case 1:if(!tr)return Ln.return(fr);for(lr={},ur=0,yr=c(Object.keys(tr)),br=yr.next();!br.done;br=yr.next())Pr=br.value,Dr=tr[Pr],typeof Dr!="string"&&Dr.type==="texture"&&fr[Dr.stream]!==void 0&&++ur;1<ur&&(ar.M=!1),zr=c(Object.keys(tr)),br=zr.next();case 2:if(br.done){Ln.h=4;break}if(Kr=br.value,Zr=tr[Kr],typeof Zr=="string")return Rn=lr,Dn=Kr,Ar(Ln,xa(ar,Kr,fr[Zr]),14);if(pn=fr[Zr.stream],Zr.type==="detection_list"){if(pn){for(var si=pn.getRectList(),zi=pn.getLandmarksList(),Ai=pn.getClassificationsList(),Cn=[],ci=0;ci<si.size();++ci){var us=Fa(si.get(ci)),Hc=di(us,1),Ql=di(us,2),Xl=di(us,3),La=di(us,4),Ba=di(us,5,0),al=void 0;al=al===void 0?0:al,us={la:{ra:Hc,sa:Ql,height:Xl,width:La,rotation:Ba,pa:As(Ti(us,6),al)},ea:co(oa(zi.get(ci)),So,1).map(Ls),ba:Xi(xs(Ai.get(ci)))},Cn.push(us)}si=Cn}else si=[];lr[Kr]=si,Ln.h=7;break}if(Zr.type==="proto_list"){if(pn){for(si=Array(pn.size()),zi=0;zi<pn.size();zi++)si[zi]=pn.get(zi);pn.delete()}else si=[];lr[Kr]=si,Ln.h=7;break}if(pn===void 0){Ln.h=3;break}if(Zr.type==="float_list"){lr[Kr]=pn,Ln.h=7;break}if(Zr.type==="proto"){lr[Kr]=pn,Ln.h=7;break}if(Zr.type!=="texture")throw Error("Unknown output config type: '"+Zr.type+"'");return Yr=ar.v[Kr],Yr||(Yr=new ka(ar.i,ar.K),ar.v[Kr]=Yr),Ar(Ln,Bs(Yr,pn,ar.M),13);case 13:bn=Ln.i,lr[Kr]=bn;case 7:Zr.transform&&lr[Kr]&&(lr[Kr]=Zr.transform(lr[Kr])),Ln.h=3;break;case 14:Rn[Dn]=Ln.i;case 3:br=zr.next(),Ln.h=2;break;case 4:return Ln.return(lr)}})}function xa(ar,fr,tr){var lr;return Or(function(ur){return typeof tr=="number"||tr instanceof Uint8Array||tr instanceof ar.i.Uint8BlobList?ur.return(tr):tr instanceof ar.i.Texture2dDataOut?(lr=ar.v[fr],lr||(lr=new ka(ar.i,ar.K),ar.v[fr]=lr),ur.return(Bs(lr,tr,ar.M))):ur.return(void 0)})}function ca(ar,fr){for(var tr=fr.name||"$",lr=[].concat(w(fr.wants)),ur=new ar.i.StringList,yr=c(fr.wants),br=yr.next();!br.done;br=yr.next())ur.push_back(br.value);yr=ar.i.PacketListener.implement({onResults:function(Pr){for(var Dr={},zr=0;zr<fr.wants.length;++zr)Dr[lr[zr]]=Pr.get(zr);var Kr=ar.listeners[tr];Kr&&(ar.I=sl(ar,Dr,fr.outs).then(function(Zr){Zr=Kr(Zr);for(var pn=0;pn<fr.wants.length;++pn){var Yr=Dr[lr[pn]];typeof Yr=="object"&&Yr.hasOwnProperty&&Yr.hasOwnProperty("delete")&&Yr.delete()}Zr&&(ar.I=Zr)}))}}),ar.j.attachMultiListener(ur,yr),ur.delete()}n.onResults=function(ar,fr){this.listeners[fr||"$"]=ar},hn("Solution",cs),hn("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function mi(ar){return ar===void 0&&(ar=0),ar===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Da(ar){var fr=this;ar=ar||{},this.h=new cs({locateFile:ar.locateFile,files:function(tr){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:mi(tr.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:go},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:go},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(tr){return tr.map(function(lr){return Xi(xs(lr))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(tr){var lr,ur,yr;return Or(function(br){return br.h==1?(lr=mi(tr),ur="third_party/mediapipe/modules/hand_landmark/"+lr,Ar(br,Ns(fr.h,lr),2)):(yr=br.i,fr.h.overrideFile(ur,yr),br.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}n=Da.prototype,n.close=function(){return this.h.close(),Promise.resolve()},n.onResults=function(ar){this.h.onResults(ar)},n.initialize=function(){var ar=this;return Or(function(fr){return Ar(fr,ar.h.initialize(),0)})},n.reset=function(){this.h.reset()},n.send=function(ar){var fr=this;return Or(function(tr){return Ar(tr,fr.h.send(ar),0)})},n.setOptions=function(ar){this.h.setOptions(ar)},hn("Hands",Da),hn("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),hn("VERSION","0.4.1675469240")}).call(hands)),hands}var handsExports=requireHands(),reactWebcam$1={exports:{}},reactWebcam=reactWebcam$1.exports,hasRequiredReactWebcam;function requireReactWebcam(){return hasRequiredReactWebcam||(hasRequiredReactWebcam=1,function(n,e){(function(i,o){n.exports=o(requireReact())})(reactWebcam,function(t){return function(i){var o={};function s(l){if(o[l])return o[l].exports;var c=o[l]={i:l,l:!1,exports:{}};return i[l].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=i,s.c=o,s.d=function(l,c,w){s.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:w})},s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},s.t=function(l,c){if(c&1&&(l=s(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var w=Object.create(null);if(s.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var er in l)s.d(w,er,(function(nr){return l[nr]}).bind(null,er));return w},s.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(c,"a",c),c},s.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(i,o,s){s.r(o);var l=s("react"),c=function(){var or=function(sr,dr){return or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hr,gr){hr.__proto__=gr}||function(hr,gr){for(var mr in gr)gr.hasOwnProperty(mr)&&(hr[mr]=gr[mr])},or(sr,dr)};return function(sr,dr){or(sr,dr);function hr(){this.constructor=sr}sr.prototype=dr===null?Object.create(dr):(hr.prototype=dr.prototype,new hr)}}(),w=function(){return w=Object.assign||function(or){for(var sr,dr=1,hr=arguments.length;dr<hr;dr++){sr=arguments[dr];for(var gr in sr)Object.prototype.hasOwnProperty.call(sr,gr)&&(or[gr]=sr[gr])}return or},w.apply(this,arguments)},er=function(or,sr){var dr={};for(var hr in or)Object.prototype.hasOwnProperty.call(or,hr)&&sr.indexOf(hr)<0&&(dr[hr]=or[hr]);if(or!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,hr=Object.getOwnPropertySymbols(or);gr<hr.length;gr++)sr.indexOf(hr[gr])<0&&Object.prototype.propertyIsEnumerable.call(or,hr[gr])&&(dr[hr[gr]]=or[hr[gr]]);return dr};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(sr){var dr=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return dr?new Promise(function(hr,gr){dr.call(navigator,sr,hr,gr)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function nr(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var rr=function(or){c(sr,or);function sr(dr){var hr=or.call(this,dr)||this;return hr.canvas=null,hr.ctx=null,hr.requestUserMediaId=0,hr.unmounted=!1,hr.state={hasUserMedia:!1},hr}return sr.prototype.componentDidMount=function(){var dr=this,hr=dr.state,gr=dr.props;if(this.unmounted=!1,!nr()){gr.onUserMediaError("getUserMedia not supported");return}hr.hasUserMedia||this.requestUserMedia(),gr.children&&typeof gr.children!="function"&&console.warn("children must be a function")},sr.prototype.componentDidUpdate=function(dr){var hr=this.props;if(!nr()){hr.onUserMediaError("getUserMedia not supported");return}var gr=JSON.stringify(dr.audioConstraints)!==JSON.stringify(hr.audioConstraints),mr=JSON.stringify(dr.videoConstraints)!==JSON.stringify(hr.videoConstraints),vr=dr.minScreenshotWidth!==hr.minScreenshotWidth,Sr=dr.minScreenshotHeight!==hr.minScreenshotHeight;(mr||vr||Sr)&&(this.canvas=null,this.ctx=null),(gr||mr)&&(this.stopAndCleanup(),this.requestUserMedia())},sr.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},sr.stopMediaStream=function(dr){dr&&(dr.getVideoTracks&&dr.getAudioTracks?(dr.getVideoTracks().map(function(hr){dr.removeTrack(hr),hr.stop()}),dr.getAudioTracks().map(function(hr){dr.removeTrack(hr),hr.stop()})):dr.stop())},sr.prototype.stopAndCleanup=function(){var dr=this.state;dr.hasUserMedia&&(sr.stopMediaStream(this.stream),dr.src&&window.URL.revokeObjectURL(dr.src))},sr.prototype.getScreenshot=function(dr){var hr=this,gr=hr.state,mr=hr.props;if(!gr.hasUserMedia)return null;var vr=this.getCanvas(dr);return vr&&vr.toDataURL(mr.screenshotFormat,mr.screenshotQuality)},sr.prototype.getCanvas=function(dr){var hr=this,gr=hr.state,mr=hr.props;if(!this.video||!gr.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var vr=this.video.videoWidth,Sr=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var Ar=vr/Sr;vr=mr.minScreenshotWidth||this.video.clientWidth,Sr=vr/Ar,mr.minScreenshotHeight&&Sr<mr.minScreenshotHeight&&(Sr=mr.minScreenshotHeight,vr=Sr*Ar)}this.canvas=document.createElement("canvas"),this.canvas.width=(dr==null?void 0:dr.width)||vr,this.canvas.height=(dr==null?void 0:dr.height)||Sr,this.ctx=this.canvas.getContext("2d")}var Mr=this,Fr=Mr.ctx,Tr=Mr.canvas;return Fr&&Tr&&(Tr.width=(dr==null?void 0:dr.width)||Tr.width,Tr.height=(dr==null?void 0:dr.height)||Tr.height,mr.mirrored&&(Fr.translate(Tr.width,0),Fr.scale(-1,1)),Fr.imageSmoothingEnabled=mr.imageSmoothing,Fr.drawImage(this.video,0,0,(dr==null?void 0:dr.width)||Tr.width,(dr==null?void 0:dr.height)||Tr.height),mr.mirrored&&(Fr.scale(-1,1),Fr.translate(-Tr.width,0))),Tr},sr.prototype.requestUserMedia=function(){var dr=this,hr=this.props,gr=function(Sr,Ar){var Mr={video:typeof Ar<"u"?Ar:!0};hr.audio&&(Mr.audio=typeof Sr<"u"?Sr:!0),dr.requestUserMediaId++;var Fr=dr.requestUserMediaId;navigator.mediaDevices.getUserMedia(Mr).then(function(Tr){dr.unmounted||Fr!==dr.requestUserMediaId?sr.stopMediaStream(Tr):dr.handleUserMedia(null,Tr)}).catch(function(Tr){dr.handleUserMedia(Tr)})};if("mediaDevices"in navigator)gr(hr.audioConstraints,hr.videoConstraints);else{var mr=function(Sr){return{optional:[{sourceId:Sr}]}},vr=function(Sr){var Ar=Sr.deviceId;return typeof Ar=="string"?Ar:Array.isArray(Ar)&&Ar.length>0?Ar[0]:typeof Ar=="object"&&Ar.ideal?Ar.ideal:null};MediaStreamTrack.getSources(function(Sr){var Ar=null,Mr=null;Sr.forEach(function(Er){Er.kind==="audio"?Ar=Er.id:Er.kind==="video"&&(Mr=Er.id)});var Fr=vr(hr.audioConstraints);Fr&&(Ar=Fr);var Tr=vr(hr.videoConstraints);Tr&&(Mr=Tr),gr(mr(Ar),mr(Mr))})}},sr.prototype.handleUserMedia=function(dr,hr){var gr=this.props;if(dr||!hr){this.setState({hasUserMedia:!1}),gr.onUserMediaError(dr);return}this.stream=hr;try{this.video&&(this.video.srcObject=hr),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(hr)})}gr.onUserMedia(hr)},sr.prototype.render=function(){var dr=this,hr=this,gr=hr.state,mr=hr.props,vr=mr.audio;mr.forceScreenshotSourceSize;var Sr=mr.disablePictureInPicture;mr.onUserMedia,mr.onUserMediaError,mr.screenshotFormat,mr.screenshotQuality,mr.minScreenshotWidth,mr.minScreenshotHeight,mr.audioConstraints,mr.videoConstraints,mr.imageSmoothing;var Ar=mr.mirrored,Mr=mr.style,Fr=Mr===void 0?{}:Mr,Tr=mr.children,Er=er(mr,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),Rr=Ar?w(w({},Fr),{transform:(Fr.transform||"")+" scaleX(-1)"}):Fr,wr={getScreenshot:this.getScreenshot.bind(this)};return l.createElement(l.Fragment,null,l.createElement("video",w({autoPlay:!0,disablePictureInPicture:Sr,src:gr.src,muted:!vr,playsInline:!0,ref:function(Or){dr.video=Or},style:Rr},Er)),Tr&&Tr(wr))},sr.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},sr}(l.Component);o.default=rr},react:function(i,o){i.exports=t}}).default})}(reactWebcam$1)),reactWebcam$1.exports}var reactWebcamExports=requireReactWebcam();const Webcam=getDefaultExportFromCjs(reactWebcamExports),AImg="/assets/A-Bg6SGlWS.png",BImg="/assets/B-Sb-3d-JC.png",CImg="/assets/C-66XA6Yi0.png",DImg="/assets/D-DJA7rO7o.png",EImg="/assets/E-D2lI24mq.png",FImg="/assets/F-S0kWAjaC.png",GImg="/assets/G-CQ5dJ8w7.png",HImg="/assets/H-Bj-sdjpH.png",IImg="/assets/I-B6FXZ-zh.png",JImg="/assets/J-CY08wBq_.png",KImg="/assets/K-B1i0u9Gh.png",LImg="/assets/L-DfvfXfGd.png",MImg="/assets/M-B_W4t6eb.png",NImg="/assets/N-BWnJSkcN.png",OImg="/assets/O-Q2JtWAUh.png",PImg="/assets/P-CQpLoAVL.png",QImg="/assets/Q-c5GfhoAG.png",RImg="/assets/R-BIbpOY8T.png",SImg="/assets/S-hS59C642.png",TImg="/assets/T-Cr_A8lCr.png",UImg="/assets/U-CcN24mdW.png",VImg="/assets/V-li4dqRHo.png",WImg="/assets/W-BCMm2K5m.png",XImg="/assets/X-CkrIG0jn.png",YImg="/assets/Y-BlO882cd.png",ByeImg="/assets/BYE-GNOuPS4D.png",HelloImg="/assets/HELLO-msGHo7WN.png",YesImg="/assets/YES-D5N0_-rw.png",NoImg="/assets/NO-BLTVqj0I.png",PleaseImg="/assets/PLEASE-Dh-vAPm-.png",MeImg="/assets/ME-v0ilYTb8.png",DeafImg="/assets/DEAF-CPclSpCC.png",TellImg="/assets/TELL-m6Focloh.png",ILoveYouImg="/assets/ILOVEYOU-ClUSp-pA.png",MeetImg="/assets/MEET-CA9oqg42.png",ThankYouImg="/assets/THANKYOU-AWyrhwH9.png",LearnImg="/assets/LEARN-THVDUtjP.png",PenImg="/assets/PEN-BGJQerNX.png",NameImg="/assets/NAME-nEpAARLl.png",OkImg="/assets/OK-C8ziuRR3.png",NotOkImg="/assets/NOTOK-DT-vYQx4.png",SignImageData=[{name:"A",url:AImg},{name:"B",url:BImg},{name:"C",url:CImg},{name:"D",url:DImg},{name:"E",url:EImg},{name:"F",url:FImg},{name:"G",url:GImg},{name:"H",url:HImg},{name:"I",url:IImg},{name:"J",url:JImg},{name:"K",url:KImg},{name:"L",url:LImg},{name:"M",url:MImg},{name:"N",url:NImg},{name:"O",url:OImg},{name:"P",url:PImg},{name:"Q",url:QImg},{name:"R",url:RImg},{name:"S",url:SImg},{name:"T",url:TImg},{name:"U",url:UImg},{name:"V",url:VImg},{name:"W",url:WImg},{name:"X",url:XImg},{name:"Y",url:YImg},{name:"Bye",url:ByeImg},{name:"Hello",url:HelloImg},{name:"Meet",url:MeetImg},{name:"ThankYou",url:ThankYouImg},{name:"Yes",url:YesImg},{name:"No",url:NoImg},{name:"Deaf",url:DeafImg},{name:"Tell",url:TellImg},{name:"Please",url:PleaseImg},{name:"Me",url:MeImg},{name:"ILoveYou",url:ILoveYouImg},{name:"Learn",url:LearnImg},{name:"Pen",url:PenImg},{name:"Name",url:NameImg},{name:"Ok",url:OkImg},{name:"NotOk",url:NotOkImg}],getSignData=()=>async n=>{let e=[];const t=await JSON.parse(api.get("sign-language-ai-user"));async function i(o){const s=collection(o,"SignData"),l=query(s,where("userId","==",t.userId));return(await getDocs(l)).docs.map(er=>er.data())}try{n({type:GET_SIGN_DATA_REQ}),e=await i(db),n({type:GET_SIGN_DATA_SUCCESS,payload:e})}catch(o){n({type:GET_SIGN_DATA_FAIL,payload:o.response&&o.response.data.message?o.response.data.message:o.message})}},addSignData=n=>async e=>{try{e({type:ADD_SIGN_DATA_REQ}),await setDoc(doc(db,"SignData",n.id),{userId:n.userId,id:n.id,username:n.username,createdAt:n.createdAt,signsPerformed:n.signsPerformed,secondsSpent:n.secondsSpent}),e({type:ADD_SIGN_DATA_SUCCESS,payload:n})}catch(t){e({type:ADD_SIGN_DATA_FAIL,payload:t.response&&t.response.data.message?t.response.data.message:t.message})}},getTopUsers=()=>async n=>{let e=[];async function t(i){const o=collection(i,"SignData");return(await getDocs(o)).docs.map(c=>c.data())}try{n({type:GET_TOP_USERS_REQ}),e=await t(db);const i=e.reduce((l,c)=>(l[c.username]||(l[c.username]=[]),l[c.username].push(c),l),{});let o=Object.values(i).map(l=>l.reduce((c,w)=>w.signsPerformed.reduce((er,nr)=>er+nr.count,0)>c.signsPerformed.reduce((er,nr)=>er+nr.count,0)?w:c));o.sort((l,c)=>c.signsPerformed.reduce((w,er)=>w+er.count,0)-l.signsPerformed.reduce((w,er)=>w+er.count,0)),o=o.slice(0,3),o.forEach((l,c)=>{l.rank=c+1});const s=o.map(l=>({username:l.username,rank:l.rank}));n({type:GET_TOP_USERS_SUCCESS,payload:s})}catch(i){n({type:GET_TOP_USERS_FAIL,payload:i.response&&i.response.data.message?i.response.data.message:i.message})}},ProgressBar=({progress:n})=>jsxRuntimeExports.jsx("div",{className:"progress-container",children:jsxRuntimeExports.jsxs("div",{className:"progress-bar",id:"myBar",style:{width:`${n}%`},children:[n,"%"]})}),DisplayImg="/assets/displayGif-CTBlNNEF.gif";let startTime="";const Detect=()=>{const n=reactExports.useRef(null),e=reactExports.useRef(null),[t,i]=reactExports.useState(!1),[o,s]=reactExports.useState(""),[l,c]=reactExports.useState(null),[w,er]=reactExports.useState("IMAGE"),[nr,rr]=reactExports.useState(0),or=reactExports.useRef(),[sr,dr]=reactExports.useState([]),hr=useSelector(Tr=>{var Er;return(Er=Tr.auth)==null?void 0:Er.user}),{accessToken:gr}=useSelector(Tr=>Tr.auth),mr=useDispatch(),[vr,Sr]=reactExports.useState(null);reactExports.useEffect(()=>{let Tr;return t&&(Tr=setInterval(()=>{const Er=Math.floor(Math.random()*SignImageData.length),Rr=SignImageData[Er];Sr(Rr)},5e3)),()=>clearInterval(Tr)},[t]),console.log=function(){};const Ar=reactExports.useCallback(()=>{w==="IMAGE"&&(er("VIDEO"),l.setOptions({runningMode:"VIDEO"}));let Tr=Date.now();const Er=l.recognizeForVideo(n.current.video,Tr),Rr=e.current.getContext("2d");Rr.save(),Rr.clearRect(0,0,e.current.width,e.current.height);const wr=n.current.video.videoWidth,Or=n.current.video.videoHeight;if(n.current.video.width=wr,n.current.video.height=Or,e.current.width=wr,e.current.height=Or,Er.landmarks)for(const kr of Er.landmarks)drawing_utilsExports.drawConnectors(Rr,kr,handsExports.HAND_CONNECTIONS,{color:"#00FF00",lineWidth:5}),drawing_utilsExports.drawLandmarks(Rr,kr,{color:"#FF0000",lineWidth:2});Er.gestures.length>0?(dr(kr=>[...kr,{SignDetected:Er.gestures[0][0].categoryName}]),s(Er.gestures[0][0].categoryName),rr(Math.round(parseFloat(Er.gestures[0][0].score)*100))):(s(""),rr("")),t===!0&&(or.current=requestAnimationFrame(Ar))},[t,w,l,s]),Mr=reactExports.useCallback(()=>{or.current=requestAnimationFrame(Mr),Ar()},[Ar]),Fr=reactExports.useCallback(()=>{if(!l){alert("Please wait for gestureRecognizer to load");return}if(t===!0){i(!1),cancelAnimationFrame(or.current),Sr(null);const Tr=new Date,Er=((Tr.getTime()-startTime.getTime())/1e3).toFixed(2),Rr=sr.filter(Xr=>Xr.SignDetected!==""&&Xr.DetectedScore!==""),wr=[];let Or=Rr[0];for(let Xr=1;Xr<Rr.length;Xr++)Rr[Xr].SignDetected!==Or.SignDetected&&(wr.push(Or),Or=Rr[Xr]);wr.push(Or);const kr=new Map;for(const Xr of wr){const dn=kr.get(Xr.SignDetected)||0;kr.set(Xr.SignDetected,dn+1)}const hn={signsPerformed:Array.from(kr.entries()).sort((Xr,dn)=>dn[1]-Xr[1]).slice(0,5).map(([Xr,dn])=>({SignDetected:Xr,count:dn})),id:v4(),username:hr==null?void 0:hr.name,userId:hr==null?void 0:hr.userId,createdAt:String(Tr),secondsSpent:Number(Er)};mr(addSignData(hn)),dr([])}else i(!0),startTime=new Date,or.current=requestAnimationFrame(Mr)},[t,l,Mr,sr,hr==null?void 0:hr.name,hr==null?void 0:hr.userId,mr]);return reactExports.useEffect(()=>{async function Tr(){const Er=await FilesetResolver_1.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),Rr=await GestureRecognizer_1.createFromOptions(Er,{baseOptions:{modelAssetPath:"https://firebasestorage.googleapis.com/v0/b/sign-language-web-app-e2b56.firebasestorage.app/o/sign_language_recognizer_25-04-2023.task?alt=media&token=371dfd03-7302-4c14-891a-249d94804957"},numHands:2,runningMode:w});c(Rr)}Tr()},[w]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"signlang_detection-container",children:gr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx(Webcam,{audio:!1,ref:n,className:"signlang_webcam"}),jsxRuntimeExports.jsx("canvas",{ref:e,className:"signlang_canvas"}),jsxRuntimeExports.jsxs("div",{className:"signlang_data-container",children:[jsxRuntimeExports.jsx("button",{onClick:Fr,children:t?"Stop":"Start"}),jsxRuntimeExports.jsxs("div",{className:"signlang_data",children:[jsxRuntimeExports.jsx("p",{className:"gesture_output",children:o}),nr?jsxRuntimeExports.jsx(ProgressBar,{progress:nr}):null]})]})]}),jsxRuntimeExports.jsxs("div",{className:"signlang_imagelist-container",children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:"Image"}),jsxRuntimeExports.jsx("div",{className:"signlang_image-div",children:vr?jsxRuntimeExports.jsx("img",{src:vr.url,alt:`img ${vr.id}`}):jsxRuntimeExports.jsxs("h3",{className:"gradient__text",children:["Click on the Start Button ",jsxRuntimeExports.jsx("br",{})," to practice with Images"]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"signlang_detection_notLoggedIn",children:[jsxRuntimeExports.jsx("h1",{className:"gradient__text",children:"Please Login !"}),jsxRuntimeExports.jsx("img",{src:DisplayImg,alt:"diplay-img"}),jsxRuntimeExports.jsx("p",{children:"We Save Your Detection Data to show your progress and learning in dashboard, So please Login to Test this Detection Feature."})]})})})},userFeedback=[{title:"Tejas Phanse",text:"The sign language AI web app is an innovative and user-friendly tool that accurately detects hand gestures and translates them into corresponding signs. Its ensures reliable performance, making it an excellent resource for communication and education.",tag:"Business Analyst"},{title:"Atharva Mulgund",text:"The user experinece of the application is very smooth and easy to understand. Used this application to try out different signs in ASL and detection was smooth and prompt.",tag:"Front End developer"},{title:"Angad Singh Obbi",text:"The advancement in the field of sign language is really helpful for the deaf  and dumb this eliminates the need of a middle by just using the website, and last but not the least the UI is super smooth and user-friendly.",tag:"Network Security Analyst"}],LeftQuote="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfnBAkVICtsyNSpAAALLElEQVR42u2deVhTVxrG33MTdEQgCNqi1aJVabWWYdyqMi4gi4q1gkRCKzrWtdSKhQgFFETqBrjBaEGlU6UCFZWqPIyKu+NatHWrC9Rq1QqoQABRltyvf0h4OlrKYsKN5v7+TM75zvee8ya5OfnuCSAiIiIiIiJiiDChE3ga4sNpKEmlqpKK4Nc+NDV9+nmZ2cMhRafLyxkXN+q/uRUVQufbXNx/L9BmzP9MTaVJnIfJWqlU87j62MMhzFKttnSLG7U5rqSksXGbzQClvQN6eye0bUu32FZ8NmIEeeI0LBwdaQlM+CxbWzYUqUxqY0OHYYX5zy58LTvhit1VVSycLaXPN240u37Dgj8zcyZjaWlpaWp1c+l5XojCKZw4rrSq/M3LJwcOpDw6yhU4OVEFLDHV3p6NwBoqsLGh/VCwna+/DnNEI4XVvV65mIOw3Fw2m3PECW9v2fGoa6lTsrPry0NnBiiiAPKiYcO4SVxLHPfzo35kwzaPGgUfjEBhixZaG2gnHWAO06aZT1x+NmXGhg260vO8lCwKdpw41tKSfKpSKifPmgUHpNKYyZPpDG4xb2trrQ10GmewNyfH3CXmYGqhjU19zbVmANWgQBtFYt++ZMVboc+qVfgK/bHU3l5H8/lHCWmQr1tnbh59M3XcjBm6H69h/DYtnEZnGxsbPyp3aN0tOJjdonS2Ys4c2oFFuGZiouvxSVYV3TKlTZs2bDXbyIqL62onbUTM/x+A/zRzZLeWLUu2t0w2+/fSpdSdB96fPRvWsII7x+laoAY2iqagWCIBENZcY/4VRf3mRii6DB7MbSsrQfymTXSd9UVZ584ELGrOPKR9pH0q10nrXd9GG+D+e4E2isQOHUqk/CyY7NpFhfDA1717AwDcm1OiflEcoyxXuCiVsKExmLtkCQ1hpUisfwGEpsGvVNXEuS28jnXtanRM/T1OHDtGhfBAes3CGzBP5iUmBlMRBovoaAyB3Yuw8BrqTVTzikcS7w6jrCwqYpEo69xZ6MSFpniI0laRuHAhxZIL4gIChM6nqdT5DkB8OMk9W7SQfqw+RE7p6VQENVZ06SJ0ws8Qw87DpaysuYZTBSgneDkrFNgJF2TNny+0/Ge4iTyk83xpH5MzpX3Ky+trXqcBSszKcriwyEgMYitYUP/+QuuqSyifwY/gz2/fruvhikOVE+TyLl2wFfPYnYQEoeXXiT+F4pvMzA7rI1hG3/oN8MxHQNFo5XVvY1tbmo7plO/vD8CuWRJPwm5YVFayjbgJz7w82ocUan/v3jPtxlFXdvHuXerIFrFP1q1rs3H51C2DjxzReX4nKVQyPjaWzrEN2GZm1ixzAgBn8Rpu37/PjpIPCvLzyY+dpB2PH9c+H4ShbHFFBcuFJVodP17tX+koORIZif0NC//MPkBxjrJa0W7vXrTD5xju7KwzYQtoESkyM2klBnL569dX7GU9pfOzsqxcY75JKnj4sNkmuB6Ki5QZ49c6OYHhEHckK0tnA23AQhTm52Mq+uLBypXcGn4C/Ss93Sx0Rci3n167pqtha98BVMcDv/jAon9/asd/zutg4dlinMXj334jI3Rgd3x8zFctb5k69sABrKptclZXIp8rb3fc5X4JDaXvdDSAKznTuLi4Sv9HGfy3ISGvmK/9KW1vWRmAEJzRvb5aA9An/Cf8rFmzcBCLoEW/sXBIMfDixWoXLl6SO3KkpVuUzebvbt/WvbTnozBKOcHLuVcvmo6ruDVsmNYCF2MuvIlYP9xlJz/+WHZvuV2qPCEBXsLo5Aq+9d0i9zQxYZ2wGEkeHlqLHI08jM3LU4dJePVRNzdLtyibzXH6v/AaJHuwhXWZNEnbcVka7ULbsDDZvRi7lCXCX0xyRpnGO6V+Dg60CYR3W7fWWuBtzJGNnDLFwnJZVNrWX38VWmhjIVtIYO3mpq14bCzeRKdDh8yUy6em2i9q1m3hv0LK9WHnKc7BgUBWDd8XbIDQK9EfpcgyM4UW2FgeHp6TNOGt9u2r/o5z1Rd69NBa4MVcPpcYFPTkB10ioXVq4OCP++hla6utgOwShrM1iYlCC2sq1YlGU6oS33lHa/Mxm8XSpxcuyAZFzUsuPH1aaH1Pw8Gagmh+t25aE9yJPLFy926hhTUZF/Rjh7p311q8U3SFc9bf+eBggu9ZroXF8wZinfED7FQq07PLz6bMuH9faGFNxogWIPr556OWQpTA7+efhZZVFxxtAtDr+S/+aB82Ysyf7Ny9YFBPUjGZsbHW4oWxKXisvy8ITmsFHKfhANMXpyavLthA2PK7tFfQQgNoLm9aXS20rrrQmlB2kn7Cg06diORyuVwiEVqYviAZjAym0mLNn5bRntNjWTCWGhuX9ug8UrrB1VVoYfoCDcBQtHB3f/LFj+ldGb7Wa/foHYrijRISNFupQgsUGvruyVayap5ygne/yEh9e4fUeukSrcdo9lHHjlwc7LAgO7v4qtLVa+2OHexHWLF+Fy+SK/zQtbKyqfE5K/TGPx894qPZZcbduSOxl2ZU3zpyxLT3kvZpW/X4InQurKhraGiJvXWQxHn0aFXs3KsKduAATaRq/Jyf3+S4v7BqHCQiO9iSaUEBt5CPp5JLl8zCTCx7mJ05w1gEi2A8X1d3VlysVCoU+rMz1WhqCkNwFd1wc8sWfrikXD0rKKipW9Aqk4BrXueXLaPbbB1bHBgotLymwt6g+TC5cQMZbBtOhYbKBsV8lHohOfnpds1Wvq0zNN9iXFCGOQoFd7h6gWRkdnbJCP8R43MGDBA6PaGg609qN6knfsLbmzcX71NWKt768kvNHUmadi++AZ7GkYUhq107PpBz5Sbv2lVbymXo9EUI7GbOVPmUO1xRRURoHn75DKChN+6gY9u27DEgmbpypdDp6A3TKZZ9Fhxc+EZQG+/33n775TVADTQfVvjP++8XURB5kVjODltswiOJhJuuPsp7+Pq+9AbQwOapfXBv+HCh89AbOqOc5Tg5GYwB6AtKQrtOnYTOQ19gmfQPjO/Y0WAMwJkiBxdatRI6D31Bs3NrMAYQ+XNEAxg4ogEMHNEABo5oAANHNICBIxrAwBENYOCIBjBwRAMYOKIBDBzRAAaOaAADh9OcWCF0IrqGbrNrLLl+nQ1t98JTs+4cCAdxs6hI6Hx0zi/MHyGFhQ1oGYgsA5iP60hG9IMHHAKwFkMuXxY6H11Dq6g/O1e/TkrmM+D78s8H+xGutOfKFQ6vUiQblJ4udEI6E1pz23rFB4B03IED9bWv6MqFGQXv36/pJ3T+uoJ2owhfpadzj8ey9VKT+HjNMW5CJ6Z1rNEe45Yta+j5g7XtavoJnb62YYFwx4d37pRbtx70cGB8PKcRzNz4cJTL5YjE1zj0h5MoX1QOw5fG7Nlj9uPNCnVIVFRju9f2S0MKTunvCR8NpmZdmTXArOVyzVGytV8DzYauGJq69/hxPoReZxHOztgGjpYXFAidd6OJRh5eTU4uzVXn8enu7k39LyFNv9ISdZq6r4cHkthBWpGSIrS8RlNzAqlmXc1CY+xTbE+cqNVZV7/CB0GBck+ZTHK1WsG18vNDPDcAMz09aSplsw09e2rqy4XSVfsZPYYdpcEHD9Jq2k7n1qwxbxMzeovvvn26Glf1ZoDE29jZGe9yEj7L1xeH6Tyb5uhI57ABts14hvDTnMdEtFKrWRSi8MOlS/DBJNzYurXapKJK4rN6dV3/Ktbo+9U195apVBXBOR/KZM2t8/Gp6tuSfZWV+namcN4e5QSfV1q3/tu70o5qJy3+KVYDkclaLum+WaWq725gEREREREREREA+B1YSY9didGFwwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0wOVQyMTozMjo0MyswMDowMBW6d/0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMDlUMjE6MzI6NDMrMDA6MDBk589BAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTA0LTA5VDIxOjMyOjQzKzAwOjAwM/LungAAAABJRU5ErkJggg==",UserIcon="/assets/user-icon-DeHYqkDI.png",Card=({title:n,text:e,tag:t})=>jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsxs("div",{className:"card-header",children:[jsxRuntimeExports.jsx("div",{className:"card-img",children:jsxRuntimeExports.jsx("img",{src:UserIcon,alt:"user-img"})}),jsxRuntimeExports.jsxs("div",{className:"card-data",children:[jsxRuntimeExports.jsx("h2",{children:n}),jsxRuntimeExports.jsx("p",{children:t})]}),jsxRuntimeExports.jsx("div",{className:"card-icon",children:jsxRuntimeExports.jsx("img",{src:LeftQuote,alt:"left_quote"})})]}),jsxRuntimeExports.jsx("div",{className:"card-text",children:jsxRuntimeExports.jsx("p",{children:e})})]}),Testimonials=()=>jsxRuntimeExports.jsxs("div",{className:"signlang_testimonials-container section__padding",children:[jsxRuntimeExports.jsx("div",{className:"signlang_testimonial-header",children:jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:"Here are the Feedback given by the users and domain experts"})}),jsxRuntimeExports.jsx("div",{className:"signlang_card-container",children:userFeedback.map((n,e)=>jsxRuntimeExports.jsx(Card,{title:n.title,text:n.text,tag:n.tag},e*991))})]}),NotFoundImg="/assets/404-B-bhHlN_.svg",NotFound=()=>jsxRuntimeExports.jsxs("div",{className:"signlang_notfound-container",children:[jsxRuntimeExports.jsx("div",{className:"signlang_notfound-img",children:jsxRuntimeExports.jsx("img",{src:NotFoundImg,alt:"not-found"})}),jsxRuntimeExports.jsxs("div",{className:"signlang_notfound-data",children:[jsxRuntimeExports.jsx("p",{className:"gradient__text",children:"This Page Doesn't exists. Please Click on below button to go back to SLR"}),jsxRuntimeExports.jsx("button",{children:jsxRuntimeExports.jsx("a",{href:"/",children:"Go Back"})})]})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(n){return n+.5|0}const lim=(n,e,t)=>Math.max(Math.min(n,t),e);function p2b(n){return lim(round(n*2.55),0,255)}function n2b(n){return lim(round(n*255),0,255)}function b2n(n){return lim(round(n/2.55)/100,0,1)}function n2p(n){return lim(round(n*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=n=>hex[n&15],h2=n=>hex[(n&240)>>4]+hex[n&15],eq=n=>(n&240)>>4===(n&15),isShort=n=>eq(n.r)&&eq(n.g)&&eq(n.b)&&eq(n.a);function hexParse(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&map$1[n[1]]*17,g:255&map$1[n[2]]*17,b:255&map$1[n[3]]*17,a:e===5?map$1[n[4]]*17:255}:(e===7||e===9)&&(t={r:map$1[n[1]]<<4|map$1[n[2]],g:map$1[n[3]]<<4|map$1[n[4]],b:map$1[n[5]]<<4|map$1[n[6]],a:e===9?map$1[n[7]]<<4|map$1[n[8]]:255})),t}const alpha=(n,e)=>n<255?e(n):"";function hexString(n){var e=isShort(n)?h1:h2;return n?"#"+e(n.r)+e(n.g)+e(n.b)+alpha(n.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(n,e,t){const i=e*Math.min(t,1-t),o=(s,l=(s+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function hsv2rgbn(n,e,t){const i=(o,s=(o+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function hwb2rgbn(n,e,t){const i=hsl2rgbn(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)i[o]*=1-e-t,i[o]+=e;return i}function hueValue(n,e,t,i,o){return n===o?(e-t)/i+(e<t?6:0):e===o?(t-n)/i+2:(n-e)/i+4}function rgb2hsl(n){const t=n.r/255,i=n.g/255,o=n.b/255,s=Math.max(t,i,o),l=Math.min(t,i,o),c=(s+l)/2;let w,er,nr;return s!==l&&(nr=s-l,er=c>.5?nr/(2-s-l):nr/(s+l),w=hueValue(t,i,o,nr,s),w=w*60+.5),[w|0,er||0,c]}function calln(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(n2b)}function hsl2rgb(n,e,t){return calln(hsl2rgbn,n,e,t)}function hwb2rgb(n,e,t){return calln(hwb2rgbn,n,e,t)}function hsv2rgb(n,e,t){return calln(hsv2rgbn,n,e,t)}function hue(n){return(n%360+360)%360}function hueParse(n){const e=HUE_RE.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?p2b(+e[5]):n2b(+e[5]));const o=hue(+e[2]),s=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=hwb2rgb(o,s,l):e[1]==="hsv"?i=hsv2rgb(o,s,l):i=hsl2rgb(o,s,l),{r:i[0],g:i[1],b:i[2],a:t}}function rotate(n,e){var t=rgb2hsl(n);t[0]=hue(t[0]+e),t=hsl2rgb(t),n.r=t[0],n.g=t[1],n.b=t[2]}function hslString(n){if(!n)return;const e=rgb2hsl(n),t=e[0],i=n2p(e[1]),o=n2p(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${o}%, ${b2n(n.a)})`:`hsl(${t}, ${i}%, ${o}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const n={},e=Object.keys(names$1),t=Object.keys(map$2);let i,o,s,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],o=0;o<t.length;o++)s=t[o],c=c.replace(s,map$2[s]);s=parseInt(names$1[l],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let names;function nameParse(n){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(n){const e=RGB_RE.exec(n);let t=255,i,o,s;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?p2b(l):lim(l*255,0,255)}return i=+e[1],o=+e[3],s=+e[5],i=255&(e[2]?p2b(i):lim(i,0,255)),o=255&(e[4]?p2b(o):lim(o,0,255)),s=255&(e[6]?p2b(s):lim(s,0,255)),{r:i,g:o,b:s,a:t}}}function rgbString(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${b2n(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const to=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,from=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function interpolate$1(n,e,t){const i=from(b2n(n.r)),o=from(b2n(n.g)),s=from(b2n(n.b));return{r:n2b(to(i+t*(from(b2n(e.r))-i))),g:n2b(to(o+t*(from(b2n(e.g))-o))),b:n2b(to(s+t*(from(b2n(e.b))-s))),a:n.a+t*(e.a-n.a)}}function modHSL(n,e,t){if(n){let i=rgb2hsl(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=hsl2rgb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function clone$1(n,e){return n&&Object.assign(e||{},n)}function fromObject(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=n2b(n[3]))):(e=clone$1(n,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(n){return n.charAt(0)==="r"?rgbParse(n):hueParse(n)}class Color{constructor(e){if(e instanceof Color)return e;const t=typeof e;let i;t==="object"?i=fromObject(e):t==="string"&&(i=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,o=e.rgb;let s;const l=t===s?.5:t,c=2*l-1,w=i.a-o.a,er=((c*w===-1?c:(c+w)/(1+c*w))+1)/2;s=1-er,i.r=255&er*i.r+s*o.r+.5,i.g=255&er*i.g+s*o.g+.5,i.b=255&er*i.b+s*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,t)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let n=0;return()=>n++})();function isNullOrUndef(n){return n==null}function isArray(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function isNumberFinite(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function finiteOrDefault(n,e){return isNumberFinite(n)?n:e}function valueOrDefault(n,e){return typeof n>"u"?e:n}const toPercentage=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,toDimension=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function callback(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function each(n,e,t,i){let o,s,l;if(isArray(n))for(s=n.length,o=0;o<s;o++)e.call(t,n[o],o);else if(isObject(n))for(l=Object.keys(n),s=l.length,o=0;o<s;o++)e.call(t,n[l[o]],l[o])}function _elementsEqual(n,e){let t,i,o,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(o=n[t],s=e[t],o.datasetIndex!==s.datasetIndex||o.index!==s.index)return!1;return!0}function clone(n){if(isArray(n))return n.map(clone);if(isObject(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let o=0;for(;o<i;++o)e[t[o]]=clone(n[t[o]]);return e}return n}function isValidKey(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function _merger(n,e,t,i){if(!isValidKey(n))return;const o=e[n],s=t[n];isObject(o)&&isObject(s)?merge(o,s,i):e[n]=clone(s)}function merge(n,e,t){const i=isArray(e)?e:[e],o=i.length;if(!isObject(n))return n;t=t||{};const s=t.merger||_merger;let l;for(let c=0;c<o;++c){if(l=i[c],!isObject(l))continue;const w=Object.keys(l);for(let er=0,nr=w.length;er<nr;++er)s(w[er],n,l,t)}return n}function mergeIf(n,e){return merge(n,e,{merger:_mergerIf})}function _mergerIf(n,e,t){if(!isValidKey(n))return;const i=e[n],o=t[n];isObject(i)&&isObject(o)?mergeIf(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=clone(o))}const keyResolvers={"":n=>n,x:n=>n.x,y:n=>n.y};function _splitKey(n){const e=n.split("."),t=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function _getKeyResolver(n){const e=_splitKey(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function resolveObjectKey(n,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(n)}function _capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)}const defined=n=>typeof n<"u",isFunction=n=>typeof n=="function",setsEqual=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function _isClickEvent(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(n,e,t){return Math.abs(n-e)<t}function niceNum(n){const e=Math.round(n);n=almostEquals(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(log10(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function _factorize(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((o,s)=>o-s).pop(),e}function isNonPrimitive(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function isNumber(n){return!isNonPrimitive(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function almostWhole(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function _setMinAndMaxByKey(n,e,t){let i,o,s;for(i=0,o=n.length;i<o;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function toRadians(n){return n*(PI/180)}function toDegrees(n){return n*(180/PI)}function _decimalPlaces(n){if(!isNumberFinite(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function getAngleFromPoint(n,e){const t=e.x-n.x,i=e.y-n.y,o=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*PI&&(s+=TAU),{angle:s,distance:o}}function distanceBetweenPoints(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function _angleDiff(n,e){return(n-e+PITAU)%TAU-PI}function _normalizeAngle(n){return(n%TAU+TAU)%TAU}function _angleBetween(n,e,t,i){const o=_normalizeAngle(n),s=_normalizeAngle(e),l=_normalizeAngle(t),c=_normalizeAngle(s-o),w=_normalizeAngle(l-o),er=_normalizeAngle(o-s),nr=_normalizeAngle(o-l);return o===s||o===l||i&&s===l||c>w&&er<nr}function _limitValue(n,e,t){return Math.max(e,Math.min(t,n))}function _int16Range(n){return _limitValue(n,-32768,32767)}function _isBetween(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function _lookup(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,o=0,s;for(;i-o>1;)s=o+i>>1,t(s)?o=s:i=s;return{lo:o,hi:i}}const _lookupByKey=(n,e,t,i)=>_lookup(n,t,i?o=>{const s=n[o][e];return s<t||s===t&&n[o+1][e]===t}:o=>n[o][e]<t),_rlookupByKey=(n,e,t)=>_lookup(n,t,i=>n[i][e]>=t);function _filterBetween(n,e,t){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>t;)o--;return i>0||o<n.length?n.slice(i,o):n}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(t=>{const i="_onData"+_capitalize(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const l=o.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),l}})})}function unlistenArrayEvents(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(arrayEvents.forEach(s=>{delete n[s]}),delete n._chartjs)}function _arrayUnique(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function throttled(n,e){let t=[],i=!1;return function(...o){t=o,i||(i=!0,requestAnimFrame.call(window,()=>{i=!1,n.apply(e,t)}))}}function debounce(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const _toLeftRightCenter=n=>n==="start"?"left":n==="end"?"right":"center",_alignStartEnd=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,_textX=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function _getStartAndCountOfVisiblePoints(n,e,t){const i=e.length;let o=0,s=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:w}=n,er=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,nr=l.axis,{min:rr,max:or,minDefined:sr,maxDefined:dr}=l.getUserBounds();if(sr){if(o=Math.min(_lookupByKey(w,nr,rr).lo,t?i:_lookupByKey(e,nr,l.getPixelForValue(rr)).lo),er){const hr=w.slice(0,o+1).reverse().findIndex(gr=>!isNullOrUndef(gr[c.axis]));o-=Math.max(0,hr)}o=_limitValue(o,0,i-1)}if(dr){let hr=Math.max(_lookupByKey(w,l.axis,or,!0).hi+1,t?0:_lookupByKey(e,nr,l.getPixelForValue(or),!0).hi+1);if(er){const gr=w.slice(hr-1).findIndex(mr=>!isNullOrUndef(mr[c.axis]));hr+=Math.max(0,gr)}s=_limitValue(hr,o,i)-o}else s=i-o}return{start:o,count:s}}function _scaleRangesChanged(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=o,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,o),s}const atEdge=n=>n===0||n===1,elasticIn=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*TAU/t)),elasticOut=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*TAU/t)+1,effects={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*HALF_PI)+1,easeOutSine:n=>Math.sin(n*HALF_PI),easeInOutSine:n=>-.5*(Math.cos(PI*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>atEdge(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>atEdge(n)?n:elasticIn(n,.075,.3),easeOutElastic:n=>atEdge(n)?n:elasticOut(n,.075,.3),easeInOutElastic(n){return atEdge(n)?n:n<.5?.5*elasticIn(n*2,.1125,.45):.5+.5*elasticOut(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-effects.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?effects.easeInBounce(n*2)*.5:effects.easeOutBounce(n*2-1)*.5+.5};function isPatternOrGradient(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(n){return isPatternOrGradient(n)?n:new Color(n)}function getHoverColor(n){return isPatternOrGradient(n)?n:new Color(n).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(n,e){e=e||{};const t=n+JSON.stringify(e);let i=intlCache.get(t);return i||(i=new Intl.NumberFormat(n,e),intlCache.set(t,i)),i}function formatNumber(n,e,t){return getNumberFormat(e,t).format(n)}const formatters={values(n){return isArray(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let o,s=n;if(t.length>1){const er=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(er<1e-4||er>1e15)&&(o="scientific"),s=calculateDelta(n,t)}const l=log10(Math.abs(s)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),w={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(w,this.options.ticks.format),formatNumber(n,i,w)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(log10(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?formatters.numeric.call(this,n,e,t):""}};function calculateDelta(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Ticks={formatters};function applyScaleDefaults(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(n,e){if(!e)return n;const t=e.split(".");for(let i=0,o=t.length;i<o;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function set(n,e,t){return typeof e=="string"?merge(getScope$1(n,e),t):merge(getScope$1(n,""),e)}class Defaults{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(i,o)=>getHoverColor(o.borderColor),this.hoverColor=(i,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return set(this,e,t)}get(e){return getScope$1(this,e)}describe(e,t){return set(descriptors,e,t)}override(e,t){return set(overrides,e,t)}route(e,t,i,o){const s=getScope$1(this,e),l=getScope$1(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const w=this[c],er=l[o];return isObject(w)?Object.assign({},er,w):valueOrDefault(w,er)},set(w){this[c]=w}}})}apply(e){e.forEach(t=>t(this))}}var defaults=new Defaults({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(n){return!n||isNullOrUndef(n.size)||isNullOrUndef(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function _measureText(n,e,t,i,o){let s=e[o];return s||(s=e[o]=n.measureText(o).width,t.push(o)),s>i&&(i=s),i}function _longestText(n,e,t,i){i=i||{};let o=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let l=0;const c=t.length;let w,er,nr,rr,or;for(w=0;w<c;w++)if(rr=t[w],rr!=null&&!isArray(rr))l=_measureText(n,o,s,l,rr);else if(isArray(rr))for(er=0,nr=rr.length;er<nr;er++)or=rr[er],or!=null&&!isArray(or)&&(l=_measureText(n,o,s,l,or));n.restore();const sr=s.length/2;if(sr>t.length){for(w=0;w<sr;w++)delete o[s[w]];s.splice(0,sr)}return l}function _alignPixel(n,e,t){const i=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*i)/i+o}function clearCanvas(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function drawPoint(n,e,t,i){drawPointLegend(n,e,t,i,null)}function drawPointLegend(n,e,t,i,o){let s,l,c,w,er,nr,rr,or;const sr=e.pointStyle,dr=e.rotation,hr=e.radius;let gr=(dr||0)*RAD_PER_DEG;if(sr&&typeof sr=="object"&&(s=sr.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(gr),n.drawImage(sr,-sr.width/2,-sr.height/2,sr.width,sr.height),n.restore();return}if(!(isNaN(hr)||hr<=0)){switch(n.beginPath(),sr){default:o?n.ellipse(t,i,o/2,hr,0,0,TAU):n.arc(t,i,hr,0,TAU),n.closePath();break;case"triangle":nr=o?o/2:hr,n.moveTo(t+Math.sin(gr)*nr,i-Math.cos(gr)*hr),gr+=TWO_THIRDS_PI,n.lineTo(t+Math.sin(gr)*nr,i-Math.cos(gr)*hr),gr+=TWO_THIRDS_PI,n.lineTo(t+Math.sin(gr)*nr,i-Math.cos(gr)*hr),n.closePath();break;case"rectRounded":er=hr*.516,w=hr-er,l=Math.cos(gr+QUARTER_PI)*w,rr=Math.cos(gr+QUARTER_PI)*(o?o/2-er:w),c=Math.sin(gr+QUARTER_PI)*w,or=Math.sin(gr+QUARTER_PI)*(o?o/2-er:w),n.arc(t-rr,i-c,er,gr-PI,gr-HALF_PI),n.arc(t+or,i-l,er,gr-HALF_PI,gr),n.arc(t+rr,i+c,er,gr,gr+HALF_PI),n.arc(t-or,i+l,er,gr+HALF_PI,gr+PI),n.closePath();break;case"rect":if(!dr){w=Math.SQRT1_2*hr,nr=o?o/2:w,n.rect(t-nr,i-w,2*nr,2*w);break}gr+=QUARTER_PI;case"rectRot":rr=Math.cos(gr)*(o?o/2:hr),l=Math.cos(gr)*hr,c=Math.sin(gr)*hr,or=Math.sin(gr)*(o?o/2:hr),n.moveTo(t-rr,i-c),n.lineTo(t+or,i-l),n.lineTo(t+rr,i+c),n.lineTo(t-or,i+l),n.closePath();break;case"crossRot":gr+=QUARTER_PI;case"cross":rr=Math.cos(gr)*(o?o/2:hr),l=Math.cos(gr)*hr,c=Math.sin(gr)*hr,or=Math.sin(gr)*(o?o/2:hr),n.moveTo(t-rr,i-c),n.lineTo(t+rr,i+c),n.moveTo(t+or,i-l),n.lineTo(t-or,i+l);break;case"star":rr=Math.cos(gr)*(o?o/2:hr),l=Math.cos(gr)*hr,c=Math.sin(gr)*hr,or=Math.sin(gr)*(o?o/2:hr),n.moveTo(t-rr,i-c),n.lineTo(t+rr,i+c),n.moveTo(t+or,i-l),n.lineTo(t-or,i+l),gr+=QUARTER_PI,rr=Math.cos(gr)*(o?o/2:hr),l=Math.cos(gr)*hr,c=Math.sin(gr)*hr,or=Math.sin(gr)*(o?o/2:hr),n.moveTo(t-rr,i-c),n.lineTo(t+rr,i+c),n.moveTo(t+or,i-l),n.lineTo(t-or,i+l);break;case"line":l=o?o/2:Math.cos(gr)*hr,c=Math.sin(gr)*hr,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(gr)*(o?o/2:hr),i+Math.sin(gr)*hr);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function _isPointInArea(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function clipArea(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function unclipArea(n){n.restore()}function _steppedLineTo(n,e,t,i,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else o==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function _bezierCurveTo(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function setRenderOpts(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function decorateText(n,e,t,i,o){if(o.strikethrough||o.underline){const s=n.measureText(i),l=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,w=t-s.actualBoundingBoxAscent,er=t+s.actualBoundingBoxDescent,nr=o.strikethrough?(w+er)/2:er;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,nr),n.lineTo(c,nr),n.stroke()}}function drawBackdrop(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function renderText(n,e,t,i,o,s={}){const l=isArray(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let w,er;for(n.save(),n.font=o.string,setRenderOpts(n,s),w=0;w<l.length;++w)er=l[w],s.backdrop&&drawBackdrop(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),isNullOrUndef(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(er,t,i,s.maxWidth)),n.fillText(er,t,i,s.maxWidth),decorateText(n,t,i,er,s),i+=Number(o.lineHeight);n.restore()}function addRoundedRectPath(n,e){const{x:t,y:i,w:o,h:s,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*PI,PI,!0),n.lineTo(t,i+s-l.bottomLeft),n.arc(t+l.bottomLeft,i+s-l.bottomLeft,l.bottomLeft,PI,HALF_PI,!0),n.lineTo(t+o-l.bottomRight,i+s),n.arc(t+o-l.bottomRight,i+s-l.bottomRight,l.bottomRight,HALF_PI,0,!0),n.lineTo(t+o,i+l.topRight),n.arc(t+o-l.topRight,i+l.topRight,l.topRight,0,-HALF_PI,!0),n.lineTo(t+l.topLeft,i)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(n,e){const t=(""+n).match(LINE_HEIGHT);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const numberOrZero=n=>+n||0;function _readValueToProps(n,e){const t={},i=isObject(e),o=i?Object.keys(e):e,s=isObject(n)?i?l=>valueOrDefault(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=numberOrZero(s(l));return t}function toTRBL(n){return _readValueToProps(n,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(n){return _readValueToProps(n,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(n){const e=toTRBL(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(n,e){n=n||{},e=e||defaults.font;let t=valueOrDefault(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=valueOrDefault(n.style,e.style);i&&!(""+i).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:valueOrDefault(n.family,e.family),lineHeight:toLineHeight(valueOrDefault(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:valueOrDefault(n.weight,e.weight),string:""};return o.string=toFontString(o),o}function resolve(n,e,t,i){let o,s,l;for(o=0,s=n.length;o<s;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function _addGrace(n,e,t){const{min:i,max:o}=n,s=toDimension(e,(o-i)/2),l=(c,w)=>t&&c===0?0:c+w;return{min:l(i,-Math.abs(s)),max:l(o,s)}}function createContext(n,e){return Object.assign(Object.create(n),e)}function _createResolver(n,e=[""],t,i,o=()=>n[0]){const s=t||n;typeof i>"u"&&(i=_resolve("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:o,override:c=>_createResolver([c,...n],e,s,i)};return new Proxy(l,{deleteProperty(c,w){return delete c[w],delete c._keys,delete n[0][w],!0},get(c,w){return _cached(c,w,()=>_resolveWithPrefixes(w,e,n,c))},getOwnPropertyDescriptor(c,w){return Reflect.getOwnPropertyDescriptor(c._scopes[0],w)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,w){return getKeysFromAllScopes(c).includes(w)},ownKeys(c){return getKeysFromAllScopes(c)},set(c,w,er){const nr=c._storage||(c._storage=o());return c[w]=nr[w]=er,delete c._keys,!0}})}function _attachContext(n,e,t,i){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:_descriptors(n,i),setContext:s=>_attachContext(n,s,t,i),override:s=>_attachContext(n.override(s),e,t,i)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete n[l],!0},get(s,l,c){return _cached(s,l,()=>_resolveWithContext(s,l,c))},getOwnPropertyDescriptor(s,l){return s._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(s,l,c){return n[l]=c,delete s[l],!0}})}function _descriptors(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:i,isScriptable:isFunction(t)?t:()=>t,isIndexable:isFunction(i)?i:()=>i}}const readKey=(n,e)=>n?n+_capitalize(e):e,needsSubResolver=(n,e)=>isObject(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function _resolveWithContext(n,e,t){const{_proxy:i,_context:o,_subProxy:s,_descriptors:l}=n;let c=i[e];return isFunction(c)&&l.isScriptable(e)&&(c=_resolveScriptable(e,c,n,t)),isArray(c)&&c.length&&(c=_resolveArray(e,c,n,l.isIndexable)),needsSubResolver(e,c)&&(c=_attachContext(c,o,s&&s[e],l)),c}function _resolveScriptable(n,e,t,i){const{_proxy:o,_context:s,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let w=e(s,l||i);return c.delete(n),needsSubResolver(n,w)&&(w=createSubResolver(o._scopes,o,n,w)),w}function _resolveArray(n,e,t,i){const{_proxy:o,_context:s,_subProxy:l,_descriptors:c}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(isObject(e[0])){const w=e,er=o._scopes.filter(nr=>nr!==w);e=[];for(const nr of w){const rr=createSubResolver(er,o,n,nr);e.push(_attachContext(rr,s,l&&l[n],c))}}return e}function resolveFallback(n,e,t){return isFunction(n)?n(e,t):n}const getScope=(n,e)=>n===!0?e:typeof n=="string"?resolveObjectKey(e,n):void 0;function addScopes(n,e,t,i,o){for(const s of e){const l=getScope(t,s);if(l){n.add(l);const c=resolveFallback(l._fallback,t,o);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function createSubResolver(n,e,t,i){const o=e._rootScopes,s=resolveFallback(e._fallback,t,i),l=[...n,...o],c=new Set;c.add(i);let w=addScopesFromKey(c,l,t,s||t,i);return w===null||typeof s<"u"&&s!==t&&(w=addScopesFromKey(c,l,s,w,i),w===null)?!1:_createResolver(Array.from(c),[""],o,s,()=>subGetTarget(e,t,i))}function addScopesFromKey(n,e,t,i,o){for(;t;)t=addScopes(n,e,t,i,o);return t}function subGetTarget(n,e,t){const i=n._getTarget();e in i||(i[e]={});const o=i[e];return isArray(o)&&isObject(t)?t:o||{}}function _resolveWithPrefixes(n,e,t,i){let o;for(const s of e)if(o=_resolve(readKey(s,n),t),typeof o<"u")return needsSubResolver(n,o)?createSubResolver(t,i,n,o):o}function _resolve(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function getKeysFromAllScopes(n){let e=n._keys;return e||(e=n._keys=resolveKeysFromAllScopes(n._scopes)),e}function resolveKeysFromAllScopes(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function _parseObjectDataRadialScale(n,e,t,i){const{iScale:o}=n,{key:s="r"}=this._parsing,l=new Array(i);let c,w,er,nr;for(c=0,w=i;c<w;++c)er=c+t,nr=e[er],l[c]={r:o.parse(resolveObjectKey(nr,s),er)};return l}const EPSILON=Number.EPSILON||1e-14,getPoint=(n,e)=>e<n.length&&!n[e].skip&&n[e],getValueAxis=n=>n==="x"?"y":"x";function splineCurve(n,e,t,i){const o=n.skip?e:n,s=e,l=t.skip?e:t,c=distanceBetweenPoints(s,o),w=distanceBetweenPoints(l,s);let er=c/(c+w),nr=w/(c+w);er=isNaN(er)?0:er,nr=isNaN(nr)?0:nr;const rr=i*er,or=i*nr;return{previous:{x:s.x-rr*(l.x-o.x),y:s.y-rr*(l.y-o.y)},next:{x:s.x+or*(l.x-o.x),y:s.y+or*(l.y-o.y)}}}function monotoneAdjust(n,e,t){const i=n.length;let o,s,l,c,w,er=getPoint(n,0);for(let nr=0;nr<i-1;++nr)if(w=er,er=getPoint(n,nr+1),!(!w||!er)){if(almostEquals(e[nr],0,EPSILON)){t[nr]=t[nr+1]=0;continue}o=t[nr]/e[nr],s=t[nr+1]/e[nr],c=Math.pow(o,2)+Math.pow(s,2),!(c<=9)&&(l=3/Math.sqrt(c),t[nr]=o*l*e[nr],t[nr+1]=s*l*e[nr])}}function monotoneCompute(n,e,t="x"){const i=getValueAxis(t),o=n.length;let s,l,c,w=getPoint(n,0);for(let er=0;er<o;++er){if(l=c,c=w,w=getPoint(n,er+1),!c)continue;const nr=c[t],rr=c[i];l&&(s=(nr-l[t])/3,c[`cp1${t}`]=nr-s,c[`cp1${i}`]=rr-s*e[er]),w&&(s=(w[t]-nr)/3,c[`cp2${t}`]=nr+s,c[`cp2${i}`]=rr+s*e[er])}}function splineCurveMonotone(n,e="x"){const t=getValueAxis(e),i=n.length,o=Array(i).fill(0),s=Array(i);let l,c,w,er=getPoint(n,0);for(l=0;l<i;++l)if(c=w,w=er,er=getPoint(n,l+1),!!w){if(er){const nr=er[e]-w[e];o[l]=nr!==0?(er[t]-w[t])/nr:0}s[l]=c?er?sign(o[l-1])!==sign(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}monotoneAdjust(n,o,s),monotoneCompute(n,s,e)}function capControlPoint(n,e,t){return Math.max(Math.min(n,t),e)}function capBezierPoints(n,e){let t,i,o,s,l,c=_isPointInArea(n[0],e);for(t=0,i=n.length;t<i;++t)l=s,s=c,c=t<i-1&&_isPointInArea(n[t+1],e),s&&(o=n[t],l&&(o.cp1x=capControlPoint(o.cp1x,e.left,e.right),o.cp1y=capControlPoint(o.cp1y,e.top,e.bottom)),c&&(o.cp2x=capControlPoint(o.cp2x,e.left,e.right),o.cp2y=capControlPoint(o.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(n,e,t,i,o){let s,l,c,w;if(e.spanGaps&&(n=n.filter(er=>!er.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(n,o);else{let er=i?n[n.length-1]:n[0];for(s=0,l=n.length;s<l;++s)c=n[s],w=splineCurve(er,c,n[Math.min(s+1,l-(i?0:1))%l],e.tension),c.cp1x=w.previous.x,c.cp1y=w.previous.y,c.cp2x=w.next.x,c.cp2y=w.next.y,er=c}e.capBezierPoints&&capBezierPoints(n,t)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const getComputedStyle=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function getStyle(n,e){return getComputedStyle(n).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(n,e,t){const i={};t=t?"-"+t:"";for(let o=0;o<4;o++){const s=positions[o];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const useOffsetPos=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function getCanvasPosition(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:o,offsetY:s}=i;let l=!1,c,w;if(useOffsetPos(o,s,n.target))c=o,w=s;else{const er=e.getBoundingClientRect();c=i.clientX-er.left,w=i.clientY-er.top,l=!0}return{x:c,y:w,box:l}}function getRelativePosition(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,o=getComputedStyle(t),s=o.boxSizing==="border-box",l=getPositionedStyle(o,"padding"),c=getPositionedStyle(o,"border","width"),{x:w,y:er,box:nr}=getCanvasPosition(n,t),rr=l.left+(nr&&c.left),or=l.top+(nr&&c.top);let{width:sr,height:dr}=e;return s&&(sr-=l.width+c.width,dr-=l.height+c.height),{x:Math.round((w-rr)/sr*t.width/i),y:Math.round((er-or)/dr*t.height/i)}}function getContainerSize(n,e,t){let i,o;if(e===void 0||t===void 0){const s=n&&_getParentNode(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const l=s.getBoundingClientRect(),c=getComputedStyle(s),w=getPositionedStyle(c,"border","width"),er=getPositionedStyle(c,"padding");e=l.width-er.width-w.width,t=l.height-er.height-w.height,i=parseMaxStyle(c.maxWidth,s,"clientWidth"),o=parseMaxStyle(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||INFINITY,maxHeight:o||INFINITY}}const round1=n=>Math.round(n*10)/10;function getMaximumSize(n,e,t,i){const o=getComputedStyle(n),s=getPositionedStyle(o,"margin"),l=parseMaxStyle(o.maxWidth,n,"clientWidth")||INFINITY,c=parseMaxStyle(o.maxHeight,n,"clientHeight")||INFINITY,w=getContainerSize(n,e,t);let{width:er,height:nr}=w;if(o.boxSizing==="content-box"){const or=getPositionedStyle(o,"border","width"),sr=getPositionedStyle(o,"padding");er-=sr.width+or.width,nr-=sr.height+or.height}return er=Math.max(0,er-s.width),nr=Math.max(0,i?er/i:nr-s.height),er=round1(Math.min(er,l,w.maxWidth)),nr=round1(Math.min(nr,c,w.maxHeight)),er&&!nr&&(nr=round1(er/2)),(e!==void 0||t!==void 0)&&i&&w.height&&nr>w.height&&(nr=w.height,er=round1(Math.floor(nr*i))),{width:er,height:nr}}function retinaScale(n,e,t){const i=e||1,o=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==o||l.width!==s?(n.currentDevicePixelRatio=i,l.height=o,l.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const supportsEventListenerOptions=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function readUsedSize(n,e){const t=getStyle(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _pointInLine(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function _steppedInterpolation(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function _bezierInterpolation(n,e,t,i){const o={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},l=_pointInLine(n,o,t),c=_pointInLine(o,s,t),w=_pointInLine(s,e,t),er=_pointInLine(l,c,t),nr=_pointInLine(c,w,t);return _pointInLine(er,nr,t)}const getRightToLeftAdapter=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},getLeftToRightAdapter=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function getRtlAdapter(n,e,t){return n?getRightToLeftAdapter(e,t):getLeftToRightAdapter()}function overrideTextDirection(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function restoreTextDirection(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(n){return n==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,t)=>e-t,normalize:e=>e}}function normalizeSegment({start:n,end:e,count:t,loop:i,style:o}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:o}}function getSegment(n,e,t){const{property:i,start:o,end:s}=t,{between:l,normalize:c}=propertyFn(i),w=e.length;let{start:er,end:nr,loop:rr}=n,or,sr;if(rr){for(er+=w,nr+=w,or=0,sr=w;or<sr&&l(c(e[er%w][i]),o,s);++or)er--,nr--;er%=w,nr%=w}return nr<er&&(nr+=w),{start:er,end:nr,loop:rr,style:n.style}}function _boundSegment(n,e,t){if(!t)return[n];const{property:i,start:o,end:s}=t,l=e.length,{compare:c,between:w,normalize:er}=propertyFn(i),{start:nr,end:rr,loop:or,style:sr}=getSegment(n,e,t),dr=[];let hr=!1,gr=null,mr,vr,Sr;const Ar=()=>w(o,Sr,mr)&&c(o,Sr)!==0,Mr=()=>c(s,mr)===0||w(s,Sr,mr),Fr=()=>hr||Ar(),Tr=()=>!hr||Mr();for(let Er=nr,Rr=nr;Er<=rr;++Er)vr=e[Er%l],!vr.skip&&(mr=er(vr[i]),mr!==Sr&&(hr=w(mr,o,s),gr===null&&Fr()&&(gr=c(mr,o)===0?Er:Rr),gr!==null&&Tr()&&(dr.push(normalizeSegment({start:gr,end:Er,loop:or,count:l,style:sr})),gr=null),Rr=Er,Sr=mr));return gr!==null&&dr.push(normalizeSegment({start:gr,end:rr,loop:or,count:l,style:sr})),dr}function _boundSegments(n,e){const t=[],i=n.segments;for(let o=0;o<i.length;o++){const s=_boundSegment(i[o],n.points,e);s.length&&t.push(...s)}return t}function findStartAndEnd(n,e,t,i){let o=0,s=e-1;if(t&&!i)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(s+=o);s>o&&n[s%e].skip;)s--;return s%=e,{start:o,end:s}}function solidSegments(n,e,t,i){const o=n.length,s=[];let l=e,c=n[e],w;for(w=e+1;w<=t;++w){const er=n[w%o];er.skip||er.stop?c.skip||(i=!1,s.push({start:e%o,end:(w-1)%o,loop:i}),e=l=er.stop?w:null):(l=w,c.skip&&(e=w)),c=er}return l!==null&&s.push({start:e%o,end:l%o,loop:i}),s}function _computeSegments(n,e){const t=n.points,i=n.options.spanGaps,o=t.length;if(!o)return[];const s=!!n._loop,{start:l,end:c}=findStartAndEnd(t,o,s,i);if(i===!0)return splitByStyles(n,[{start:l,end:c,loop:s}],t,e);const w=c<l?c+o:c,er=!!n._fullLoop&&l===0&&c===o-1;return splitByStyles(n,solidSegments(t,l,w,er),t,e)}function splitByStyles(n,e,t,i){return!i||!i.setContext||!t?e:doSplitByStyles(n,e,t,i)}function doSplitByStyles(n,e,t,i){const o=n._chart.getContext(),s=readStyle(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,w=t.length,er=[];let nr=s,rr=e[0].start,or=rr;function sr(dr,hr,gr,mr){const vr=c?-1:1;if(dr!==hr){for(dr+=w;t[dr%w].skip;)dr-=vr;for(;t[hr%w].skip;)hr+=vr;dr%w!==hr%w&&(er.push({start:dr%w,end:hr%w,loop:gr,style:mr}),nr=mr,rr=hr%w)}}for(const dr of e){rr=c?rr:dr.start;let hr=t[rr%w],gr;for(or=rr+1;or<=dr.end;or++){const mr=t[or%w];gr=readStyle(i.setContext(createContext(o,{type:"segment",p0:hr,p1:mr,p0DataIndex:(or-1)%w,p1DataIndex:or%w,datasetIndex:l}))),styleChanged(gr,nr)&&sr(rr,or-1,dr.loop,nr),hr=mr,nr=gr}rr<or-1&&sr(rr,or-1,dr.loop,nr)}return er}function readStyle(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function styleChanged(n,e){if(!e)return!1;const t=[],i=function(o,s){return isPatternOrGradient(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function getSizeForArea(n,e,t){return n.options.clip?n[t]:e[t]}function getDatasetArea(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:getSizeForArea(t,e,"left"),right:getSizeForArea(t,e,"right"),top:getSizeForArea(i,e,"top"),bottom:getSizeForArea(i,e,"bottom")}:e}function getDatasetClipArea(n,e){const t=e._clip;if(t.disabled)return!1;const i=getDatasetArea(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){const s=t.listeners[o],l=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const s=i.items;let l=s.length-1,c=!1,w;for(;l>=0;--l)w=s[l],w._active?(w._total>i.duration&&(i.duration=w._total),w.tick(e),c=!0):(s[l]=s[s.length-1],s.pop());c&&(o.draw(),this._notify(o,i,e,"progress")),s.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=color(n||transparent),o=i.valid&&color(e||transparent);return o&&o.valid?o.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Animation{constructor(e,t,i,o){const s=t[i];o=resolve([e.to,o,s,e.from]);const l=resolve([e.from,s,o]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof l],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const o=this._target[this._prop],s=i-this._start,l=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=resolve([e.to,t,o,e.from]),this._from=resolve([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,o=this._prop,s=this._from,l=this._loop,c=this._to;let w;if(this._active=s!==c&&(l||t<i),!this._active){this._target[o]=c,this._notify(!0);return}if(t<0){this._target[o]=s;return}w=t/i%2,w=l&&w>1?2-w:w,w=this._easing(Math.min(1,Math.max(0,w))),this._target[o]=this._fn(s,c,w)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}}class Animations{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!isObject(e))return;const t=Object.keys(defaults.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const s=e[o];if(!isObject(s))return;const l={};for(const c of t)l[c]=s[c];(isArray(s.properties)&&s.properties||[o]).forEach(c=>{(c===o||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,o=resolveTargetOptions(e,i);if(!o)return[];const s=this._createAnimations(o,i);return i.$shared&&awaitAll(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,o=[],s=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let w;for(w=l.length-1;w>=0;--w){const er=l[w];if(er.charAt(0)==="$")continue;if(er==="options"){o.push(...this._animateOptions(e,t));continue}const nr=t[er];let rr=s[er];const or=i.get(er);if(rr)if(or&&rr.active()){rr.update(or,nr,c);continue}else rr.cancel();if(!or||!or.duration){e[er]=nr;continue}s[er]=rr=new Animation(or,e,er,nr),o.push(rr)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return animator.add(this._chart,i),!0}}function awaitAll(n,e){const t=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const s=n[i[o]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function resolveTargetOptions(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function scaleClip(n,e){const t=n&&n.options||{},i=t.reverse,o=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:o,end:i?o:s}}function defaultClip(n,e,t){if(t===!1)return!1;const i=scaleClip(n,t),o=scaleClip(e,t);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function toClip(n){let e,t,i,o;return isObject(n)?(e=n.top,t=n.right,i=n.bottom,o=n.left):e=t=i=o=n,{top:e,right:t,bottom:i,left:o,disabled:n===!1}}function getSortedDatasetIndices(n,e){const t=[],i=n._getSortedDatasetMetas(e);let o,s;for(o=0,s=i.length;o<s;++o)t.push(i[o].index);return t}function applyStack(n,e,t,i={}){const o=n.keys,s=i.mode==="single";let l,c,w,er;if(e===null)return;let nr=!1;for(l=0,c=o.length;l<c;++l){if(w=+o[l],w===t){if(nr=!0,i.all)continue;break}er=n.values[w],isNumberFinite(er)&&(s||e===0||sign(e)===sign(er))&&(e+=er)}return!nr&&!i.all?0:e}function convertObjectDataToArray(n,e){const{iScale:t,vScale:i}=e,o=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let w,er,nr;for(w=0,er=l.length;w<er;++w)nr=l[w],c[w]={[o]:nr,[s]:n[nr]};return c}function isStacked(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function getStackKey(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function getUserBounds(n){const{min:e,max:t,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function getOrCreateStack(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function getLastIndexInStack(n,e,t,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const s=n[o.index];if(t&&s>0||!t&&s<0)return o.index}return null}function updateStacks(n,e){const{chart:t,_cachedMeta:i}=n,o=t._stacks||(t._stacks={}),{iScale:s,vScale:l,index:c}=i,w=s.axis,er=l.axis,nr=getStackKey(s,l,i),rr=e.length;let or;for(let sr=0;sr<rr;++sr){const dr=e[sr],{[w]:hr,[er]:gr}=dr,mr=dr._stacks||(dr._stacks={});or=mr[er]=getOrCreateStack(o,nr,hr),or[c]=gr,or._top=getLastIndexInStack(or,l,!0,i.type),or._bottom=getLastIndexInStack(or,l,!1,i.type);const vr=or._visualValues||(or._visualValues={});vr[c]=gr}}function getFirstScaleId(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function createDatasetContext(n,e){return createContext(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(n,e,t){return createContext(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function clearStacks(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const o of e){const s=o._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const isDirectUpdateMode=n=>n==="reset"||n==="none",cloneIfNotShared=(n,e)=>e?n:Object.assign({},n),createStack=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(t,!0),values:null};class DatasetController{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),o=(rr,or,sr,dr)=>rr==="x"?or:rr==="r"?dr:sr,s=t.xAxisID=valueOrDefault(i.xAxisID,getFirstScaleId(e,"x")),l=t.yAxisID=valueOrDefault(i.yAxisID,getFirstScaleId(e,"y")),c=t.rAxisID=valueOrDefault(i.rAxisID,getFirstScaleId(e,"r")),w=t.indexAxis,er=t.iAxisID=o(w,s,l,c),nr=t.vAxisID=o(w,l,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(er),t.vScale=this.getScaleForId(nr)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(isObject(t)){const o=this._cachedMeta;this._data=convertObjectDataToArray(t,o)}else if(i!==t){if(i){unlistenArrayEvents(i,this);const o=this._cachedMeta;clearStacks(o),o._parsed=[]}t&&Object.isExtensible(t)&&listenArrayEvents(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=t._stacked;t._stacked=isStacked(t.vScale,t),t.stack!==i.stack&&(o=!0,clearStacks(t),t.stack=i.stack),this._resyncElements(e),(o||s!==t._stacked)&&(updateStacks(this,t._parsed),t._stacked=isStacked(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:l}=i,c=s.axis;let w=e===0&&t===o.length?!0:i._sorted,er=e>0&&i._parsed[e-1],nr,rr,or;if(this._parsing===!1)i._parsed=o,i._sorted=!0,or=o;else{isArray(o[e])?or=this.parseArrayData(i,o,e,t):isObject(o[e])?or=this.parseObjectData(i,o,e,t):or=this.parsePrimitiveData(i,o,e,t);const sr=()=>rr[c]===null||er&&rr[c]<er[c];for(nr=0;nr<t;++nr)i._parsed[nr+e]=rr=or[nr],w&&(sr()&&(w=!1),er=rr);i._sorted=w}l&&updateStacks(this,or)}parsePrimitiveData(e,t,i,o){const{iScale:s,vScale:l}=e,c=s.axis,w=l.axis,er=s.getLabels(),nr=s===l,rr=new Array(o);let or,sr,dr;for(or=0,sr=o;or<sr;++or)dr=or+i,rr[or]={[c]:nr||s.parse(er[dr],dr),[w]:l.parse(t[dr],dr)};return rr}parseArrayData(e,t,i,o){const{xScale:s,yScale:l}=e,c=new Array(o);let w,er,nr,rr;for(w=0,er=o;w<er;++w)nr=w+i,rr=t[nr],c[w]={x:s.parse(rr[0],nr),y:l.parse(rr[1],nr)};return c}parseObjectData(e,t,i,o){const{xScale:s,yScale:l}=e,{xAxisKey:c="x",yAxisKey:w="y"}=this._parsing,er=new Array(o);let nr,rr,or,sr;for(nr=0,rr=o;nr<rr;++nr)or=nr+i,sr=t[or],er[nr]={x:s.parse(resolveObjectKey(sr,c),or),y:l.parse(resolveObjectKey(sr,w),or)};return er}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const o=this.chart,s=this._cachedMeta,l=t[e.axis],c={keys:getSortedDatasetIndices(o,!0),values:t._stacks[e.axis]._visualValues};return applyStack(c,l,s.index,{mode:i})}updateRangeFromParsed(e,t,i,o){const s=i[t.axis];let l=s===null?NaN:s;const c=o&&i._stacks[t.axis];o&&c&&(o.values=c,l=applyStack(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,l=o.length,c=this._getOtherScale(e),w=createStack(t,i,this.chart),er={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:nr,max:rr}=getUserBounds(c);let or,sr;function dr(){sr=o[or];const hr=sr[c.axis];return!isNumberFinite(sr[e.axis])||nr>hr||rr<hr}for(or=0;or<l&&!(!dr()&&(this.updateRangeFromParsed(er,e,sr,w),s));++or);if(s){for(or=l-1;or>=0;--or)if(!dr()){this.updateRangeFromParsed(er,e,sr,w);break}}return er}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let o,s,l;for(o=0,s=t.length;o<s;++o)l=t[o][e.axis],isNumberFinite(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,o=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=toClip(valueOrDefault(this.options.clip,defaultClip(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,o=i.data||[],s=t.chartArea,l=[],c=this._drawStart||0,w=this._drawCount||o.length-c,er=this.options.drawActiveElementsOnTop;let nr;for(i.dataset&&i.dataset.draw(e,s,c,w),nr=c;nr<c+w;++nr){const rr=o[nr];rr.hidden||(rr.active&&er?l.push(rr):rr.draw(e,s))}for(nr=0;nr<l.length;++nr)l[nr].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];s=l.$context||(l.$context=createDataContext(this.getContext(),e,l)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const o=t==="active",s=this._cachedDataOpts,l=e+"-"+t,c=s[l],w=this.enableOptionSharing&&defined(i);if(c)return cloneIfNotShared(c,w);const er=this.chart.config,nr=er.datasetElementScopeKeys(this._type,e),rr=o?[`${e}Hover`,"hover",e,""]:[e,""],or=er.getOptionScopes(this.getDataset(),nr),sr=Object.keys(defaults.elements[e]),dr=()=>this.getContext(i,o,t),hr=er.resolveNamedOptions(or,sr,dr,rr);return hr.$shared&&(hr.$shared=w,s[l]=Object.freeze(cloneIfNotShared(hr,w))),hr}_resolveAnimations(e,t,i){const o=this.chart,s=this._cachedDataOpts,l=`animation-${t}`,c=s[l];if(c)return c;let w;if(o.options.animation!==!1){const nr=this.chart.config,rr=nr.datasetAnimationScopeKeys(this._type,t),or=nr.getOptionScopes(this.getDataset(),rr);w=nr.createResolver(or,this.getContext(e,i,t))}const er=new Animations(o,w&&w.animations);return w&&w._cacheable&&(s[l]=Object.freeze(er)),er}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),o=this._sharedOptions,s=this.getSharedOptions(i),l=this.includeOptions(t,s)||s!==o;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:l}}updateElement(e,t,i,o){isDirectUpdateMode(o)?Object.assign(e,i):this._resolveAnimations(t,o).update(e,i)}updateSharedOptions(e,t,i){e&&!isDirectUpdateMode(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,o){e.active=o;const s=this.getStyle(t,o);this._resolveAnimations(t,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,w,er]of this._syncList)this[c](w,er);this._syncList=[];const o=i.length,s=t.length,l=Math.min(s,o);l&&this.parse(0,l),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,t,i=!0){const o=this._cachedMeta,s=o.data,l=e+t;let c;const w=er=>{for(er.length+=t,c=er.length-1;c>=l;c--)er[c]=er[c-t]};for(w(s),c=e;c<l;++c)s[c]=new this.dataElementType;this._parsing&&w(o._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,o){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,t);i._stacked&&clearStacks(i,o)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,o]=e;this[t](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ln(DatasetController,"defaults",{}),ln(DatasetController,"datasetElementType",null),ln(DatasetController,"dataElementType",null);function getAllScaleValues(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let o=0,s=t.length;o<s;o++)i=i.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=_arrayUnique(i.sort((o,s)=>o-s))}return n._cache.$bar}function computeMinSampleSize(n){const e=n.iScale,t=getAllScaleValues(e,n.type);let i=e._length,o,s,l,c;const w=()=>{l===32767||l===-32768||(defined(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(o=0,s=t.length;o<s;++o)l=e.getPixelForValue(t[o]),w();for(c=void 0,o=0,s=e.ticks.length;o<s;++o)l=e.getPixelForTick(o),w();return i}function computeFitCategoryTraits(n,e,t,i){const o=t.barThickness;let s,l;return isNullOrUndef(o)?(s=e.min*t.categoryPercentage,l=t.barPercentage):(s=o*i,l=1),{chunk:s/i,ratio:l,start:e.pixels[n]-s/2}}function computeFlexCategoryTraits(n,e,t,i){const o=e.pixels,s=o[n];let l=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const w=t.categoryPercentage;l===null&&(l=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-l);const er=s-(s-Math.min(l,c))/2*w;return{chunk:Math.abs(c-l)/2*w/i,ratio:t.barPercentage,start:er}}function parseFloatBar(n,e,t,i){const o=t.parse(n[0],i),s=t.parse(n[1],i),l=Math.min(o,s),c=Math.max(o,s);let w=l,er=c;Math.abs(l)>Math.abs(c)&&(w=c,er=l),e[t.axis]=er,e._custom={barStart:w,barEnd:er,start:o,end:s,min:l,max:c}}function parseValue(n,e,t,i){return isArray(n)?parseFloatBar(n,e,t,i):e[t.axis]=t.parse(n,i),e}function parseArrayOrPrimitive(n,e,t,i){const o=n.iScale,s=n.vScale,l=o.getLabels(),c=o===s,w=[];let er,nr,rr,or;for(er=t,nr=t+i;er<nr;++er)or=e[er],rr={},rr[o.axis]=c||o.parse(l[er],er),w.push(parseValue(or,rr,s,er));return w}function isFloatBar(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function barSign(n,e,t){return n!==0?sign(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function borderProps(n){let e,t,i,o,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(o="end",s="start"):(o="start",s="end"),{start:t,end:i,reverse:e,top:o,bottom:s}}function setBorderSkipped(n,e,t,i){let o=e.borderSkipped;const s={};if(!o){n.borderSkipped=s;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:w,top:er,bottom:nr}=borderProps(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?o=er:(t._bottom||0)===i?o=nr:(s[parseEdge(nr,l,c,w)]=!0,o=er)),s[parseEdge(o,l,c,w)]=!0,n.borderSkipped=s}function parseEdge(n,e,t,i){return i?(n=swap(n,e,t),n=startEnd(n,t,e)):n=startEnd(n,e,t),n}function swap(n,e,t){return n===e?t:n===t?e:n}function startEnd(n,e,t){return n==="start"?e:n==="end"?t:n}function setInflateAmount(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,t,i,o){return parseArrayOrPrimitive(e,t,i,o)}parseArrayData(e,t,i,o){return parseArrayOrPrimitive(e,t,i,o)}parseObjectData(e,t,i,o){const{iScale:s,vScale:l}=e,{xAxisKey:c="x",yAxisKey:w="y"}=this._parsing,er=s.axis==="x"?c:w,nr=l.axis==="x"?c:w,rr=[];let or,sr,dr,hr;for(or=i,sr=i+o;or<sr;++or)hr=t[or],dr={},dr[s.axis]=s.parse(resolveObjectKey(hr,er),or),rr.push(parseValue(resolveObjectKey(hr,nr),dr,l,or));return rr}updateRangeFromParsed(e,t,i,o){super.updateRangeFromParsed(e,t,i,o);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:o}=t,s=this.getParsed(e),l=s._custom,c=isFloatBar(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,o){const s=o==="reset",{index:l,_cachedMeta:{vScale:c}}=this,w=c.getBasePixel(),er=c.isHorizontal(),nr=this._getRuler(),{sharedOptions:rr,includeOptions:or}=this._getSharedOptions(t,o);for(let sr=t;sr<t+i;sr++){const dr=this.getParsed(sr),hr=s||isNullOrUndef(dr[c.axis])?{base:w,head:w}:this._calculateBarValuePixels(sr),gr=this._calculateBarIndexPixels(sr,nr),mr=(dr._stacks||{})[c.axis],vr={horizontal:er,base:hr.base,enableBorderRadius:!mr||isFloatBar(dr._custom)||l===mr._top||l===mr._bottom,x:er?hr.head:gr.center,y:er?gr.center:hr.head,height:er?gr.size:Math.abs(hr.size),width:er?Math.abs(hr.size):gr.size};or&&(vr.options=rr||this.resolveDataElementOptions(sr,e[sr].active?"active":o));const Sr=vr.options||e[sr].options;setBorderSkipped(vr,Sr,mr,l),setInflateAmount(vr,Sr,nr.ratio),this.updateElement(e[sr],sr,vr,o)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(nr=>nr.controller.options.grouped),s=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),w=c&&c[i.axis],er=nr=>{const rr=nr._parsed.find(sr=>sr[i.axis]===w),or=rr&&rr[nr.vScale.axis];if(isNullOrUndef(or)||isNaN(or))return!0};for(const nr of o)if(!(t!==void 0&&er(nr))&&((s===!1||l.indexOf(nr.stack)===-1||s===void 0&&nr.stack===void 0)&&l.push(nr.stack),nr.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const o=this._getStacks(e,i),s=t!==void 0?o.indexOf(t):-1;return s===-1?o.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,o=[];let s,l;for(s=0,l=t.data.length;s<l;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=e.barThickness;return{min:c||computeMinSampleSize(t),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:o},options:{base:s,minBarLength:l}}=this,c=s||0,w=this.getParsed(e),er=w._custom,nr=isFloatBar(er);let rr=w[t.axis],or=0,sr=i?this.applyStack(t,w,i):rr,dr,hr;sr!==rr&&(or=sr-rr,sr=rr),nr&&(rr=er.barStart,sr=er.barEnd-er.barStart,rr!==0&&sign(rr)!==sign(er.barEnd)&&(or=0),or+=rr);const gr=!isNullOrUndef(s)&&!nr?s:or;let mr=t.getPixelForValue(gr);if(this.chart.getDataVisibility(e)?dr=t.getPixelForValue(or+sr):dr=mr,hr=dr-mr,Math.abs(hr)<l){hr=barSign(hr,t,c)*l,rr===c&&(mr-=hr/2);const vr=t.getPixelForDecimal(0),Sr=t.getPixelForDecimal(1),Ar=Math.min(vr,Sr),Mr=Math.max(vr,Sr);mr=Math.max(Math.min(mr,Mr),Ar),dr=mr+hr,i&&!nr&&(w._stacks[t.axis]._visualValues[o]=t.getValueForPixel(dr)-t.getValueForPixel(mr))}if(mr===t.getPixelForValue(c)){const vr=sign(hr)*t.getLineWidthForValue(c)/2;mr+=vr,hr-=vr}return{size:hr,base:mr,head:dr,center:dr+hr/2}}_calculateBarIndexPixels(e,t){const i=t.scale,o=this.options,s=o.skipNull,l=valueOrDefault(o.maxBarThickness,1/0);let c,w;if(t.grouped){const er=s?this._getStackCount(e):t.stackCount,nr=o.barThickness==="flex"?computeFlexCategoryTraits(e,t,o,er):computeFitCategoryTraits(e,t,o,er),rr=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=nr.start+nr.chunk*rr+nr.chunk/2,w=Math.min(l,nr.chunk*nr.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),w=Math.min(l,t.min*t.ratio);return{base:c-w/2,head:c+w/2,center:c,size:w}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,o=i.length;let s=0;for(;s<o;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ln(BarController,"id","bar"),ln(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ln(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,o){const s=super.parsePrimitiveData(e,t,i,o);for(let l=0;l<s.length;l++)s[l]._custom=this.resolveDataElementOptions(l+i).radius;return s}parseArrayData(e,t,i,o){const s=super.parseArrayData(e,t,i,o);for(let l=0;l<s.length;l++){const c=t[i+l];s[l]._custom=valueOrDefault(c[2],this.resolveDataElementOptions(l+i).radius)}return s}parseObjectData(e,t,i,o){const s=super.parseObjectData(e,t,i,o);for(let l=0;l<s.length;l++){const c=t[i+l];s[l]._custom=valueOrDefault(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=t,l=this.getParsed(e),c=o.getLabelForValue(l.x),w=s.getLabelForValue(l.y),er=l._custom;return{label:i[e]||"",value:"("+c+", "+w+(er?", "+er:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,o){const s=o==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:w,includeOptions:er}=this._getSharedOptions(t,o),nr=l.axis,rr=c.axis;for(let or=t;or<t+i;or++){const sr=e[or],dr=!s&&this.getParsed(or),hr={},gr=hr[nr]=s?l.getPixelForDecimal(.5):l.getPixelForValue(dr[nr]),mr=hr[rr]=s?c.getBasePixel():c.getPixelForValue(dr[rr]);hr.skip=isNaN(gr)||isNaN(mr),er&&(hr.options=w||this.resolveDataElementOptions(or,sr.active?"active":o),s&&(hr.options.radius=0)),this.updateElement(sr,or,hr,o)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return t!=="active"&&(o.radius=0),o.radius+=valueOrDefault(i&&i._custom,s),o}}ln(BubbleController,"id","bubble"),ln(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ln(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(n,e,t){let i=1,o=1,s=0,l=0;if(e<TAU){const c=n,w=c+e,er=Math.cos(c),nr=Math.sin(c),rr=Math.cos(w),or=Math.sin(w),sr=(Sr,Ar,Mr)=>_angleBetween(Sr,c,w,!0)?1:Math.max(Ar,Ar*t,Mr,Mr*t),dr=(Sr,Ar,Mr)=>_angleBetween(Sr,c,w,!0)?-1:Math.min(Ar,Ar*t,Mr,Mr*t),hr=sr(0,er,rr),gr=sr(HALF_PI,nr,or),mr=dr(PI,er,rr),vr=dr(PI+HALF_PI,nr,or);i=(hr-mr)/2,o=(gr-vr)/2,s=-(hr+mr)/2,l=-(gr+vr)/2}return{ratioX:i,ratioY:o,offsetX:s,offsetY:l}}class DoughnutController extends DatasetController{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=w=>+i[w];if(isObject(i[e])){const{key:w="value"}=this._parsing;s=er=>+resolveObjectKey(i[er],w)}let l,c;for(l=e,c=e+t;l<c;++l)o._parsed[l]=s(l)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,t=-TAU;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),l=o._getCircumference();e=Math.min(e,s),t=Math.max(t,s+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,o=this._cachedMeta,s=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),w=Math.min(toPercentage(this.options.cutout,c),1),er=this._getRingWeight(this.index),{circumference:nr,rotation:rr}=this._getRotationExtents(),{ratioX:or,ratioY:sr,offsetX:dr,offsetY:hr}=getRatioAndOffset(rr,nr,w),gr=(i.width-l)/or,mr=(i.height-l)/sr,vr=Math.max(Math.min(gr,mr)/2,0),Sr=toDimension(this.options.radius,vr),Ar=Math.max(Sr*w,0),Mr=(Sr-Ar)/this._getVisibleDatasetWeightTotal();this.offsetX=dr*Sr,this.offsetY=hr*Sr,o.total=this.calculateTotal(),this.outerRadius=Sr-Mr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Mr*er,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,o=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/TAU)}updateElements(e,t,i,o){const s=o==="reset",l=this.chart,c=l.chartArea,er=l.options.animation,nr=(c.left+c.right)/2,rr=(c.top+c.bottom)/2,or=s&&er.animateScale,sr=or?0:this.innerRadius,dr=or?0:this.outerRadius,{sharedOptions:hr,includeOptions:gr}=this._getSharedOptions(t,o);let mr=this._getRotation(),vr;for(vr=0;vr<t;++vr)mr+=this._circumference(vr,s);for(vr=t;vr<t+i;++vr){const Sr=this._circumference(vr,s),Ar=e[vr],Mr={x:nr+this.offsetX,y:rr+this.offsetY,startAngle:mr,endAngle:mr+Sr,circumference:Sr,outerRadius:dr,innerRadius:sr};gr&&(Mr.options=hr||this.resolveDataElementOptions(vr,Ar.active?"active":o)),mr+=Sr,this.updateElement(Ar,vr,Mr,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,o;for(o=0;o<t.length;o++){const s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?TAU*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=formatNumber(t._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let o,s,l,c,w;if(!e){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){l=i.getDatasetMeta(o),e=l.data,c=l.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)w=c.resolveDataElementOptions(o),w.borderAlign!=="inner"&&(t=Math.max(t,w.borderWidth||0,w.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,o=e.length;i<o;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ln(DoughnutController,"id","doughnut"),ln(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ln(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ln(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return t.labels.map((s,l)=>{const w=e.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,fontColor:o,lineWidth:w.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=t,l=this.chart._animationsDisabled;let{start:c,count:w}=_getStartAndCountOfVisiblePoints(t,o,l);this._drawStart=c,this._drawCount=w,_scaleRangesChanged(t)&&(c=0,w=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;const er=this.resolveDatasetElementOptions(e);this.options.showLine||(er.borderWidth=0),er.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:er},e),this.updateElements(o,c,w,e)}updateElements(e,t,i,o){const s=o==="reset",{iScale:l,vScale:c,_stacked:w,_dataset:er}=this._cachedMeta,{sharedOptions:nr,includeOptions:rr}=this._getSharedOptions(t,o),or=l.axis,sr=c.axis,{spanGaps:dr,segment:hr}=this.options,gr=isNumber(dr)?dr:Number.POSITIVE_INFINITY,mr=this.chart._animationsDisabled||s||o==="none",vr=t+i,Sr=e.length;let Ar=t>0&&this.getParsed(t-1);for(let Mr=0;Mr<Sr;++Mr){const Fr=e[Mr],Tr=mr?Fr:{};if(Mr<t||Mr>=vr){Tr.skip=!0;continue}const Er=this.getParsed(Mr),Rr=isNullOrUndef(Er[sr]),wr=Tr[or]=l.getPixelForValue(Er[or],Mr),Or=Tr[sr]=s||Rr?c.getBasePixel():c.getPixelForValue(w?this.applyStack(c,Er,w):Er[sr],Mr);Tr.skip=isNaN(wr)||isNaN(Or)||Rr,Tr.stop=Mr>0&&Math.abs(Er[or]-Ar[or])>gr,hr&&(Tr.parsed=Er,Tr.raw=er.data[Mr]),rr&&(Tr.options=nr||this.resolveDataElementOptions(Mr,Fr.active?"active":o)),mr||this.updateElement(Fr,Mr,Tr,o),Ar=Er}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const s=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ln(LineController,"id","line"),ln(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ln(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=formatNumber(t._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,t,i,o){return _parseObjectDataRadialScale.bind(this)(e,t,i,o)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(o/2,0),l=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-l)/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,i,o){const s=o==="reset",l=this.chart,w=l.options.animation,er=this._cachedMeta.rScale,nr=er.xCenter,rr=er.yCenter,or=er.getIndexAngle(0)-.5*PI;let sr=or,dr;const hr=360/this.countVisibleElements();for(dr=0;dr<t;++dr)sr+=this._computeAngle(dr,o,hr);for(dr=t;dr<t+i;dr++){const gr=e[dr];let mr=sr,vr=sr+this._computeAngle(dr,o,hr),Sr=l.getDataVisibility(dr)?er.getDistanceFromCenterForValue(this.getParsed(dr).r):0;sr=vr,s&&(w.animateScale&&(Sr=0),w.animateRotate&&(mr=vr=or));const Ar={x:nr,y:rr,innerRadius:0,outerRadius:Sr,startAngle:mr,endAngle:vr,options:this.resolveDataElementOptions(dr,gr.active?"active":o)};this.updateElement(gr,dr,Ar,o)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,t).angle||i):0}}ln(PolarAreaController,"id","polarArea"),ln(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ln(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return t.labels.map((s,l)=>{const w=e.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,fontColor:o,lineWidth:w.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}ln(PieController,"id","pie"),ln(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,o){return _parseObjectDataRadialScale.bind(this)(e,t,i,o)}update(e){const t=this._cachedMeta,i=t.dataset,o=t.data||[],s=t.iScale.getLabels();if(i.points=o,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:s.length===o.length,options:l};this.updateElement(i,void 0,c,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,i,o){const s=this._cachedMeta.rScale,l=o==="reset";for(let c=t;c<t+i;c++){const w=e[c],er=this.resolveDataElementOptions(c,w.active?"active":o),nr=s.getPointPositionForValue(c,this.getParsed(c).r),rr=l?s.xCenter:nr.x,or=l?s.yCenter:nr.y,sr={x:rr,y:or,angle:nr.angle,skip:isNaN(rr)||isNaN(or),options:er};this.updateElement(w,c,sr,o)}}}ln(RadarController,"id","radar"),ln(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ln(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=t,l=this.getParsed(e),c=o.getLabelForValue(l.x),w=s.getLabelForValue(l.y);return{label:i[e]||"",value:"("+c+", "+w+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,o=this.chart._animationsDisabled;let{start:s,count:l}=_getStartAndCountOfVisiblePoints(t,i,o);if(this._drawStart=s,this._drawCount=l,_scaleRangesChanged(t)&&(s=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:w}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!w._decimated,c.points=i;const er=this.resolveDatasetElementOptions(e);er.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:er},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,o){const s=o==="reset",{iScale:l,vScale:c,_stacked:w,_dataset:er}=this._cachedMeta,nr=this.resolveDataElementOptions(t,o),rr=this.getSharedOptions(nr),or=this.includeOptions(o,rr),sr=l.axis,dr=c.axis,{spanGaps:hr,segment:gr}=this.options,mr=isNumber(hr)?hr:Number.POSITIVE_INFINITY,vr=this.chart._animationsDisabled||s||o==="none";let Sr=t>0&&this.getParsed(t-1);for(let Ar=t;Ar<t+i;++Ar){const Mr=e[Ar],Fr=this.getParsed(Ar),Tr=vr?Mr:{},Er=isNullOrUndef(Fr[dr]),Rr=Tr[sr]=l.getPixelForValue(Fr[sr],Ar),wr=Tr[dr]=s||Er?c.getBasePixel():c.getPixelForValue(w?this.applyStack(c,Fr,w):Fr[dr],Ar);Tr.skip=isNaN(Rr)||isNaN(wr)||Er,Tr.stop=Ar>0&&Math.abs(Fr[sr]-Sr[sr])>mr,gr&&(Tr.parsed=Fr,Tr.raw=er.data[Ar]),or&&(Tr.options=rr||this.resolveDataElementOptions(Ar,Mr.active?"active":o)),vr||this.updateElement(Mr,Ar,Tr,o),Sr=Fr}this.updateSharedOptions(rr,o,nr)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let w=t.length-1;w>=0;--w)c=Math.max(c,t[w].size(this.resolveDataElementOptions(w))/2);return c>0&&c}const i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!t.length)return o;const s=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,s,l)/2}}ln(ScatterController,"id","scatter"),ln(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ln(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PieController,PolarAreaController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){ln(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(n,e,t,i){const{controller:o,data:s,_sorted:l}=n,c=o._cachedMeta.iScale,w=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&s.length){const er=c._reversePixels?_rlookupByKey:_lookupByKey;if(i){if(o._sharedOptions){const nr=s[0],rr=typeof nr.getRange=="function"&&nr.getRange(e);if(rr){const or=er(s,e,t-rr),sr=er(s,e,t+rr);return{lo:or.lo,hi:sr.hi}}}}else{const nr=er(s,e,t);if(w){const{vScale:rr}=o._cachedMeta,{_parsed:or}=n,sr=or.slice(0,nr.lo+1).reverse().findIndex(hr=>!isNullOrUndef(hr[rr.axis]));nr.lo-=Math.max(0,sr);const dr=or.slice(nr.hi).findIndex(hr=>!isNullOrUndef(hr[rr.axis]));nr.hi+=Math.max(0,dr)}return nr}}return{lo:0,hi:s.length-1}}function evaluateInteractionItems(n,e,t,i,o){const s=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,w=s.length;c<w;++c){const{index:er,data:nr}=s[c],{lo:rr,hi:or}=binarySearch(s[c],e,l,o);for(let sr=rr;sr<=or;++sr){const dr=nr[sr];dr.skip||i(dr,er,sr)}}}function getDistanceMetricForAxis(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,o){const s=e?Math.abs(i.x-o.x):0,l=t?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}function getIntersectItems(n,e,t,i,o){const s=[];return!o&&!n.isPointInArea(e)||evaluateInteractionItems(n,t,e,function(c,w,er){!o&&!_isPointInArea(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:w,index:er})},!0),s}function getNearestRadialItems(n,e,t,i){let o=[];function s(l,c,w){const{startAngle:er,endAngle:nr}=l.getProps(["startAngle","endAngle"],i),{angle:rr}=getAngleFromPoint(l,{x:e.x,y:e.y});_angleBetween(rr,er,nr)&&o.push({element:l,datasetIndex:c,index:w})}return evaluateInteractionItems(n,t,e,s),o}function getNearestCartesianItems(n,e,t,i,o,s){let l=[];const c=getDistanceMetricForAxis(t);let w=Number.POSITIVE_INFINITY;function er(nr,rr,or){const sr=nr.inRange(e.x,e.y,o);if(i&&!sr)return;const dr=nr.getCenterPoint(o);if(!(!!s||n.isPointInArea(dr))&&!sr)return;const gr=c(e,dr);gr<w?(l=[{element:nr,datasetIndex:rr,index:or}],w=gr):gr===w&&l.push({element:nr,datasetIndex:rr,index:or})}return evaluateInteractionItems(n,t,e,er),l}function getNearestItems(n,e,t,i,o,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?getNearestRadialItems(n,e,t,o):getNearestCartesianItems(n,e,t,i,o,s)}function getAxisItems(n,e,t,i,o){const s=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return evaluateInteractionItems(n,t,e,(w,er,nr)=>{w[l]&&w[l](e[t],o)&&(s.push({element:w,datasetIndex:er,index:nr}),c=c||w.inRange(e.x,e.y,o))}),i&&!c?[]:s}var Interaction={modes:{index(n,e,t,i){const o=getRelativePosition(e,n),s=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?getIntersectItems(n,o,s,i,l):getNearestItems(n,o,s,!1,i,l),w=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(er=>{const nr=c[0].index,rr=er.data[nr];rr&&!rr.skip&&w.push({element:rr,datasetIndex:er.index,index:nr})}),w):[]},dataset(n,e,t,i){const o=getRelativePosition(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?getIntersectItems(n,o,s,i,l):getNearestItems(n,o,s,!1,i,l);if(c.length>0){const w=c[0].datasetIndex,er=n.getDatasetMeta(w).data;c=[];for(let nr=0;nr<er.length;++nr)c.push({element:er[nr],datasetIndex:w,index:nr})}return c},point(n,e,t,i){const o=getRelativePosition(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;return getIntersectItems(n,o,s,i,l)},nearest(n,e,t,i){const o=getRelativePosition(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;return getNearestItems(n,o,s,t.intersect,i,l)},x(n,e,t,i){const o=getRelativePosition(e,n);return getAxisItems(n,o,"x",t.intersect,i)},y(n,e,t,i){const o=getRelativePosition(e,n);return getAxisItems(n,o,"y",t.intersect,i)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(n,e){return n.filter(t=>t.pos===e)}function filterDynamicPositionByAxis(n,e){return n.filter(t=>STATIC_POSITIONS.indexOf(t.pos)===-1&&t.box.axis===e)}function sortByWeight(n,e){return n.sort((t,i)=>{const o=e?i:t,s=e?t:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function wrapBoxes(n){const e=[];let t,i,o,s,l,c;for(t=0,i=(n||[]).length;t<i;++t)o=n[t],{position:s,options:{stack:l,stackWeight:c=1}}=o,e.push({index:t,box:o,pos:s,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&s+l,stackWeight:c});return e}function buildStacks(n){const e={};for(const t of n){const{stack:i,pos:o,stackWeight:s}=t;if(!i||!STATIC_POSITIONS.includes(o))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return e}function setLayoutDims(n,e){const t=buildStacks(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let s,l,c;for(s=0,l=n.length;s<l;++s){c=n[s];const{fullSize:w}=c.box,er=t[c.stack],nr=er&&c.stackWeight/er.weight;c.horizontal?(c.width=nr?nr*i:w&&e.availableWidth,c.height=o):(c.width=i,c.height=nr?nr*o:w&&e.availableHeight)}return t}function buildLayoutBoxes(n){const e=wrapBoxes(n),t=sortByWeight(e.filter(er=>er.box.fullSize),!0),i=sortByWeight(filterByPosition(e,"left"),!0),o=sortByWeight(filterByPosition(e,"right")),s=sortByWeight(filterByPosition(e,"top"),!0),l=sortByWeight(filterByPosition(e,"bottom")),c=filterDynamicPositionByAxis(e,"x"),w=filterDynamicPositionByAxis(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:o.concat(w).concat(l).concat(c),chartArea:filterByPosition(e,"chartArea"),vertical:i.concat(o).concat(w),horizontal:s.concat(l).concat(c)}}function getCombinedMax(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function updateMaxPadding(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function updateDims(n,e,t,i){const{pos:o,box:s}=t,l=n.maxPadding;if(!isObject(o)){t.size&&(n[o]-=t.size);const rr=i[t.stack]||{size:0,count:1};rr.size=Math.max(rr.size,t.horizontal?s.height:s.width),t.size=rr.size/rr.count,n[o]+=t.size}s.getPadding&&updateMaxPadding(l,s.getPadding());const c=Math.max(0,e.outerWidth-getCombinedMax(l,n,"left","right")),w=Math.max(0,e.outerHeight-getCombinedMax(l,n,"top","bottom")),er=c!==n.w,nr=w!==n.h;return n.w=c,n.h=w,t.horizontal?{same:er,other:nr}:{same:nr,other:er}}function handleMaxPadding(n){const e=n.maxPadding;function t(i){const o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function getMargins(n,e){const t=e.maxPadding;function i(o){const s={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{s[l]=Math.max(e[l],t[l])}),s}return i(n?["left","right"]:["top","bottom"])}function fitBoxes(n,e,t,i){const o=[];let s,l,c,w,er,nr;for(s=0,l=n.length,er=0;s<l;++s){c=n[s],w=c.box,w.update(c.width||e.w,c.height||e.h,getMargins(c.horizontal,e));const{same:rr,other:or}=updateDims(e,t,c,i);er|=rr&&o.length,nr=nr||or,w.fullSize||o.push(c)}return er&&fitBoxes(o,e,t,i)||nr}function setBoxDims(n,e,t,i,o){n.top=t,n.left=e,n.right=e+i,n.bottom=t+o,n.width=i,n.height=o}function placeBoxes(n,e,t,i){const o=t.padding;let{x:s,y:l}=e;for(const c of n){const w=c.box,er=i[c.stack]||{placed:0,weight:1},nr=c.stackWeight/er.weight||1;if(c.horizontal){const rr=e.w*nr,or=er.size||w.height;defined(er.start)&&(l=er.start),w.fullSize?setBoxDims(w,o.left,l,t.outerWidth-o.right-o.left,or):setBoxDims(w,e.left+er.placed,l,rr,or),er.start=l,er.placed+=rr,l=w.bottom}else{const rr=e.h*nr,or=er.size||w.width;defined(er.start)&&(s=er.start),w.fullSize?setBoxDims(w,s,o.top,or,t.outerHeight-o.bottom-o.top):setBoxDims(w,s,e.top+er.placed,or,rr),er.start=s,er.placed+=rr,s=w.right}}e.x=s,e.y=l}var layouts={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const o=toPadding(n.options.layout.padding),s=Math.max(e-o.width,0),l=Math.max(t-o.height,0),c=buildLayoutBoxes(n.boxes),w=c.vertical,er=c.horizontal;each(n.boxes,hr=>{typeof hr.beforeLayout=="function"&&hr.beforeLayout()});const nr=w.reduce((hr,gr)=>gr.box.options&&gr.box.options.display===!1?hr:hr+1,0)||1,rr=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/nr,hBoxMaxHeight:l/2}),or=Object.assign({},o);updateMaxPadding(or,toPadding(i));const sr=Object.assign({maxPadding:or,w:s,h:l,x:o.left,y:o.top},o),dr=setLayoutDims(w.concat(er),rr);fitBoxes(c.fullSize,sr,rr,dr),fitBoxes(w,sr,rr,dr),fitBoxes(er,sr,rr,dr)&&fitBoxes(w,sr,rr,dr),handleMaxPadding(sr),placeBoxes(c.leftAndTop,sr,rr,dr),sr.x+=sr.w,sr.y+=sr.h,placeBoxes(c.rightAndBottom,sr,rr,dr),n.chartArea={left:sr.left,top:sr.top,right:sr.left+sr.w,bottom:sr.top+sr.h,height:sr.h,width:sr.w},each(c.chartArea,hr=>{const gr=hr.box;Object.assign(gr,n.chartArea),gr.update(sr.w,sr.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=n=>n===null||n==="";function initCanvas(n,e){const t=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[EXPANDO_KEY]={initial:{height:i,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",isNullOrEmpty(o)){const s=readUsedSize(n,"width");s!==void 0&&(n.width=s)}if(isNullOrEmpty(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=readUsedSize(n,"height");s!==void 0&&(n.height=s)}return n}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(n,e,t){n&&n.addEventListener(e,t,eventListenerOptions)}function removeListener(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,eventListenerOptions)}function fromNativeEvent(n,e){const t=EVENT_TYPES[n.type]||n.type,{x:i,y:o}=getRelativePosition(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function nodeListContains(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function createAttachObserver(n,e,t){const i=n.canvas,o=new MutationObserver(s=>{let l=!1;for(const c of s)l=l||nodeListContains(c.addedNodes,i),l=l&&!nodeListContains(c.removedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function createDetachObserver(n,e,t){const i=n.canvas,o=new MutationObserver(s=>{let l=!1;for(const c of s)l=l||nodeListContains(c.removedNodes,i),l=l&&!nodeListContains(c.addedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const n=window.devicePixelRatio;n!==oldDevicePixelRatio&&(oldDevicePixelRatio=n,drpListeningCharts.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function listenDevicePixelRatioChanges(n,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(n,e)}function unlistenDevicePixelRatioChanges(n){drpListeningCharts.delete(n),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(n,e,t){const i=n.canvas,o=i&&_getParentNode(i);if(!o)return;const s=throttled((c,w)=>{const er=o.clientWidth;t(c,w),er<o.clientWidth&&t()},window),l=new ResizeObserver(c=>{const w=c[0],er=w.contentRect.width,nr=w.contentRect.height;er===0&&nr===0||s(er,nr)});return l.observe(o),listenDevicePixelRatioChanges(n,s),l}function releaseObserver(n,e,t){t&&t.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(n)}function createProxyAndListen(n,e,t){const i=n.canvas,o=throttled(s=>{n.ctx!==null&&t(fromNativeEvent(s,n))},n);return addListener(i,e,o),o}class DomPlatform extends BasePlatform{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(initCanvas(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[EXPANDO_KEY])return!1;const i=t[EXPANDO_KEY].initial;["height","width"].forEach(s=>{const l=i[s];isNullOrUndef(l)?t.removeAttribute(s):t.setAttribute(s,l)});const o=i.style||{};return Object.keys(o).forEach(s=>{t.style[s]=o[s]}),t.width=t.width,delete t[EXPANDO_KEY],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[t]||createProxyAndListen;o[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),o=i[t];if(!o)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[t]||removeListener)(e,t,o),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return getMaximumSize(e,t,i,o)}isAttached(e){const t=e&&_getParentNode(e);return!!(t&&t.isConnected)}}function _detectPlatform(n){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){ln(this,"x");ln(this,"y");ln(this,"active",!1);ln(this,"options");ln(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const o={};return e.forEach(s=>{o[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),o}}ln(Element,"defaults",{}),ln(Element,"defaultRoutes");function autoSkip(n,e){const t=n.options.ticks,i=determineMaxTicks(n),o=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?getMajorIndices(e):[],l=s.length,c=s[0],w=s[l-1],er=[];if(l>o)return skipMajors(e,er,s,l/o),er;const nr=calculateSpacing(s,e,o);if(l>0){let rr,or;const sr=l>1?Math.round((w-c)/(l-1)):null;for(skip(e,er,nr,isNullOrUndef(sr)?0:c-sr,c),rr=0,or=l-1;rr<or;rr++)skip(e,er,nr,s[rr],s[rr+1]);return skip(e,er,nr,w,isNullOrUndef(sr)?e.length:w+sr),er}return skip(e,er,nr),er}function determineMaxTicks(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(i,o))}function calculateSpacing(n,e,t){const i=getEvenSpacing(n),o=e.length/t;if(!i)return Math.max(o,1);const s=_factorize(i);for(let l=0,c=s.length-1;l<c;l++){const w=s[l];if(w>o)return w}return Math.max(o,1)}function getMajorIndices(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function skipMajors(n,e,t,i){let o=0,s=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===s&&(e.push(n[l]),o++,s=t[o*i])}function skip(n,e,t,i,o){const s=valueOrDefault(i,0),l=Math.min(valueOrDefault(o,n.length),n.length);let c=0,w,er,nr;for(t=Math.ceil(t),o&&(w=o-i,t=w/Math.floor(w/t)),nr=s;nr<0;)c++,nr=Math.round(s+c*t);for(er=Math.max(s,0);er<l;er++)er===nr&&(e.push(n[er]),c++,nr=Math.round(s+c*t))}function getEvenSpacing(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const reverseAlign=n=>n==="left"?"right":n==="right"?"left":n,offsetFromEdge=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,getTicksLimit=(n,e)=>Math.min(e||n,n);function sample(n,e){const t=[],i=n.length/e,o=n.length;let s=0;for(;s<o;s+=i)t.push(n[Math.floor(s)]);return t}function getPixelForGridLine(n,e,t){const i=n.ticks.length,o=Math.min(e,i-1),s=n._startPixel,l=n._endPixel,c=1e-6;let w=n.getPixelForTick(o),er;if(!(t&&(i===1?er=Math.max(w-s,l-w):e===0?er=(n.getPixelForTick(1)-w)/2:er=(w-n.getPixelForTick(o-1))/2,w+=o<e?er:-er,w<s-c||w>l+c)))return w}function garbageCollect(n,e){each(n,t=>{const i=t.gc,o=i.length/2;let s;if(o>e){for(s=0;s<o;++s)delete t.data[i[s]];i.splice(0,o)}})}function getTickMarkLength(n){return n.drawTicks?n.tickLength:0}function getTitleHeight(n,e){if(!n.display)return 0;const t=toFont(n.font,e),i=toPadding(n.padding);return(isArray(n.text)?n.text.length:1)*t.lineHeight+i.height}function createScaleContext(n,e){return createContext(n,{scale:e,type:"scale"})}function createTickContext(n,e,t){return createContext(n,{tick:t,index:e,type:"tick"})}function titleAlign(n,e,t){let i=_toLeftRightCenter(n);return(t&&e!=="right"||!t&&e==="right")&&(i=reverseAlign(i)),i}function titleArgs(n,e,t,i){const{top:o,left:s,bottom:l,right:c,chart:w}=n,{chartArea:er,scales:nr}=w;let rr=0,or,sr,dr;const hr=l-o,gr=c-s;if(n.isHorizontal()){if(sr=_alignStartEnd(i,s,c),isObject(t)){const mr=Object.keys(t)[0],vr=t[mr];dr=nr[mr].getPixelForValue(vr)+hr-e}else t==="center"?dr=(er.bottom+er.top)/2+hr-e:dr=offsetFromEdge(n,t,e);or=c-s}else{if(isObject(t)){const mr=Object.keys(t)[0],vr=t[mr];sr=nr[mr].getPixelForValue(vr)-gr+e}else t==="center"?sr=(er.left+er.right)/2-gr+e:sr=offsetFromEdge(n,t,e);dr=_alignStartEnd(i,l,o),rr=t==="left"?-HALF_PI:HALF_PI}return{titleX:sr,titleY:dr,maxWidth:or,rotation:rr}}class Scale extends Element{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),t=finiteOrDefault(t,Number.NEGATIVE_INFINITY),i=finiteOrDefault(i,Number.POSITIVE_INFINITY),o=finiteOrDefault(o,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,i),max:finiteOrDefault(t,o),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(t)}}getMinMax(e){let{min:t,max:i,minDefined:o,maxDefined:s}=this.getUserBounds(),l;if(o&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let w=0,er=c.length;w<er;++w)l=c[w].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),s||(i=Math.max(i,l.max));return t=s&&t>i?i:t,i=o&&t>i?t:i,{min:finiteOrDefault(t,finiteOrDefault(i,t)),max:finiteOrDefault(i,finiteOrDefault(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:o,grace:s,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const w=c<this.ticks.length;this._convertTicksToLabels(w?sample(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),w&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,o,s;for(i=0,o=e.length;i<o;i++)s=e[i],s.label=callback(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,s=t.maxRotation;let l=o,c,w,er;if(!this._isVisible()||!t.display||o>=s||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const nr=this._getLabelSizes(),rr=nr.widest.width,or=nr.highest.height,sr=_limitValue(this.chart.width-rr,0,this.maxWidth);c=e.offset?this.maxWidth/i:sr/(i-1),rr+6>c&&(c=sr/(i-(e.offset?.5:1)),w=this.maxHeight-getTickMarkLength(e.grid)-t.padding-getTitleHeight(e.title,this.chart.options.font),er=Math.sqrt(rr*rr+or*or),l=toDegrees(Math.min(Math.asin(_limitValue((nr.highest.height+6)/c,-1,1)),Math.asin(_limitValue(w/er,-1,1))-Math.asin(_limitValue(or/er,-1,1)))),l=Math.max(o,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:s}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const w=getTitleHeight(o,t.options.font);if(c?(e.width=this.maxWidth,e.height=getTickMarkLength(s)+w):(e.height=this.maxHeight,e.width=getTickMarkLength(s)+w),i.display&&this.ticks.length){const{first:er,last:nr,widest:rr,highest:or}=this._getLabelSizes(),sr=i.padding*2,dr=toRadians(this.labelRotation),hr=Math.cos(dr),gr=Math.sin(dr);if(c){const mr=i.mirror?0:gr*rr.width+hr*or.height;e.height=Math.min(this.maxHeight,e.height+mr+sr)}else{const mr=i.mirror?0:hr*rr.width+gr*or.height;e.width=Math.min(this.maxWidth,e.width+mr+sr)}this._calculatePadding(er,nr,gr,hr)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){const{ticks:{align:s,padding:l},position:c}=this.options,w=this.labelRotation!==0,er=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const nr=this.getPixelForTick(0)-this.left,rr=this.right-this.getPixelForTick(this.ticks.length-1);let or=0,sr=0;w?er?(or=o*e.width,sr=i*t.height):(or=i*e.height,sr=o*t.width):s==="start"?sr=t.width:s==="end"?or=e.width:s!=="inner"&&(or=e.width/2,sr=t.width/2),this.paddingLeft=Math.max((or-nr+l)*this.width/(this.width-nr),0),this.paddingRight=Math.max((sr-rr+l)*this.width/(this.width-rr),0)}else{let nr=t.height/2,rr=e.height/2;s==="start"?(nr=0,rr=e.height):s==="end"&&(nr=t.height,rr=0),this.paddingTop=nr+l,this.paddingBottom=rr+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)isNullOrUndef(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=sample(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:o,_longestTextCache:s}=this,l=[],c=[],w=Math.floor(t/getTicksLimit(t,i));let er=0,nr=0,rr,or,sr,dr,hr,gr,mr,vr,Sr,Ar,Mr;for(rr=0;rr<t;rr+=w){if(dr=e[rr].label,hr=this._resolveTickFontOptions(rr),o.font=gr=hr.string,mr=s[gr]=s[gr]||{data:{},gc:[]},vr=hr.lineHeight,Sr=Ar=0,!isNullOrUndef(dr)&&!isArray(dr))Sr=_measureText(o,mr.data,mr.gc,Sr,dr),Ar=vr;else if(isArray(dr))for(or=0,sr=dr.length;or<sr;++or)Mr=dr[or],!isNullOrUndef(Mr)&&!isArray(Mr)&&(Sr=_measureText(o,mr.data,mr.gc,Sr,Mr),Ar+=vr);l.push(Sr),c.push(Ar),er=Math.max(Sr,er),nr=Math.max(Ar,nr)}garbageCollect(s,t);const Fr=l.indexOf(er),Tr=c.indexOf(nr),Er=Rr=>({width:l[Rr]||0,height:c[Rr]||0});return{first:Er(0),last:Er(t-1),widest:Er(Fr),highest:Er(Tr),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=createTickContext(this.getContext(),e,i))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=toRadians(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),s=this._getLabelSizes(),l=e.autoSkipPadding||0,c=s?s.widest.width+l:0,w=s?s.highest.height+l:0;return this.isHorizontal()?w*i>c*o?c/i:w/o:w*o<c*i?w/i:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,o=this.options,{grid:s,position:l,border:c}=o,w=s.offset,er=this.isHorizontal(),rr=this.ticks.length+(w?1:0),or=getTickMarkLength(s),sr=[],dr=c.setContext(this.getContext()),hr=dr.display?dr.width:0,gr=hr/2,mr=function(Xr){return _alignPixel(i,Xr,hr)};let vr,Sr,Ar,Mr,Fr,Tr,Er,Rr,wr,Or,kr,Cr;if(l==="top")vr=mr(this.bottom),Tr=this.bottom-or,Rr=vr-gr,Or=mr(e.top)+gr,Cr=e.bottom;else if(l==="bottom")vr=mr(this.top),Or=e.top,Cr=mr(e.bottom)-gr,Tr=vr+gr,Rr=this.top+or;else if(l==="left")vr=mr(this.right),Fr=this.right-or,Er=vr-gr,wr=mr(e.left)+gr,kr=e.right;else if(l==="right")vr=mr(this.left),wr=e.left,kr=mr(e.right)-gr,Fr=vr+gr,Er=this.left+or;else if(t==="x"){if(l==="center")vr=mr((e.top+e.bottom)/2+.5);else if(isObject(l)){const Xr=Object.keys(l)[0],dn=l[Xr];vr=mr(this.chart.scales[Xr].getPixelForValue(dn))}Or=e.top,Cr=e.bottom,Tr=vr+gr,Rr=Tr+or}else if(t==="y"){if(l==="center")vr=mr((e.left+e.right)/2);else if(isObject(l)){const Xr=Object.keys(l)[0],dn=l[Xr];vr=mr(this.chart.scales[Xr].getPixelForValue(dn))}Fr=vr-gr,Er=Fr-or,wr=e.left,kr=e.right}const gn=valueOrDefault(o.ticks.maxTicksLimit,rr),hn=Math.max(1,Math.ceil(rr/gn));for(Sr=0;Sr<rr;Sr+=hn){const Xr=this.getContext(Sr),dn=s.setContext(Xr),Wr=c.setContext(Xr),Jr=dn.lineWidth,cn=dn.color,Vr=Wr.dash||[],Ur=Wr.dashOffset,mn=dn.tickWidth,Sn=dn.tickColor,Pn=dn.tickBorderDash||[],On=dn.tickBorderDashOffset;Ar=getPixelForGridLine(this,Sr,w),Ar!==void 0&&(Mr=_alignPixel(i,Ar,Jr),er?Fr=Er=wr=kr=Mr:Tr=Rr=Or=Cr=Mr,sr.push({tx1:Fr,ty1:Tr,tx2:Er,ty2:Rr,x1:wr,y1:Or,x2:kr,y2:Cr,width:Jr,color:cn,borderDash:Vr,borderDashOffset:Ur,tickWidth:mn,tickColor:Sn,tickBorderDash:Pn,tickBorderDashOffset:On}))}return this._ticksLength=rr,this._borderValue=vr,sr}_computeLabelItems(e){const t=this.axis,i=this.options,{position:o,ticks:s}=i,l=this.isHorizontal(),c=this.ticks,{align:w,crossAlign:er,padding:nr,mirror:rr}=s,or=getTickMarkLength(i.grid),sr=or+nr,dr=rr?-nr:sr,hr=-toRadians(this.labelRotation),gr=[];let mr,vr,Sr,Ar,Mr,Fr,Tr,Er,Rr,wr,Or,kr,Cr="middle";if(o==="top")Fr=this.bottom-dr,Tr=this._getXAxisLabelAlignment();else if(o==="bottom")Fr=this.top+dr,Tr=this._getXAxisLabelAlignment();else if(o==="left"){const hn=this._getYAxisLabelAlignment(or);Tr=hn.textAlign,Mr=hn.x}else if(o==="right"){const hn=this._getYAxisLabelAlignment(or);Tr=hn.textAlign,Mr=hn.x}else if(t==="x"){if(o==="center")Fr=(e.top+e.bottom)/2+sr;else if(isObject(o)){const hn=Object.keys(o)[0],Xr=o[hn];Fr=this.chart.scales[hn].getPixelForValue(Xr)+sr}Tr=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")Mr=(e.left+e.right)/2-sr;else if(isObject(o)){const hn=Object.keys(o)[0],Xr=o[hn];Mr=this.chart.scales[hn].getPixelForValue(Xr)}Tr=this._getYAxisLabelAlignment(or).textAlign}t==="y"&&(w==="start"?Cr="top":w==="end"&&(Cr="bottom"));const gn=this._getLabelSizes();for(mr=0,vr=c.length;mr<vr;++mr){Sr=c[mr],Ar=Sr.label;const hn=s.setContext(this.getContext(mr));Er=this.getPixelForTick(mr)+s.labelOffset,Rr=this._resolveTickFontOptions(mr),wr=Rr.lineHeight,Or=isArray(Ar)?Ar.length:1;const Xr=Or/2,dn=hn.color,Wr=hn.textStrokeColor,Jr=hn.textStrokeWidth;let cn=Tr;l?(Mr=Er,Tr==="inner"&&(mr===vr-1?cn=this.options.reverse?"left":"right":mr===0?cn=this.options.reverse?"right":"left":cn="center"),o==="top"?er==="near"||hr!==0?kr=-Or*wr+wr/2:er==="center"?kr=-gn.highest.height/2-Xr*wr+wr:kr=-gn.highest.height+wr/2:er==="near"||hr!==0?kr=wr/2:er==="center"?kr=gn.highest.height/2-Xr*wr:kr=gn.highest.height-Or*wr,rr&&(kr*=-1),hr!==0&&!hn.showLabelBackdrop&&(Mr+=wr/2*Math.sin(hr))):(Fr=Er,kr=(1-Or)*wr/2);let Vr;if(hn.showLabelBackdrop){const Ur=toPadding(hn.backdropPadding),mn=gn.heights[mr],Sn=gn.widths[mr];let Pn=kr-Ur.top,On=0-Ur.left;switch(Cr){case"middle":Pn-=mn/2;break;case"bottom":Pn-=mn;break}switch(Tr){case"center":On-=Sn/2;break;case"right":On-=Sn;break;case"inner":mr===vr-1?On-=Sn:mr>0&&(On-=Sn/2);break}Vr={left:On,top:Pn,width:Sn+Ur.width,height:mn+Ur.height,color:hn.backdropColor}}gr.push({label:Ar,font:Rr,textOffset:kr,options:{rotation:hr,color:dn,strokeColor:Wr,strokeWidth:Jr,textAlign:cn,textBaseline:Cr,translation:[Mr,Fr],backdrop:Vr}})}return gr}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,l=this._getLabelSizes(),c=e+s,w=l.widest.width;let er,nr;return t==="left"?o?(nr=this.right+s,i==="near"?er="left":i==="center"?(er="center",nr+=w/2):(er="right",nr+=w)):(nr=this.right-c,i==="near"?er="right":i==="center"?(er="center",nr-=w/2):(er="left",nr=this.left)):t==="right"?o?(nr=this.left+s,i==="near"?er="right":i==="center"?(er="center",nr-=w/2):(er="left",nr-=w)):(nr=this.left+c,i==="near"?er="left":i==="center"?(er="center",nr+=w/2):(er="right",nr=this.right)):er="right",{textAlign:er,x:nr}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:o,width:s,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,s,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(s=>s.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,l;const c=(w,er,nr)=>{!nr.width||!nr.color||(i.save(),i.lineWidth=nr.width,i.strokeStyle=nr.color,i.setLineDash(nr.borderDash||[]),i.lineDashOffset=nr.borderDashOffset,i.beginPath(),i.moveTo(w.x,w.y),i.lineTo(er.x,er.y),i.stroke(),i.restore())};if(t.display)for(s=0,l=o.length;s<l;++s){const w=o[s];t.drawOnChartArea&&c({x:w.x1,y:w.y1},{x:w.x2,y:w.y2},w),t.drawTicks&&c({x:w.tx1,y:w.ty1},{x:w.tx2,y:w.ty2},{color:w.tickColor,width:w.tickWidth,borderDash:w.tickBorderDash,borderDashOffset:w.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),l=i.display?s.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let er,nr,rr,or;this.isHorizontal()?(er=_alignPixel(e,this.left,l)-l/2,nr=_alignPixel(e,this.right,c)+c/2,rr=or=w):(rr=_alignPixel(e,this.top,l)-l/2,or=_alignPixel(e,this.bottom,c)+c/2,er=nr=w),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(er,rr),t.lineTo(nr,or),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&clipArea(i,o);const s=this.getLabelItems(e);for(const l of s){const c=l.options,w=l.font,er=l.label,nr=l.textOffset;renderText(i,er,0,nr,w,c)}o&&unclipArea(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;const s=toFont(i.font),l=toPadding(i.padding),c=i.align;let w=s.lineHeight/2;t==="bottom"||t==="center"||isObject(t)?(w+=l.bottom,isArray(i.text)&&(w+=s.lineHeight*(i.text.length-1))):w+=l.top;const{titleX:er,titleY:nr,maxWidth:rr,rotation:or}=titleArgs(this,w,t,c);renderText(e,i.text,0,0,s,{color:i.color,maxWidth:rr,rotation:or,textAlign:titleAlign(c,t,o),textBaseline:"middle",translation:[er,nr]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=valueOrDefault(e.grid&&e.grid.z,-1),o=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let s,l;for(s=0,l=t.length;s<l;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return toFont(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;isIChartComponent(t)&&(i=this.register(t));const o=this.items,s=e.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in o||(o[s]=e,registerDefaults(e,l,i),this.override&&defaults.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in defaults[o]&&(delete defaults[o][i],this.override&&delete overrides[i])}}function registerDefaults(n,e,t){const i=merge(Object.create(null),[t?defaults.get(t):{},defaults.get(e),n.defaults]);defaults.set(e,i),n.defaultRoutes&&routeDefaults(e,n.defaultRoutes),n.descriptors&&defaults.describe(e,n.descriptors)}function routeDefaults(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),o=i.pop(),s=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),w=l.join(".");defaults.route(s,o,w,c)})}function isIChartComponent(n){return"id"in n&&"defaults"in n}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(o=>{const s=i||this._getRegistryForType(o);i||s.isForType(o)||s===this.plugins&&o.id?this._exec(e,s,o):each(o,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const o=_capitalize(e);callback(i["before"+o],[],i),t[e](i),callback(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,t,i,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,o){o=o||{};for(const s of e){const l=s.plugin,c=l[i],w=[t,o,s.options];if(callback(c,w,l)===!1&&o.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,o=valueOrDefault(i.options&&i.options.plugins,{}),s=allPlugins(i);return o===!1&&!t?[]:createDescriptors(e,s,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,o=(s,l)=>s.filter(c=>!l.some(w=>c.plugin.id===w.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}}function allPlugins(n){const e={},t=[],i=Object.keys(registry.plugins.items);for(let s=0;s<i.length;s++)t.push(registry.getPlugin(i[s]));const o=n.plugins||[];for(let s=0;s<o.length;s++){const l=o[s];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function getOpts(n,e){return!e&&n===!1?null:n===!0?{}:n}function createDescriptors(n,{plugins:e,localIds:t},i,o){const s=[],l=n.getContext();for(const c of e){const w=c.id,er=getOpts(i[w],o);er!==null&&s.push({plugin:c,options:pluginOpts(n.config,{plugin:c,local:t[w]},er,l)})}return s}function pluginOpts(n,{plugin:e,local:t},i,o){const s=n.pluginScopeKeys(e),l=n.getOptionScopes(i,s);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(n,e){const t=defaults.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function getAxisFromDefaultScaleID(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function getDefaultScaleIDFromAxis(n,e){return n===e?"_index_":"_value_"}function idMatchesAxis(n){if(n==="x"||n==="y"||n==="r")return n}function axisFromPosition(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function determineAxis(n,...e){if(idMatchesAxis(n))return n;for(const t of e){const i=t.axis||axisFromPosition(t.position)||n.length>1&&idMatchesAxis(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function retrieveAxisFromDatasets(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return getAxisFromDataset(n,"x",t[0])||getAxisFromDataset(n,"y",t[0])}return{}}function mergeScaleConfig(n,e){const t=overrides[n.type]||{scales:{}},i=e.scales||{},o=getIndexAxis(n.type,e),s=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!isObject(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const w=determineAxis(l,c,retrieveAxisFromDatasets(l,n),defaults.scales[c.type]),er=getDefaultScaleIDFromAxis(w,o),nr=t.scales||{};s[l]=mergeIf(Object.create(null),[{axis:w},c,nr[w],nr[er]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,w=l.indexAxis||getIndexAxis(c,e),nr=(overrides[c]||{}).scales||{};Object.keys(nr).forEach(rr=>{const or=getAxisFromDefaultScaleID(rr,w),sr=l[or+"AxisID"]||or;s[sr]=s[sr]||Object.create(null),mergeIf(s[sr],[{axis:or},i[sr],nr[rr]])})}),Object.keys(s).forEach(l=>{const c=s[l];mergeIf(c,[defaults.scales[c.type],defaults.scale])}),s}function initOptions(n){const e=n.options||(n.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(n,e)}function initData(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function initConfig(n){return n=n||{},n.data=initData(n.data),initOptions(n),n}const keyCache=new Map,keysCached=new Set;function cachedKeys(n,e){let t=keyCache.get(n);return t||(t=e(),keyCache.set(n,t),keysCached.add(t)),t}const addIfFound=(n,e,t)=>{const i=resolveObjectKey(e,t);i!==void 0&&n.add(i)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cachedKeys(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cachedKeys(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return cachedKeys(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let o=i.get(e);return(!o||t)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){const{options:o,type:s}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const w=new Set;t.forEach(nr=>{e&&(w.add(e),nr.forEach(rr=>addIfFound(w,e,rr))),nr.forEach(rr=>addIfFound(w,o,rr)),nr.forEach(rr=>addIfFound(w,overrides[s]||{},rr)),nr.forEach(rr=>addIfFound(w,defaults,rr)),nr.forEach(rr=>addIfFound(w,descriptors,rr))});const er=Array.from(w);return er.length===0&&er.push(Object.create(null)),keysCached.has(t)&&l.set(t,er),er}chartOptionScopes(){const{options:e,type:t}=this;return[e,overrides[t]||{},defaults.datasets[t]||{},{type:t},defaults,descriptors]}resolveNamedOptions(e,t,i,o=[""]){const s={$shared:!0},{resolver:l,subPrefixes:c}=getResolver(this._resolverCache,e,o);let w=l;if(needContext(l,t)){s.$shared=!1,i=isFunction(i)?i():i;const er=this.createResolver(e,i,c);w=_attachContext(l,i,er)}for(const er of t)s[er]=w[er];return s}createResolver(e,t,i=[""],o){const{resolver:s}=getResolver(this._resolverCache,e,i);return isObject(t)?_attachContext(s,t,void 0,o):s}}function getResolver(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const o=t.join();let s=i.get(o);return s||(s={resolver:_createResolver(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(o,s)),s}const hasFunction=n=>isObject(n)&&Object.getOwnPropertyNames(n).some(e=>isFunction(n[e]));function needContext(n,e){const{isScriptable:t,isIndexable:i}=_descriptors(n);for(const o of e){const s=t(o),l=i(o),c=(l||s)&&n[o];if(s&&(isFunction(c)||hasFunction(c))||l&&isArray(c))return!0}return!1}var version="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(n,e){return n==="top"||n==="bottom"||KNOWN_POSITIONS.indexOf(n)===-1&&e==="x"}function compare2Level(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function onAnimationsComplete(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),callback(t&&t.onComplete,[n],e)}function onAnimationProgress(n){const e=n.chart,t=e.options.animation;callback(t&&t.onProgress,[n],e)}function getCanvas(n){return _isDomSupported()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const instances={},getChart=n=>{const e=getCanvas(n);return Object.values(instances).filter(t=>t.canvas===e).pop()};function moveNumericKeys(n,e,t){const i=Object.keys(n);for(const o of i){const s=+o;if(s>=e){const l=n[o];delete n[o],(t>0||s>e)&&(n[s+t]=l)}}}function determineLastEvent(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Ia;let Chart$1=(Ia=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,t){const i=this.config=new Config(t),o=getCanvas(e),s=getChart(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_detectPlatform(o)),this.platform.updateConfig(i);const c=this.platform.acquireContext(o,l.aspectRatio),w=c&&c.canvas,er=w&&w.height,nr=w&&w.width;if(this.id=uid(),this.ctx=c,this.canvas=w,this.width=nr,this.height=er,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(rr=>this.update(rr),l.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!c||!w){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:s}=this;return isNullOrUndef(e)?t&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,t){animator.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),w=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,retinaScale(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),callback(i.onResize,[this,l],this),this.attached&&this._doResize(w)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};each(t,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let s=[];t&&(s=s.concat(Object.keys(t).map(l=>{const c=t[l],w=determineAxis(l,c),er=w==="r",nr=w==="x";return{options:c,dposition:er?"chartArea":nr?"bottom":"left",dtype:er?"radialLinear":nr?"category":"linear"}}))),each(s,l=>{const c=l.options,w=c.id,er=determineAxis(w,c),nr=valueOrDefault(c.type,l.dtype);(c.position===void 0||positionIsHorizontal(c.position,er)!==positionIsHorizontal(l.dposition))&&(c.position=l.dposition),o[w]=!0;let rr=null;if(w in i&&i[w].type===nr)rr=i[w];else{const or=registry.getScale(nr);rr=new or({id:w,type:nr,ctx:this.ctx,chart:this}),i[rr.id]=rr}rr.init(c,e)}),each(o,(l,c)=>{l||delete i[c]}),each(i,l=>{layouts.configure(this,l,l.options),layouts.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>t){for(let o=t;o<i;++o)this._destroyDatasetMeta(o);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,o)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){const s=t[i];let l=this.getDatasetMeta(i);const c=s.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=s.indexAxis||getIndexAxis(c,this.options),l.order=s.order||0,l.index=i,l.label=""+s.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const w=registry.getController(c),{datasetElementType:er,dataElementType:nr}=defaults.datasets[c];Object.assign(w,{dataElementType:registry.getElement(nr),datasetElementType:er&&registry.getElement(er)}),l.controller=new w(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let er=0,nr=this.data.datasets.length;er<nr;er++){const{controller:rr}=this.getDatasetMeta(er),or=!o&&s.indexOf(rr)===-1;rr.buildOrUpdateElements(or),l=Math.max(+rr.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||each(s,er=>{er.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:c,_lastEvent:w}=this;w?this._eventHandler(w,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!setsEqual(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of t){const l=i==="_removeElements"?-s:s;moveNumericKeys(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(l=>l[0]===s).map((l,c)=>c+","+l.splice(1).join(","))),o=i(0);for(let s=1;s<t;s++)if(!setsEqual(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],each(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,isFunction(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let o,s;for(o=0,s=t.length;o<s;++o){const l=t[o];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&clipArea(t,o),e.controller.draw(),o&&unclipArea(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){const s=Interaction.modes[t];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let o=i.filter(s=>s&&s._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),l=s.controller._resolveAnimations(void 0,o);defined(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),animator.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,l)=>{t.addEventListener(this,s,l),e[s]=l},o=(s,l,c)=>{s.offsetX=l,s.offsetY=c,this._eventHandler(s)};each(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(w,er)=>{t.addEventListener(this,w,er),e[w]=er},o=(w,er)=>{e[w]&&(t.removeEventListener(this,w,er),delete e[w])},s=(w,er)=>{this.canvas&&this.resize(w,er)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",l)};l=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){each(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},each(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const o=i?"set":"remove";let s,l,c,w;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,w=e.length;c<w;++c){l=e[c];const er=l&&this.getDatasetMeta(l.datasetIndex).controller;er&&er[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:l})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[l],index:l}});!_elementsEqual(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const o=this.options.hover,s=(w,er)=>w.filter(nr=>!er.some(rr=>nr.datasetIndex===rr.datasetIndex&&nr.index===rr.index)),l=s(t,e),c=i?e:s(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:o=[],options:s}=this,l=t,c=this._getActiveElements(e,o,i,l),w=_isClickEvent(e),er=determineLastEvent(e,this._lastEvent,i,w);i&&(this._lastEvent=null,callback(s.onHover,[e,c,this],this),w&&callback(s.onClick,[e,c,this],this));const nr=!_elementsEqual(c,o);return(nr||t)&&(this._active=c,this._updateHoverStyles(c,o,t)),this._lastEvent=er,nr}_getActiveElements(e,t,i,o){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}},ln(Ia,"defaults",defaults),ln(Ia,"instances",instances),ln(Ia,"overrides",overrides),ln(Ia,"registry",registry),ln(Ia,"version",version),ln(Ia,"getChart",getChart),Ia);function invalidatePlugins(){return each(Chart$1.instances,n=>n._plugins.invalidate())}function clipArc(n,e,t){const{startAngle:i,pixelMargin:o,x:s,y:l,outerRadius:c,innerRadius:w}=e;let er=o/c;n.beginPath(),n.arc(s,l,c,i-er,t+er),w>o?(er=o/w,n.arc(s,l,w,t+er,i-er,!0)):n.arc(s,l,o,t+HALF_PI,i-HALF_PI),n.closePath(),n.clip()}function toRadiusCorners(n){return _readValueToProps(n,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(n,e,t,i){const o=toRadiusCorners(n.options.borderRadius),s=(t-e)/2,l=Math.min(s,i*e/2),c=w=>{const er=(t-Math.min(s,w))*i/2;return _limitValue(w,0,Math.min(s,er))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:_limitValue(o.innerStart,0,l),innerEnd:_limitValue(o.innerEnd,0,l)}}function rThetaToXY(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function pathArc(n,e,t,i,o,s){const{x:l,y:c,startAngle:w,pixelMargin:er,innerRadius:nr}=e,rr=Math.max(e.outerRadius+i+t-er,0),or=nr>0?nr+i+t+er:0;let sr=0;const dr=o-w;if(i){const hn=nr>0?nr-i:0,Xr=rr>0?rr-i:0,dn=(hn+Xr)/2,Wr=dn!==0?dr*dn/(dn+i):dr;sr=(dr-Wr)/2}const hr=Math.max(.001,dr*rr-t/PI)/rr,gr=(dr-hr)/2,mr=w+gr+sr,vr=o-gr-sr,{outerStart:Sr,outerEnd:Ar,innerStart:Mr,innerEnd:Fr}=parseBorderRadius$1(e,or,rr,vr-mr),Tr=rr-Sr,Er=rr-Ar,Rr=mr+Sr/Tr,wr=vr-Ar/Er,Or=or+Mr,kr=or+Fr,Cr=mr+Mr/Or,gn=vr-Fr/kr;if(n.beginPath(),s){const hn=(Rr+wr)/2;if(n.arc(l,c,rr,Rr,hn),n.arc(l,c,rr,hn,wr),Ar>0){const Jr=rThetaToXY(Er,wr,l,c);n.arc(Jr.x,Jr.y,Ar,wr,vr+HALF_PI)}const Xr=rThetaToXY(kr,vr,l,c);if(n.lineTo(Xr.x,Xr.y),Fr>0){const Jr=rThetaToXY(kr,gn,l,c);n.arc(Jr.x,Jr.y,Fr,vr+HALF_PI,gn+Math.PI)}const dn=(vr-Fr/or+(mr+Mr/or))/2;if(n.arc(l,c,or,vr-Fr/or,dn,!0),n.arc(l,c,or,dn,mr+Mr/or,!0),Mr>0){const Jr=rThetaToXY(Or,Cr,l,c);n.arc(Jr.x,Jr.y,Mr,Cr+Math.PI,mr-HALF_PI)}const Wr=rThetaToXY(Tr,mr,l,c);if(n.lineTo(Wr.x,Wr.y),Sr>0){const Jr=rThetaToXY(Tr,Rr,l,c);n.arc(Jr.x,Jr.y,Sr,mr-HALF_PI,Rr)}}else{n.moveTo(l,c);const hn=Math.cos(Rr)*rr+l,Xr=Math.sin(Rr)*rr+c;n.lineTo(hn,Xr);const dn=Math.cos(wr)*rr+l,Wr=Math.sin(wr)*rr+c;n.lineTo(dn,Wr)}n.closePath()}function drawArc(n,e,t,i,o){const{fullCircles:s,startAngle:l,circumference:c}=e;let w=e.endAngle;if(s){pathArc(n,e,t,i,w,o);for(let er=0;er<s;++er)n.fill();isNaN(c)||(w=l+(c%TAU||TAU))}return pathArc(n,e,t,i,w,o),n.fill(),w}function drawBorder(n,e,t,i,o){const{fullCircles:s,startAngle:l,circumference:c,options:w}=e,{borderWidth:er,borderJoinStyle:nr,borderDash:rr,borderDashOffset:or}=w,sr=w.borderAlign==="inner";if(!er)return;n.setLineDash(rr||[]),n.lineDashOffset=or,sr?(n.lineWidth=er*2,n.lineJoin=nr||"round"):(n.lineWidth=er,n.lineJoin=nr||"bevel");let dr=e.endAngle;if(s){pathArc(n,e,t,i,dr,o);for(let hr=0;hr<s;++hr)n.stroke();isNaN(c)||(dr=l+(c%TAU||TAU))}sr&&clipArc(n,e,dr),s||(pathArc(n,e,t,i,dr,o),n.stroke())}class ArcElement extends Element{constructor(t){super();ln(this,"circumference");ln(this,"endAngle");ln(this,"fullCircles");ln(this,"innerRadius");ln(this,"outerRadius");ln(this,"pixelMargin");ln(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,o){const s=this.getProps(["x","y"],o),{angle:l,distance:c}=getAngleFromPoint(s,{x:t,y:i}),{startAngle:w,endAngle:er,innerRadius:nr,outerRadius:rr,circumference:or}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),sr=(this.options.spacing+this.options.borderWidth)/2,dr=valueOrDefault(or,er-w),hr=_angleBetween(l,w,er)&&w!==er,gr=dr>=TAU||hr,mr=_isBetween(c,nr+sr,rr+sr);return gr&&mr}getCenterPoint(t){const{x:i,y:o,startAngle:s,endAngle:l,innerRadius:c,outerRadius:w}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:er,spacing:nr}=this.options,rr=(s+l)/2,or=(c+w+nr+er)/2;return{x:i+Math.cos(rr)*or,y:o+Math.sin(rr)*or}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:o}=this,s=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const w=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(w)*s,Math.sin(w)*s);const er=1-Math.sin(Math.min(PI,o||0)),nr=s*er;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,drawArc(t,this,nr,l,c),drawBorder(t,this,nr,l,c),t.restore()}}ln(ArcElement,"id","arc"),ln(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ln(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),ln(ArcElement,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function setStyle(n,e,t=e){n.lineCap=valueOrDefault(t.borderCapStyle,e.borderCapStyle),n.setLineDash(valueOrDefault(t.borderDash,e.borderDash)),n.lineDashOffset=valueOrDefault(t.borderDashOffset,e.borderDashOffset),n.lineJoin=valueOrDefault(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=valueOrDefault(t.borderWidth,e.borderWidth),n.strokeStyle=valueOrDefault(t.borderColor,e.borderColor)}function lineTo(n,e,t){n.lineTo(t.x,t.y)}function getLineMethod(n){return n.stepped?_steppedLineTo:n.tension||n.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(n,e,t={}){const i=n.length,{start:o=0,end:s=i-1}=t,{start:l,end:c}=e,w=Math.max(o,l),er=Math.min(s,c),nr=o<l&&s<l||o>c&&s>c;return{count:i,start:w,loop:e.loop,ilen:er<w&&!nr?i+er-w:er-w}}function pathSegment(n,e,t,i){const{points:o,options:s}=e,{count:l,start:c,loop:w,ilen:er}=pathVars(o,t,i),nr=getLineMethod(s);let{move:rr=!0,reverse:or}=i||{},sr,dr,hr;for(sr=0;sr<=er;++sr)dr=o[(c+(or?er-sr:sr))%l],!dr.skip&&(rr?(n.moveTo(dr.x,dr.y),rr=!1):nr(n,hr,dr,or,s.stepped),hr=dr);return w&&(dr=o[(c+(or?er:0))%l],nr(n,hr,dr,or,s.stepped)),!!w}function fastPathSegment(n,e,t,i){const o=e.points,{count:s,start:l,ilen:c}=pathVars(o,t,i),{move:w=!0,reverse:er}=i||{};let nr=0,rr=0,or,sr,dr,hr,gr,mr;const vr=Ar=>(l+(er?c-Ar:Ar))%s,Sr=()=>{hr!==gr&&(n.lineTo(nr,gr),n.lineTo(nr,hr),n.lineTo(nr,mr))};for(w&&(sr=o[vr(0)],n.moveTo(sr.x,sr.y)),or=0;or<=c;++or){if(sr=o[vr(or)],sr.skip)continue;const Ar=sr.x,Mr=sr.y,Fr=Ar|0;Fr===dr?(Mr<hr?hr=Mr:Mr>gr&&(gr=Mr),nr=(rr*nr+Ar)/++rr):(Sr(),n.lineTo(Ar,Mr),dr=Fr,rr=0,hr=gr=Mr),mr=Mr}Sr()}function _getSegmentMethod(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?fastPathSegment:pathSegment}function _getInterpolationMethod(n){return n.stepped?_steppedInterpolation:n.tension||n.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(n,e,t,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,i)&&o.closePath()),setStyle(n,e.options),n.stroke(o)}function strokePathDirect(n,e,t,i){const{segments:o,options:s}=e,l=_getSegmentMethod(e);for(const c of o)setStyle(n,s,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const usePath2D=typeof Path2D=="function";function draw(n,e,t,i){usePath2D&&!e.options.segment?strokePathWithCache(n,e,t,i):strokePathDirect(n,e,t,i)}class LineElement extends Element{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,i,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,o=e[t],s=this.points,l=_boundSegments(this,{property:t,start:o,end:o});if(!l.length)return;const c=[],w=_getInterpolationMethod(i);let er,nr;for(er=0,nr=l.length;er<nr;++er){const{start:rr,end:or}=l[er],sr=s[rr],dr=s[or];if(sr===dr){c.push(sr);continue}const hr=Math.abs((o-sr[t])/(dr[t]-sr[t])),gr=w(sr,dr,hr,i.stepped);gr[t]=e[t],c.push(gr)}return c.length===1?c[0]:c}pathSegment(e,t,i){return _getSegmentMethod(this)(e,this,t,i)}path(e,t,i){const o=this.segments,s=_getSegmentMethod(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const c of o)l&=s(e,this,c,{start:t,end:t+i-1});return!!l}draw(e,t,i,o){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),draw(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ln(LineElement,"id","line"),ln(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ln(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ln(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(n,e,t,i){const o=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<o.radius+o.hitRadius}class PointElement extends Element{constructor(t){super();ln(this,"parsed");ln(this,"skip");ln(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,o){const s=this.options,{x:l,y:c}=this.getProps(["x","y"],o);return Math.pow(t-l,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return inRange$1(this,t,"x",i)}inYRange(t,i){return inRange$1(this,t,"y",i)}getCenterPoint(t){const{x:i,y:o}=this.getProps(["x","y"],t);return{x:i,y:o}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const o=i&&t.borderWidth||0;return(i+o)*2}draw(t,i){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,i,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,drawPoint(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ln(PointElement,"id","point"),ln(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ln(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(n,e){const{x:t,y:i,base:o,width:s,height:l}=n.getProps(["x","y","base","width","height"],e);let c,w,er,nr,rr;return n.horizontal?(rr=l/2,c=Math.min(t,o),w=Math.max(t,o),er=i-rr,nr=i+rr):(rr=s/2,c=t-rr,w=t+rr,er=Math.min(i,o),nr=Math.max(i,o)),{left:c,top:er,right:w,bottom:nr}}function skipOrLimit(n,e,t,i){return n?0:_limitValue(e,t,i)}function parseBorderWidth(n,e,t){const i=n.options.borderWidth,o=n.borderSkipped,s=toTRBL(i);return{t:skipOrLimit(o.top,s.top,0,t),r:skipOrLimit(o.right,s.right,0,e),b:skipOrLimit(o.bottom,s.bottom,0,t),l:skipOrLimit(o.left,s.left,0,e)}}function parseBorderRadius(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,s=toTRBLCorners(o),l=Math.min(e,t),c=n.borderSkipped,w=i||isObject(o);return{topLeft:skipOrLimit(!w||c.top||c.left,s.topLeft,0,l),topRight:skipOrLimit(!w||c.top||c.right,s.topRight,0,l),bottomLeft:skipOrLimit(!w||c.bottom||c.left,s.bottomLeft,0,l),bottomRight:skipOrLimit(!w||c.bottom||c.right,s.bottomRight,0,l)}}function boundingRects(n){const e=getBarBounds(n),t=e.right-e.left,i=e.bottom-e.top,o=parseBorderWidth(n,t/2,i/2),s=parseBorderRadius(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,s.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(o.b,o.r))}}}}function inRange(n,e,t,i){const o=e===null,s=t===null,c=n&&!(o&&s)&&getBarBounds(n,i);return c&&(o||_isBetween(e,c.left,c.right))&&(s||_isBetween(t,c.top,c.bottom))}function hasRadius(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function addNormalRectPath(n,e){n.rect(e.x,e.y,e.w,e.h)}function inflateRect(n,e,t={}){const i=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+s,h:n.h+l,radius:n.radius}}class BarElement extends Element{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:o}}=this,{inner:s,outer:l}=boundingRects(this),c=hasRadius(l.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(l.w!==s.w||l.h!==s.h)&&(e.beginPath(),c(e,inflateRect(l,t,s)),e.clip(),c(e,inflateRect(s,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,inflateRect(s,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,i){return inRange(this,e,t,i)}inXRange(e,t){return inRange(this,e,null,t)}inYRange(e,t){return inRange(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:o,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+o)/2:t,y:s?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ln(BarElement,"id","bar"),ln(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ln(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,BarElement,LineElement,PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(n){return BORDER_COLORS[n%BORDER_COLORS.length]}function getBackgroundColor(n){return BACKGROUND_COLORS[n%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(n,e){return n.borderColor=getBorderColor(e),n.backgroundColor=getBackgroundColor(e),++e}function colorizeDoughnutDataset(n,e){return n.backgroundColor=n.data.map(()=>getBorderColor(e++)),e}function colorizePolarAreaDataset(n,e){return n.backgroundColor=n.data.map(()=>getBackgroundColor(e++)),e}function getColorizer(n){let e=0;return(t,i)=>{const o=n.getDatasetMeta(i).controller;o instanceof DoughnutController?e=colorizeDoughnutDataset(t,e):o instanceof PolarAreaController?e=colorizePolarAreaDataset(t,e):o&&(e=colorizeDefaultDataset(t,e))}}function containsColorsDefinitions(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function containsColorsDefinition(n){return n&&(n.borderColor||n.backgroundColor)}function containsDefaultColorsDefenitions(){return defaults.borderColor!=="rgba(0,0,0,0.1)"||defaults.backgroundColor!=="rgba(0,0,0,0.1)"}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:o}=n.config,{elements:s}=o,l=containsColorsDefinitions(i)||containsColorsDefinition(o)||s&&containsColorsDefinitions(s)||containsDefaultColorsDefenitions();if(!t.forceOverride&&l)return;const c=getColorizer(n);i.forEach(c)}};function lttbDecimation(n,e,t,i,o){const s=o.samples||i;if(s>=t)return n.slice(e,e+t);const l=[],c=(t-2)/(s-2);let w=0;const er=e+t-1;let nr=e,rr,or,sr,dr,hr;for(l[w++]=n[nr],rr=0;rr<s-2;rr++){let gr=0,mr=0,vr;const Sr=Math.floor((rr+1)*c)+1+e,Ar=Math.min(Math.floor((rr+2)*c)+1,t)+e,Mr=Ar-Sr;for(vr=Sr;vr<Ar;vr++)gr+=n[vr].x,mr+=n[vr].y;gr/=Mr,mr/=Mr;const Fr=Math.floor(rr*c)+1+e,Tr=Math.min(Math.floor((rr+1)*c)+1,t)+e,{x:Er,y:Rr}=n[nr];for(sr=dr=-1,vr=Fr;vr<Tr;vr++)dr=.5*Math.abs((Er-gr)*(n[vr].y-Rr)-(Er-n[vr].x)*(mr-Rr)),dr>sr&&(sr=dr,or=n[vr],hr=vr);l[w++]=or,nr=hr}return l[w++]=n[er],l}function minMaxDecimation(n,e,t,i){let o=0,s=0,l,c,w,er,nr,rr,or,sr,dr,hr;const gr=[],mr=e+t-1,vr=n[e].x,Ar=n[mr].x-vr;for(l=e;l<e+t;++l){c=n[l],w=(c.x-vr)/Ar*i,er=c.y;const Mr=w|0;if(Mr===nr)er<dr?(dr=er,rr=l):er>hr&&(hr=er,or=l),o=(s*o+c.x)/++s;else{const Fr=l-1;if(!isNullOrUndef(rr)&&!isNullOrUndef(or)){const Tr=Math.min(rr,or),Er=Math.max(rr,or);Tr!==sr&&Tr!==Fr&&gr.push({...n[Tr],x:o}),Er!==sr&&Er!==Fr&&gr.push({...n[Er],x:o})}l>0&&Fr!==sr&&gr.push(n[Fr]),gr.push(c),nr=Mr,s=0,dr=hr=er,rr=or=sr=l}}return gr}function cleanDecimatedDataset(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function cleanDecimatedData(n){n.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(n,e){const t=e.length;let i=0,o;const{iScale:s}=n,{min:l,max:c,minDefined:w,maxDefined:er}=s.getUserBounds();return w&&(i=_limitValue(_lookupByKey(e,s.axis,l).lo,0,t-1)),er?o=_limitValue(_lookupByKey(e,s.axis,c).hi+1,i,t)-i:o=t-i,{start:i,count:o}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){cleanDecimatedData(n);return}const i=n.width;n.data.datasets.forEach((o,s)=>{const{_data:l,indexAxis:c}=o,w=n.getDatasetMeta(s),er=l||o.data;if(resolve([c,n.options.indexAxis])==="y"||!w.controller.supportsDecimation)return;const nr=n.scales[w.xAxisID];if(nr.type!=="linear"&&nr.type!=="time"||n.options.parsing)return;let{start:rr,count:or}=getStartAndCountOfVisiblePointsSimplified(w,er);const sr=t.threshold||4*i;if(or<=sr){cleanDecimatedDataset(o);return}isNullOrUndef(l)&&(o._data=er,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(hr){this._data=hr}}));let dr;switch(t.algorithm){case"lttb":dr=lttbDecimation(er,rr,or,i,t);break;case"min-max":dr=minMaxDecimation(er,rr,or,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=dr})},destroy(n){cleanDecimatedData(n)}};function _segments(n,e,t){const i=n.segments,o=n.points,s=e.points,l=[];for(const c of i){let{start:w,end:er}=c;er=_findSegmentEnd(w,er,o);const nr=_getBounds(t,o[w],o[er],c.loop);if(!e.segments){l.push({source:c,target:nr,start:o[w],end:o[er]});continue}const rr=_boundSegments(e,nr);for(const or of rr){const sr=_getBounds(t,s[or.start],s[or.end],or.loop),dr=_boundSegment(c,o,sr);for(const hr of dr)l.push({source:hr,target:or,start:{[t]:_getEdge(nr,sr,"start",Math.max)},end:{[t]:_getEdge(nr,sr,"end",Math.min)}})}}return l}function _getBounds(n,e,t,i){if(i)return;let o=e[n],s=t[n];return n==="angle"&&(o=_normalizeAngle(o),s=_normalizeAngle(s)),{property:n,start:o,end:s}}function _pointsFromSegments(n,e){const{x:t=null,y:i=null}=n||{},o=e.points,s=[];return e.segments.forEach(({start:l,end:c})=>{c=_findSegmentEnd(l,c,o);const w=o[l],er=o[c];i!==null?(s.push({x:w.x,y:i}),s.push({x:er.x,y:i})):t!==null&&(s.push({x:t,y:w.y}),s.push({x:t,y:er.y}))}),s}function _findSegmentEnd(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function _getEdge(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function _createBoundaryLine(n,e){let t=[],i=!1;return isArray(n)?(i=!0,t=n):t=_pointsFromSegments(n,e),t.length?new LineElement({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function _shouldApplyFill(n){return n&&n.fill!==!1}function _resolveTarget(n,e,t){let o=n[e].fill;const s=[e];let l;if(!t)return o;for(;o!==!1&&s.indexOf(o)===-1;){if(!isNumberFinite(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;s.push(o),o=l.fill}return!1}function _decodeFill(n,e,t){const i=parseFillOption(n);if(isObject(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return isNumberFinite(o)&&Math.floor(o)===o?decodeTargetIndex(i[0],e,o,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function decodeTargetIndex(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function _getTargetPixel(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:isObject(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function _getTargetValue(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:isObject(n)?i=n.value:i=e.getBaseValue(),i}function parseFillOption(n){const e=n.options,t=e.fill;let i=valueOrDefault(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function _buildStackLine(n){const{scale:e,index:t,line:i}=n,o=[],s=i.segments,l=i.points,c=getLinesBelow(e,t);c.push(_createBoundaryLine({x:null,y:e.bottom},i));for(let w=0;w<s.length;w++){const er=s[w];for(let nr=er.start;nr<=er.end;nr++)addPointsBelow(o,l[nr],c)}return new LineElement({points:o,options:{}})}function getLinesBelow(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const s=i[o];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function addPointsBelow(n,e,t){const i=[];for(let o=0;o<t.length;o++){const s=t[o],{first:l,last:c,point:w}=findPoint(s,e,"x");if(!(!w||l&&c)){if(l)i.unshift(w);else if(n.push(w),!c)break}}n.push(...i)}function findPoint(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const o=i[t],s=n.segments,l=n.points;let c=!1,w=!1;for(let er=0;er<s.length;er++){const nr=s[er],rr=l[nr.start][t],or=l[nr.end][t];if(_isBetween(o,rr,or)){c=o===rr,w=o===or;break}}return{first:c,last:w,point:i}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:o,y:s,radius:l}=this;return t=t||{start:0,end:TAU},e.arc(o,s,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:o}=this,s=e.angle;return{x:t+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}}function _getTarget(n){const{chart:e,fill:t,line:i}=n;if(isNumberFinite(t))return getLineByIndex(e,t);if(t==="stack")return _buildStackLine(n);if(t==="shape")return!0;const o=computeBoundary(n);return o instanceof simpleArc?o:_createBoundaryLine(o,i)}function getLineByIndex(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function computeBoundary(n){return(n.scale||{}).getPointPositionForValue?computeCircularBoundary(n):computeLinearBoundary(n)}function computeLinearBoundary(n){const{scale:e={},fill:t}=n,i=_getTargetPixel(t,e);if(isNumberFinite(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function computeCircularBoundary(n){const{scale:e,fill:t}=n,i=e.options,o=e.getLabels().length,s=i.reverse?e.max:e.min,l=_getTargetValue(t,e,s),c=[];if(i.grid.circular){const w=e.getPointPositionForValue(0,s);return new simpleArc({x:w.x,y:w.y,radius:e.getDistanceFromCenterForValue(l)})}for(let w=0;w<o;++w)c.push(e.getPointPositionForValue(w,l));return c}function _drawfill(n,e,t){const i=_getTarget(e),{chart:o,index:s,line:l,scale:c,axis:w}=e,er=l.options,nr=er.fill,rr=er.backgroundColor,{above:or=rr,below:sr=rr}=nr||{},dr=o.getDatasetMeta(s),hr=getDatasetClipArea(o,dr);i&&l.points.length&&(clipArea(n,t),doFill(n,{line:l,target:i,above:or,below:sr,area:t,scale:c,axis:w,clip:hr}),unclipArea(n))}function doFill(n,e){const{line:t,target:i,above:o,below:s,area:l,scale:c,clip:w}=e,er=t._loop?"angle":e.axis;n.save(),er==="x"&&s!==o&&(clipVertical(n,i,l.top),fill(n,{line:t,target:i,color:o,scale:c,property:er,clip:w}),n.restore(),n.save(),clipVertical(n,i,l.bottom)),fill(n,{line:t,target:i,color:s,scale:c,property:er,clip:w}),n.restore()}function clipVertical(n,e,t){const{segments:i,points:o}=e;let s=!0,l=!1;n.beginPath();for(const c of i){const{start:w,end:er}=c,nr=o[w],rr=o[_findSegmentEnd(w,er,o)];s?(n.moveTo(nr.x,nr.y),s=!1):(n.lineTo(nr.x,t),n.lineTo(nr.x,nr.y)),l=!!e.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(rr.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function fill(n,e){const{line:t,target:i,property:o,color:s,scale:l,clip:c}=e,w=_segments(t,i,o);for(const{source:er,target:nr,start:rr,end:or}of w){const{style:{backgroundColor:sr=s}={}}=er,dr=i!==!0;n.save(),n.fillStyle=sr,clipBounds(n,l,c,dr&&_getBounds(o,rr,or)),n.beginPath();const hr=!!t.pathSegment(n,er);let gr;if(dr){hr?n.closePath():interpolatedLineTo(n,i,or,o);const mr=!!i.pathSegment(n,nr,{move:hr,reverse:!0});gr=hr&&mr,gr||interpolatedLineTo(n,i,rr,o)}n.closePath(),n.fill(gr?"evenodd":"nonzero"),n.restore()}}function clipBounds(n,e,t,i){const o=e.chart.chartArea,{property:s,start:l,end:c}=i||{};if(s==="x"||s==="y"){let w,er,nr,rr;s==="x"?(w=l,er=o.top,nr=c,rr=o.bottom):(w=o.left,er=l,nr=o.right,rr=c),n.beginPath(),t&&(w=Math.max(w,t.left),nr=Math.min(nr,t.right),er=Math.max(er,t.top),rr=Math.min(rr,t.bottom)),n.rect(w,er,nr-w,rr-er),n.clip()}}function interpolatedLineTo(n,e,t,i){const o=e.interpolate(t,i);o&&n.lineTo(o.x,o.y)}var index={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,o=[];let s,l,c,w;for(l=0;l<i;++l)s=n.getDatasetMeta(l),c=s.dataset,w=null,c&&c.options&&c instanceof LineElement&&(w={visible:n.isDatasetVisible(l),index:l,fill:_decodeFill(c,l,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=w,o.push(w);for(l=0;l<i;++l)w=o[l],!(!w||w.fill===!1)&&(w.fill=_resolveTarget(o,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&_drawfill(n.ctx,c,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const s=i[o].$filler;_shouldApplyFill(s)&&_drawfill(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!_shouldApplyFill(i)||t.drawTime!=="beforeDatasetDraw"||_drawfill(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},itemsEqual=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Legend extends Element{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=toFont(i.font),s=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:w}=getBoxSize(i,s);let er,nr;t.font=o.string,this.isHorizontal()?(er=this.maxWidth,nr=this._fitRows(l,s,c,w)+10):(nr=this.maxHeight,er=this._fitCols(l,o,c,w)+10),this.width=Math.min(er,e.maxWidth||this.maxWidth),this.height=Math.min(nr,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){const{ctx:s,maxWidth:l,options:{labels:{padding:c}}}=this,w=this.legendHitBoxes=[],er=this.lineWidths=[0],nr=o+c;let rr=e;s.textAlign="left",s.textBaseline="middle";let or=-1,sr=-nr;return this.legendItems.forEach((dr,hr)=>{const gr=i+t/2+s.measureText(dr.text).width;(hr===0||er[er.length-1]+gr+2*c>l)&&(rr+=nr,er[er.length-(hr>0?0:1)]=0,sr+=nr,or++),w[hr]={left:0,top:sr,row:or,width:gr,height:o},er[er.length-1]+=gr+c}),rr}_fitCols(e,t,i,o){const{ctx:s,maxHeight:l,options:{labels:{padding:c}}}=this,w=this.legendHitBoxes=[],er=this.columnSizes=[],nr=l-e;let rr=c,or=0,sr=0,dr=0,hr=0;return this.legendItems.forEach((gr,mr)=>{const{itemWidth:vr,itemHeight:Sr}=calculateItemSize(i,t,s,gr,o);mr>0&&sr+Sr+2*c>nr&&(rr+=or+c,er.push({width:or,height:sr}),dr+=or+c,hr++,or=sr=0),w[mr]={left:dr,top:sr,col:hr,width:vr,height:Sr},or=Math.max(or,vr),sr+=Sr+c}),rr+=or,er.push({width:or,height:sr}),rr}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:s}}=this,l=getRtlAdapter(s,this.left,this.width);if(this.isHorizontal()){let c=0,w=_alignStartEnd(i,this.left+o,this.right-this.lineWidths[c]);for(const er of t)c!==er.row&&(c=er.row,w=_alignStartEnd(i,this.left+o,this.right-this.lineWidths[c])),er.top+=this.top+e+o,er.left=l.leftForLtr(l.x(w),er.width),w+=er.width+o}else{let c=0,w=_alignStartEnd(i,this.top+e+o,this.bottom-this.columnSizes[c].height);for(const er of t)er.col!==c&&(c=er.col,w=_alignStartEnd(i,this.top+e+o,this.bottom-this.columnSizes[c].height)),er.top=w,er.left+=this.left+o,er.left=l.leftForLtr(l.x(er.left),er.width),w+=er.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:s,labels:l}=e,c=defaults.color,w=getRtlAdapter(e.rtl,this.left,this.width),er=toFont(l.font),{padding:nr}=l,rr=er.size,or=rr/2;let sr;this.drawTitle(),o.textAlign=w.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=er.string;const{boxWidth:dr,boxHeight:hr,itemHeight:gr}=getBoxSize(l,rr),mr=function(Fr,Tr,Er){if(isNaN(dr)||dr<=0||isNaN(hr)||hr<0)return;o.save();const Rr=valueOrDefault(Er.lineWidth,1);if(o.fillStyle=valueOrDefault(Er.fillStyle,c),o.lineCap=valueOrDefault(Er.lineCap,"butt"),o.lineDashOffset=valueOrDefault(Er.lineDashOffset,0),o.lineJoin=valueOrDefault(Er.lineJoin,"miter"),o.lineWidth=Rr,o.strokeStyle=valueOrDefault(Er.strokeStyle,c),o.setLineDash(valueOrDefault(Er.lineDash,[])),l.usePointStyle){const wr={radius:hr*Math.SQRT2/2,pointStyle:Er.pointStyle,rotation:Er.rotation,borderWidth:Rr},Or=w.xPlus(Fr,dr/2),kr=Tr+or;drawPointLegend(o,wr,Or,kr,l.pointStyleWidth&&dr)}else{const wr=Tr+Math.max((rr-hr)/2,0),Or=w.leftForLtr(Fr,dr),kr=toTRBLCorners(Er.borderRadius);o.beginPath(),Object.values(kr).some(Cr=>Cr!==0)?addRoundedRectPath(o,{x:Or,y:wr,w:dr,h:hr,radius:kr}):o.rect(Or,wr,dr,hr),o.fill(),Rr!==0&&o.stroke()}o.restore()},vr=function(Fr,Tr,Er){renderText(o,Er.text,Fr,Tr+gr/2,er,{strikethrough:Er.hidden,textAlign:w.textAlign(Er.textAlign)})},Sr=this.isHorizontal(),Ar=this._computeTitleHeight();Sr?sr={x:_alignStartEnd(s,this.left+nr,this.right-i[0]),y:this.top+nr+Ar,line:0}:sr={x:this.left+nr,y:_alignStartEnd(s,this.top+Ar+nr,this.bottom-t[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Mr=gr+nr;this.legendItems.forEach((Fr,Tr)=>{o.strokeStyle=Fr.fontColor,o.fillStyle=Fr.fontColor;const Er=o.measureText(Fr.text).width,Rr=w.textAlign(Fr.textAlign||(Fr.textAlign=l.textAlign)),wr=dr+or+Er;let Or=sr.x,kr=sr.y;w.setWidth(this.width),Sr?Tr>0&&Or+wr+nr>this.right&&(kr=sr.y+=Mr,sr.line++,Or=sr.x=_alignStartEnd(s,this.left+nr,this.right-i[sr.line])):Tr>0&&kr+Mr>this.bottom&&(Or=sr.x=Or+t[sr.line].width+nr,sr.line++,kr=sr.y=_alignStartEnd(s,this.top+Ar+nr,this.bottom-t[sr.line].height));const Cr=w.x(Or);if(mr(Cr,kr,Fr),Or=_textX(Rr,Or+dr+or,Sr?Or+wr:this.right,e.rtl),vr(w.x(Or),kr,Fr),Sr)sr.x+=wr+nr;else if(typeof Fr.text!="string"){const gn=er.lineHeight;sr.y+=calculateLegendItemHeight(Fr,gn)+nr}else sr.y+=Mr}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=toFont(t.font),o=toPadding(t.padding);if(!t.display)return;const s=getRtlAdapter(e.rtl,this.left,this.width),l=this.ctx,c=t.position,w=i.size/2,er=o.top+w;let nr,rr=this.left,or=this.width;if(this.isHorizontal())or=Math.max(...this.lineWidths),nr=this.top+er,rr=_alignStartEnd(e.align,rr,this.right-or);else{const dr=this.columnSizes.reduce((hr,gr)=>Math.max(hr,gr.height),0);nr=er+_alignStartEnd(e.align,this.top,this.bottom-dr-e.labels.padding-this._computeTitleHeight())}const sr=_alignStartEnd(c,rr,rr+or);l.textAlign=s.textAlign(_toLeftRightCenter(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,renderText(l,t.text,sr,nr,i)}_computeTitleHeight(){const e=this.options.title,t=toFont(e.font),i=toPadding(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,s;if(_isBetween(e,this.left,this.right)&&_isBetween(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],_isBetween(e,o.left,o.left+o.width)&&_isBetween(t,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!isListened(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,s=itemsEqual(o,i);o&&!s&&callback(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!s&&callback(t.onHover,[e,i,this],this)}else i&&callback(t.onClick,[e,i,this],this)}}function calculateItemSize(n,e,t,i,o){const s=calculateItemWidth(i,n,e,t),l=calculateItemHeight(o,i,e.lineHeight);return{itemWidth:s,itemHeight:l}}function calculateItemWidth(n,e,t,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((s,l)=>s.length>l.length?s:l)),e+t.size/2+i.measureText(o).width}function calculateItemHeight(n,e,t){let i=n;return typeof e.text!="string"&&(i=calculateLegendItemHeight(e,t)),i}function calculateLegendItemHeight(n,e){const t=n.text?n.text.length:0;return e*t}function isListened(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(n,e,t){const i=n.legend=new Legend({ctx:n.ctx,options:t,chart:n});layouts.configure(n,i,t),layouts.addBox(n,i)},stop(n){layouts.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;layouts.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:o,color:s,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(w=>{const er=w.controller.getStyle(t?0:void 0),nr=toPadding(er.borderWidth);return{text:e[w.index].label,fillStyle:er.backgroundColor,fontColor:s,hidden:!w.visible,lineCap:er.borderCapStyle,lineDash:er.borderDash,lineDashOffset:er.borderDashOffset,lineJoin:er.borderJoinStyle,lineWidth:(nr.width+nr.height)/4,strokeStyle:er.borderColor,pointStyle:i||er.pointStyle,rotation:er.rotation,textAlign:o||er.textAlign,borderRadius:l&&(c||er.borderRadius),datasetIndex:w.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Title extends Element{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=isArray(i.text)?i.text.length:1;this._padding=toPadding(i.padding);const s=o*toFont(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:o,right:s,options:l}=this,c=l.align;let w=0,er,nr,rr;return this.isHorizontal()?(nr=_alignStartEnd(c,i,s),rr=t+e,er=s-i):(l.position==="left"?(nr=i+e,rr=_alignStartEnd(c,o,t),w=PI*-.5):(nr=s-e,rr=_alignStartEnd(c,t,o),w=PI*.5),er=o-t),{titleX:nr,titleY:rr,maxWidth:er,rotation:w}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=toFont(t.font),s=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:w,rotation:er}=this._drawArgs(s);renderText(e,t.text,0,0,i,{color:t.color,maxWidth:w,rotation:er,textAlign:_toLeftRightCenter(t.align),textBaseline:"middle",translation:[l,c]})}}function createTitle(n,e){const t=new Title({ctx:n.ctx,options:e,chart:n});layouts.configure(n,t,e),layouts.addBox(n,t),n.titleBlock=t}var plugin_title={id:"title",_element:Title,start(n,e,t){createTitle(n,t)},stop(n){const e=n.titleBlock;layouts.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;layouts.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(n,e,t){const i=new Title({ctx:n.ctx,options:t,chart:n});layouts.configure(n,i,t),layouts.addBox(n,i),map.set(n,i)},stop(n){layouts.removeBox(n,map.get(n)),map.delete(n)},beforeUpdate(n,e,t){const i=map.get(n);layouts.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(n){if(!n.length)return!1;let e,t,i=new Set,o=0,s=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const w=c.tooltipPosition();i.add(w.x),o+=w.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,w)=>c+w)/i.size,y:o/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,o=Number.POSITIVE_INFINITY,s,l,c;for(s=0,l=n.length;s<l;++s){const w=n[s].element;if(w&&w.hasValue()){const er=w.getCenterPoint(),nr=distanceBetweenPoints(e,er);nr<o&&(o=nr,c=w)}}if(c){const w=c.tooltipPosition();t=w.x,i=w.y}return{x:t,y:i}}};function pushOrConcat(n,e){return e&&(isArray(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function splitNewlines(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function createTooltipItem(n,e){const{element:t,datasetIndex:i,index:o}=e,s=n.getDatasetMeta(i).controller,{label:l,value:c}=s.getLabelAndValue(o);return{chart:n,label:l,parsed:s.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:c,dataset:s.getDataset(),dataIndex:o,datasetIndex:i,element:t}}function getTooltipSize(n,e){const t=n.chart.ctx,{body:i,footer:o,title:s}=n,{boxWidth:l,boxHeight:c}=e,w=toFont(e.bodyFont),er=toFont(e.titleFont),nr=toFont(e.footerFont),rr=s.length,or=o.length,sr=i.length,dr=toPadding(e.padding);let hr=dr.height,gr=0,mr=i.reduce((Ar,Mr)=>Ar+Mr.before.length+Mr.lines.length+Mr.after.length,0);if(mr+=n.beforeBody.length+n.afterBody.length,rr&&(hr+=rr*er.lineHeight+(rr-1)*e.titleSpacing+e.titleMarginBottom),mr){const Ar=e.displayColors?Math.max(c,w.lineHeight):w.lineHeight;hr+=sr*Ar+(mr-sr)*w.lineHeight+(mr-1)*e.bodySpacing}or&&(hr+=e.footerMarginTop+or*nr.lineHeight+(or-1)*e.footerSpacing);let vr=0;const Sr=function(Ar){gr=Math.max(gr,t.measureText(Ar).width+vr)};return t.save(),t.font=er.string,each(n.title,Sr),t.font=w.string,each(n.beforeBody.concat(n.afterBody),Sr),vr=e.displayColors?l+2+e.boxPadding:0,each(i,Ar=>{each(Ar.before,Sr),each(Ar.lines,Sr),each(Ar.after,Sr)}),vr=0,t.font=nr.string,each(n.footer,Sr),t.restore(),gr+=dr.width,{width:gr,height:hr}}function determineYAlign(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function doesNotFitWithAlign(n,e,t,i){const{x:o,width:s}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&o+s+l>e.width||n==="right"&&o-s-l<0)return!0}function determineXAlign(n,e,t,i){const{x:o,width:s}=t,{width:l,chartArea:{left:c,right:w}}=n;let er="center";return i==="center"?er=o<=(c+w)/2?"left":"right":o<=s/2?er="left":o>=l-s/2&&(er="right"),doesNotFitWithAlign(er,n,e,t)&&(er="center"),er}function determineAlignment(n,e,t){const i=t.yAlign||e.yAlign||determineYAlign(n,t);return{xAlign:t.xAlign||e.xAlign||determineXAlign(n,e,t,i),yAlign:i}}function alignX(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function alignY(n,e,t){let{y:i,height:o}=n;return e==="top"?i+=t:e==="bottom"?i-=o+t:i-=o/2,i}function getBackgroundPoint(n,e,t,i){const{caretSize:o,caretPadding:s,cornerRadius:l}=n,{xAlign:c,yAlign:w}=t,er=o+s,{topLeft:nr,topRight:rr,bottomLeft:or,bottomRight:sr}=toTRBLCorners(l);let dr=alignX(e,c);const hr=alignY(e,w,er);return w==="center"?c==="left"?dr+=er:c==="right"&&(dr-=er):c==="left"?dr-=Math.max(nr,or)+o:c==="right"&&(dr+=Math.max(rr,sr)+o),{x:_limitValue(dr,0,i.width-e.width),y:_limitValue(hr,0,i.height-e.height)}}function getAlignedX(n,e,t){const i=toPadding(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function getBeforeAfterBodyLines(n){return pushOrConcat([],splitNewlines(n))}function createTooltipContext(n,e,t){return createContext(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function overrideCallbacks(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const defaultCallbacks={beforeTitle:noop,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return isNullOrUndef(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(n,e,t,i){const o=n[e].call(t,i);return typeof o>"u"?defaultCallbacks[e].call(t,i):o}class Tooltip extends Element{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&t.options.animation&&i.animations,s=new Animations(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,o=invokeCallbackWithFallback(i,"beforeTitle",this,e),s=invokeCallbackWithFallback(i,"title",this,e),l=invokeCallbackWithFallback(i,"afterTitle",this,e);let c=[];return c=pushOrConcat(c,splitNewlines(o)),c=pushOrConcat(c,splitNewlines(s)),c=pushOrConcat(c,splitNewlines(l)),c}getBeforeBody(e,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,o=[];return each(e,s=>{const l={before:[],lines:[],after:[]},c=overrideCallbacks(i,s);pushOrConcat(l.before,splitNewlines(invokeCallbackWithFallback(c,"beforeLabel",this,s))),pushOrConcat(l.lines,invokeCallbackWithFallback(c,"label",this,s)),pushOrConcat(l.after,splitNewlines(invokeCallbackWithFallback(c,"afterLabel",this,s))),o.push(l)}),o}getAfterBody(e,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,o=invokeCallbackWithFallback(i,"beforeFooter",this,e),s=invokeCallbackWithFallback(i,"footer",this,e),l=invokeCallbackWithFallback(i,"afterFooter",this,e);let c=[];return c=pushOrConcat(c,splitNewlines(o)),c=pushOrConcat(c,splitNewlines(s)),c=pushOrConcat(c,splitNewlines(l)),c}_createItems(e){const t=this._active,i=this.chart.data,o=[],s=[],l=[];let c=[],w,er;for(w=0,er=t.length;w<er;++w)c.push(createTooltipItem(this.chart,t[w]));return e.filter&&(c=c.filter((nr,rr,or)=>e.filter(nr,rr,or,i))),e.itemSort&&(c=c.sort((nr,rr)=>e.itemSort(nr,rr,i))),each(c,nr=>{const rr=overrideCallbacks(e.callbacks,nr);o.push(invokeCallbackWithFallback(rr,"labelColor",this,nr)),s.push(invokeCallbackWithFallback(rr,"labelPointStyle",this,nr)),l.push(invokeCallbackWithFallback(rr,"labelTextColor",this,nr))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),o=this._active;let s,l=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{const c=positioners[i.position].call(this,o,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const w=this._size=getTooltipSize(this,i),er=Object.assign({},c,w),nr=determineAlignment(this.chart,i,er),rr=getBackgroundPoint(i,er,nr,this.chart);this.xAlign=nr.xAlign,this.yAlign=nr.yAlign,s={opacity:1,x:rr.x,y:rr.y,width:w.width,height:w.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,o){const s=this.getCaretPosition(e,i,o);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:o,yAlign:s}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:w,topRight:er,bottomLeft:nr,bottomRight:rr}=toTRBLCorners(c),{x:or,y:sr}=e,{width:dr,height:hr}=t;let gr,mr,vr,Sr,Ar,Mr;return s==="center"?(Ar=sr+hr/2,o==="left"?(gr=or,mr=gr-l,Sr=Ar+l,Mr=Ar-l):(gr=or+dr,mr=gr+l,Sr=Ar-l,Mr=Ar+l),vr=gr):(o==="left"?mr=or+Math.max(w,nr)+l:o==="right"?mr=or+dr-Math.max(er,rr)-l:mr=this.caretX,s==="top"?(Sr=sr,Ar=Sr-l,gr=mr-l,vr=mr+l):(Sr=sr+hr,Ar=Sr+l,gr=mr+l,vr=mr-l),Mr=Sr),{x1:gr,x2:mr,x3:vr,y1:Sr,y2:Ar,y3:Mr}}drawTitle(e,t,i){const o=this.title,s=o.length;let l,c,w;if(s){const er=getRtlAdapter(i.rtl,this.x,this.width);for(e.x=getAlignedX(this,i.titleAlign,i),t.textAlign=er.textAlign(i.titleAlign),t.textBaseline="middle",l=toFont(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,w=0;w<s;++w)t.fillText(o[w],er.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,w+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,o,s){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:w,boxWidth:er}=s,nr=toFont(s.bodyFont),rr=getAlignedX(this,"left",s),or=o.x(rr),sr=w<nr.lineHeight?(nr.lineHeight-w)/2:0,dr=t.y+sr;if(s.usePointStyle){const hr={radius:Math.min(er,w)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},gr=o.leftForLtr(or,er)+er/2,mr=dr+w/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,drawPoint(e,hr,gr,mr),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,drawPoint(e,hr,gr,mr)}else{e.lineWidth=isObject(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const hr=o.leftForLtr(or,er),gr=o.leftForLtr(o.xPlus(or,1),er-2),mr=toTRBLCorners(l.borderRadius);Object.values(mr).some(vr=>vr!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,addRoundedRectPath(e,{x:hr,y:dr,w:er,h:w,radius:mr}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:gr,y:dr+1,w:er-2,h:w-2,radius:mr}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(hr,dr,er,w),e.strokeRect(hr,dr,er,w),e.fillStyle=l.backgroundColor,e.fillRect(gr,dr+1,er-2,w-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:o}=this,{bodySpacing:s,bodyAlign:l,displayColors:c,boxHeight:w,boxWidth:er,boxPadding:nr}=i,rr=toFont(i.bodyFont);let or=rr.lineHeight,sr=0;const dr=getRtlAdapter(i.rtl,this.x,this.width),hr=function(Er){t.fillText(Er,dr.x(e.x+sr),e.y+or/2),e.y+=or+s},gr=dr.textAlign(l);let mr,vr,Sr,Ar,Mr,Fr,Tr;for(t.textAlign=l,t.textBaseline="middle",t.font=rr.string,e.x=getAlignedX(this,gr,i),t.fillStyle=i.bodyColor,each(this.beforeBody,hr),sr=c&&gr!=="right"?l==="center"?er/2+nr:er+2+nr:0,Ar=0,Fr=o.length;Ar<Fr;++Ar){for(mr=o[Ar],vr=this.labelTextColors[Ar],t.fillStyle=vr,each(mr.before,hr),Sr=mr.lines,c&&Sr.length&&(this._drawColorBox(t,e,Ar,dr,i),or=Math.max(rr.lineHeight,w)),Mr=0,Tr=Sr.length;Mr<Tr;++Mr)hr(Sr[Mr]),or=rr.lineHeight;each(mr.after,hr)}sr=0,or=rr.lineHeight,each(this.afterBody,hr),e.y-=s}drawFooter(e,t,i){const o=this.footer,s=o.length;let l,c;if(s){const w=getRtlAdapter(i.rtl,this.x,this.width);for(e.x=getAlignedX(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=w.textAlign(i.footerAlign),t.textBaseline="middle",l=toFont(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<s;++c)t.fillText(o[c],w.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,o){const{xAlign:s,yAlign:l}=this,{x:c,y:w}=e,{width:er,height:nr}=i,{topLeft:rr,topRight:or,bottomLeft:sr,bottomRight:dr}=toTRBLCorners(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(c+rr,w),l==="top"&&this.drawCaret(e,t,i,o),t.lineTo(c+er-or,w),t.quadraticCurveTo(c+er,w,c+er,w+or),l==="center"&&s==="right"&&this.drawCaret(e,t,i,o),t.lineTo(c+er,w+nr-dr),t.quadraticCurveTo(c+er,w+nr,c+er-dr,w+nr),l==="bottom"&&this.drawCaret(e,t,i,o),t.lineTo(c+sr,w+nr),t.quadraticCurveTo(c,w+nr,c,w+nr-sr),l==="center"&&s==="left"&&this.drawCaret(e,t,i,o),t.lineTo(c,w+rr),t.quadraticCurveTo(c,w,c+rr,w),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const l=positioners[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=getTooltipSize(this,e),w=Object.assign({},l,this._size),er=determineAlignment(t,e,w),nr=getBackgroundPoint(e,w,er,t);(o._to!==nr.x||s._to!==nr.y)&&(this.xAlign=er.xAlign,this.yAlign=er.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,nr))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=toPadding(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,t),overrideTextDirection(e,t.textDirection),s.y+=l.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),restoreTextDirection(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,o=e.map(({datasetIndex:c,index:w})=>{const er=this.chart.getDatasetMeta(c);if(!er)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:er.data[w],index:w}}),s=!_elementsEqual(i,o),l=this._positionChanged(o,t);(s||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],l=this._getActiveElements(e,s,t,i),c=this._positionChanged(l,e),w=t||!_elementsEqual(l,s)||c;return w&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),w}_getActiveElements(e,t,i,o){const s=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:o,options:s}=this,l=positioners[s.position].call(this,e,t);return l!==!1&&(i!==l.x||o!==l.y)}}ln(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(n,e,t){t&&(n.tooltip=new Tooltip({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function findOrAddLabel(n,e,t,i){const o=n.indexOf(e);if(o===-1)return addIfString(n,e,t,i);const s=n.lastIndexOf(e);return o!==s?t:o}const validIndex=(n,e)=>n===null?null:_limitValue(Math.round(n),0,e);function _getLabelForValue(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:o,label:s}of t)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(isNullOrUndef(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:findOrAddLabel(i,e,valueOrDefault(t,e),this._addedLabels),validIndex(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,o=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ln(CategoryScale,"id","category"),ln(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(n,e){const t=[],{bounds:o,step:s,min:l,max:c,precision:w,count:er,maxTicks:nr,maxDigits:rr,includeBounds:or}=n,sr=s||1,dr=nr-1,{min:hr,max:gr}=e,mr=!isNullOrUndef(l),vr=!isNullOrUndef(c),Sr=!isNullOrUndef(er),Ar=(gr-hr)/(rr+1);let Mr=niceNum((gr-hr)/dr/sr)*sr,Fr,Tr,Er,Rr;if(Mr<1e-14&&!mr&&!vr)return[{value:hr},{value:gr}];Rr=Math.ceil(gr/Mr)-Math.floor(hr/Mr),Rr>dr&&(Mr=niceNum(Rr*Mr/dr/sr)*sr),isNullOrUndef(w)||(Fr=Math.pow(10,w),Mr=Math.ceil(Mr*Fr)/Fr),o==="ticks"?(Tr=Math.floor(hr/Mr)*Mr,Er=Math.ceil(gr/Mr)*Mr):(Tr=hr,Er=gr),mr&&vr&&s&&almostWhole((c-l)/s,Mr/1e3)?(Rr=Math.round(Math.min((c-l)/Mr,nr)),Mr=(c-l)/Rr,Tr=l,Er=c):Sr?(Tr=mr?l:Tr,Er=vr?c:Er,Rr=er-1,Mr=(Er-Tr)/Rr):(Rr=(Er-Tr)/Mr,almostEquals(Rr,Math.round(Rr),Mr/1e3)?Rr=Math.round(Rr):Rr=Math.ceil(Rr));const wr=Math.max(_decimalPlaces(Mr),_decimalPlaces(Tr));Fr=Math.pow(10,isNullOrUndef(w)?wr:w),Tr=Math.round(Tr*Fr)/Fr,Er=Math.round(Er*Fr)/Fr;let Or=0;for(mr&&(or&&Tr!==l?(t.push({value:l}),Tr<l&&Or++,almostEquals(Math.round((Tr+Or*Mr)*Fr)/Fr,l,relativeLabelSize(l,Ar,n))&&Or++):Tr<l&&Or++);Or<Rr;++Or){const kr=Math.round((Tr+Or*Mr)*Fr)/Fr;if(vr&&kr>c)break;t.push({value:kr})}return vr&&or&&Er!==c?t.length&&almostEquals(t[t.length-1].value,c,relativeLabelSize(c,Ar,n))?t[t.length-1].value=c:t.push({value:c}):(!vr||Er===c)&&t.push({value:Er}),t}function relativeLabelSize(n,e,{horizontal:t,minRotation:i}){const o=toRadians(i),s=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/s,l)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:o,max:s}=this;const l=w=>o=t?o:w,c=w=>s=i?s:w;if(e){const w=sign(o),er=sign(s);w<0&&er<0?c(0):w>0&&er>0&&l(0)}if(o===s){let w=s===0?1:Math.abs(s*.05);c(s+w),e||l(o-w)}this.min=o,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,l=generateTicks$1(o,s);return e.bounds==="ticks"&&_setMinAndMaxByKey(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=toRadians(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ln(LinearScale,"id","linear"),ln(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=n=>Math.floor(log10(n)),changeExponent=(n,e)=>Math.pow(10,log10Floor(n)+e);function isMajor(n){return n/Math.pow(10,log10Floor(n))===1}function steps(n,e,t){const i=Math.pow(10,t),o=Math.floor(n/i);return Math.ceil(e/i)-o}function startExp(n,e){const t=e-n;let i=log10Floor(t);for(;steps(n,e,i)>10;)i++;for(;steps(n,e,i)<10;)i--;return Math.min(i,log10Floor(n))}function generateTicks(n,{min:e,max:t}){e=finiteOrDefault(n.min,e);const i=[],o=log10Floor(e);let s=startExp(e,t),l=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),w=o>s?Math.pow(10,o):0,er=Math.round((e-w)*l)/l,nr=Math.floor((e-w)/c/10)*c*10;let rr=Math.floor((er-nr)/Math.pow(10,s)),or=finiteOrDefault(n.min,Math.round((w+nr+rr*Math.pow(10,s))*l)/l);for(;or<t;)i.push({value:or,major:isMajor(or),significand:rr}),rr>=10?rr=rr<15?15:20:rr++,rr>=20&&(s++,rr=2,l=s>=0?1:l),or=Math.round((w+nr+rr*Math.pow(10,s))*l)/l;const sr=finiteOrDefault(n.max,or);return i.push({value:sr,major:isMajor(sr),significand:rr}),i}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=LinearScaleBase.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return isNumberFinite(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=e===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,o=this.max;const s=c=>i=e?i:c,l=c=>o=t?o:c;i===o&&(i<=0?(s(1),l(10)):(s(changeExponent(i,-1)),l(changeExponent(o,1)))),i<=0&&s(changeExponent(o,-1)),o<=0&&l(changeExponent(i,1)),this.min=i,this.max=o}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=generateTicks(t,this);return e.bounds==="ticks"&&_setMinAndMaxByKey(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ln(LogarithmicScale,"id","logarithmic"),ln(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(n){const e=n.ticks;if(e.display&&n.display){const t=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,defaults.font.size)+t.height}return 0}function measureLabelSize(n,e,t){return t=isArray(t)?t:[t],{w:_longestText(n,e.string,t),h:t.length*e.lineHeight}}function determineLimits(n,e,t,i,o){return n===i||n===o?{start:e-t/2,end:e+t/2}:n<i||n>o?{start:e-t,end:e}:{start:e,end:e+t}}function fitWithPointLabels(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],o=[],s=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?PI/s:0;for(let w=0;w<s;w++){const er=l.setContext(n.getPointLabelContext(w));o[w]=er.padding;const nr=n.getPointPosition(w,n.drawingArea+o[w],c),rr=toFont(er.font),or=measureLabelSize(n.ctx,rr,n._pointLabels[w]);i[w]=or;const sr=_normalizeAngle(n.getIndexAngle(w)+c),dr=Math.round(toDegrees(sr)),hr=determineLimits(dr,nr.x,or.w,0,180),gr=determineLimits(dr,nr.y,or.h,90,270);updateLimits(t,e,sr,hr,gr)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=buildPointLabelItems(n,i,o)}function updateLimits(n,e,t,i,o){const s=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let c=0,w=0;i.start<e.l?(c=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+c)),o.start<e.t?(w=(e.t-o.start)/l,n.t=Math.min(n.t,e.t-w)):o.end>e.b&&(w=(o.end-e.b)/l,n.b=Math.max(n.b,e.b+w))}function createPointLabelItem(n,e,t){const i=n.drawingArea,{extra:o,additionalAngle:s,padding:l,size:c}=t,w=n.getPointPosition(e,i+o+l,s),er=Math.round(toDegrees(_normalizeAngle(w.angle+HALF_PI))),nr=yForAngle(w.y,c.h,er),rr=getTextAlignForAngle(er),or=leftForTextAlign(w.x,c.w,rr);return{visible:!0,x:w.x,y:nr,textAlign:rr,left:or,top:nr,right:or+c.w,bottom:nr+c.h}}function isNotOverlapped(n,e){if(!e)return!0;const{left:t,top:i,right:o,bottom:s}=n;return!(_isPointInArea({x:t,y:i},e)||_isPointInArea({x:t,y:s},e)||_isPointInArea({x:o,y:i},e)||_isPointInArea({x:o,y:s},e))}function buildPointLabelItems(n,e,t){const i=[],o=n._pointLabels.length,s=n.options,{centerPointLabels:l,display:c}=s.pointLabels,w={extra:getTickBackdropHeight(s)/2,additionalAngle:l?PI/o:0};let er;for(let nr=0;nr<o;nr++){w.padding=t[nr],w.size=e[nr];const rr=createPointLabelItem(n,nr,w);i.push(rr),c==="auto"&&(rr.visible=isNotOverlapped(rr,er),rr.visible&&(er=rr))}return i}function getTextAlignForAngle(n){return n===0||n===180?"center":n<180?"left":"right"}function leftForTextAlign(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function yForAngle(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function drawPointLabelBox(n,e,t){const{left:i,top:o,right:s,bottom:l}=t,{backdropColor:c}=e;if(!isNullOrUndef(c)){const w=toTRBLCorners(e.borderRadius),er=toPadding(e.backdropPadding);n.fillStyle=c;const nr=i-er.left,rr=o-er.top,or=s-i+er.width,sr=l-o+er.height;Object.values(w).some(dr=>dr!==0)?(n.beginPath(),addRoundedRectPath(n,{x:nr,y:rr,w:or,h:sr,radius:w}),n.fill()):n.fillRect(nr,rr,or,sr)}}function drawPointLabels(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let o=e-1;o>=0;o--){const s=n._pointLabelItems[o];if(!s.visible)continue;const l=i.setContext(n.getPointLabelContext(o));drawPointLabelBox(t,l,s);const c=toFont(l.font),{x:w,y:er,textAlign:nr}=s;renderText(t,n._pointLabels[o],w,er+c.lineHeight/2,c,{color:l.color,textAlign:nr,textBaseline:"middle"})}}function pathRadiusLine(n,e,t,i){const{ctx:o}=n;if(t)o.arc(n.xCenter,n.yCenter,e,0,TAU);else{let s=n.getPointPosition(0,e);o.moveTo(s.x,s.y);for(let l=1;l<i;l++)s=n.getPointPosition(l,e),o.lineTo(s.x,s.y)}}function drawRadiusLine(n,e,t,i,o){const s=n.ctx,l=e.circular,{color:c,lineWidth:w}=e;!l&&!i||!c||!w||t<0||(s.save(),s.strokeStyle=c,s.lineWidth=w,s.setLineDash(o.dash||[]),s.lineDashOffset=o.dashOffset,s.beginPath(),pathRadiusLine(n,t,l,i),s.closePath(),s.stroke(),s.restore())}function createPointLabelContext(n,e,t){return createContext(n,{label:t,index:e,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const o=callback(this.options.pointLabels.callback,[t,i],this);return o||o===0?o:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,o))}getIndexAngle(e){const t=TAU/(this._pointLabels.length||1),i=this.options.startAngle||0;return _normalizeAngle(e*t+toRadians(i))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return createPointLabelContext(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const o=this.getIndexAngle(e)-HALF_PI+i;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:o,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:o,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:o,border:s}=t,l=this._pointLabels.length;let c,w,er;if(t.pointLabels.display&&drawPointLabels(this,l),o.display&&this.ticks.forEach((nr,rr)=>{if(rr!==0||rr===0&&this.min<0){w=this.getDistanceFromCenterForValue(nr.value);const or=this.getContext(rr),sr=o.setContext(or),dr=s.setContext(or);drawRadiusLine(this,sr,w,l,dr)}}),i.display){for(e.save(),c=l-1;c>=0;c--){const nr=i.setContext(this.getPointLabelContext(c)),{color:rr,lineWidth:or}=nr;!or||!rr||(e.lineWidth=or,e.strokeStyle=rr,e.setLineDash(nr.borderDash),e.lineDashOffset=nr.borderDashOffset,w=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),er=this.getPointPosition(c,w),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(er.x,er.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let s,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,w)=>{if(w===0&&this.min>=0&&!t.reverse)return;const er=i.setContext(this.getContext(w)),nr=toFont(er.font);if(s=this.getDistanceFromCenterForValue(this.ticks[w].value),er.showLabelBackdrop){e.font=nr.string,l=e.measureText(c.label).width,e.fillStyle=er.backdropColor;const rr=toPadding(er.backdropPadding);e.fillRect(-l/2-rr.left,-s-nr.size/2-rr.top,l+rr.width,nr.size+rr.height)}renderText(e,c.label,0,-s,nr,{color:er.color,strokeColor:er.textStrokeColor,strokeWidth:er.textStrokeWidth})}),e.restore()}drawTitle(){}}ln(RadialLinearScale,"id","radialLinear"),ln(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ln(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ln(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(n,e){return n-e}function parse(n,e){if(isNullOrUndef(e))return null;const t=n._adapter,{parser:i,round:o,isoWeekday:s}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),isNumberFinite(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(isNumber(s)||s===!0)?t.startOf(l,"isoWeek",s):t.startOf(l,o)),+l)}function determineUnitForAutoTicks(n,e,t,i){const o=UNITS.length;for(let s=UNITS.indexOf(n);s<o-1;++s){const l=INTERVALS[UNITS[s]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return UNITS[s]}return UNITS[o-1]}function determineUnitForFormatting(n,e,t,i,o){for(let s=UNITS.length-1;s>=UNITS.indexOf(t);s--){const l=UNITS[s];if(INTERVALS[l].common&&n._adapter.diff(o,i,l)>=e-1)return l}return UNITS[t?UNITS.indexOf(t):0]}function determineMajorUnit(n){for(let e=UNITS.indexOf(n)+1,t=UNITS.length;e<t;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:o}=_lookup(t,e),s=t[i]>=e?t[i]:t[o];n[s]=!0}}function setMajorTicks(n,e,t,i){const o=n._adapter,s=+o.startOf(e[0].value,i),l=e[e.length-1].value;let c,w;for(c=s;c<=l;c=+o.add(c,1,i))w=t[c],w>=0&&(e[w].major=!0);return e}function ticksFromTimestamps(n,e,t){const i=[],o={},s=e.length;let l,c;for(l=0;l<s;++l)c=e[l],o[c]=l,i.push({value:c,major:!1});return s===0||!t?i:setMajorTicks(n,i,o,t)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),o=this._adapter=new adapters._date(e.adapters.date);o.init(t),mergeIf(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:l,maxDefined:c}=this.getUserBounds();function w(er){!l&&!isNaN(er.min)&&(o=Math.min(o,er.min)),!c&&!isNaN(er.max)&&(s=Math.max(s,er.max))}(!l||!c)&&(w(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&w(this.getMinMax(!1))),o=isNumberFinite(o)&&!isNaN(o)?o:+t.startOf(Date.now(),i),s=isNumberFinite(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,l=this.max,c=_filterBetween(o,s,l);return this._unit=t.unit||(i.autoSkip?determineUnitForAutoTicks(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):determineUnitForFormatting(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(o),e.reverse&&c.reverse(),ticksFromTimestamps(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=_limitValue(t,0,l),i=_limitValue(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,o=this.options,s=o.time,l=s.unit||determineUnitForAutoTicks(s.minUnit,t,i,this._getLabelCapacity(t)),c=valueOrDefault(o.ticks.stepSize,1),w=l==="week"?s.isoWeekday:!1,er=isNumber(w)||w===!0,nr={};let rr=t,or,sr;if(er&&(rr=+e.startOf(rr,"isoWeek",w)),rr=+e.startOf(rr,er?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const dr=o.ticks.source==="data"&&this.getDataTimestamps();for(or=rr,sr=0;or<i;or=+e.add(or,c,l),sr++)addTick(nr,or,dr);return(or===i||o.bounds==="ticks"||sr===1)&&addTick(nr,or,dr),Object.keys(nr).sort(sorter).map(hr=>+hr)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,s=this._unit,l=t||o[s];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,o){const s=this.options,l=s.ticks.callback;if(l)return callback(l,[e,t,i],this);const c=s.time.displayFormats,w=this._unit,er=this._majorUnit,nr=w&&c[w],rr=er&&c[er],or=i[t],sr=er&&rr&&or&&or.major;return this._adapter.format(e,o||(sr?rr:nr))}generateTickLabels(e){let t,i,o;for(t=0,i=e.length;t<i;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,o=toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*l,h:i*l+c*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,o=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),o),l=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,i=o.length;t<i;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const o=this.getLabels();for(t=0,i=o.length;t<i;++t)e.push(parse(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}ln(TimeScale,"id","time"),ln(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(n,e,t){let i=0,o=n.length-1,s,l,c,w;t?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=_lookupByKey(n,"pos",e)),{pos:s,time:c}=n[i],{pos:l,time:w}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=_lookupByKey(n,"time",e)),{time:s,pos:c}=n[i],{time:l,pos:w}=n[o]);const er=l-s;return er?c+(w-c)*(e-s)/er:c}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=interpolate(t,this.min),this._tableRange=interpolate(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,o=[],s=[];let l,c,w,er,nr;for(l=0,c=e.length;l<c;++l)er=e[l],er>=t&&er<=i&&o.push(er);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=o.length;l<c;++l)nr=o[l+1],w=o[l-1],er=o[l],Math.round((nr+w)/2)!==er&&s.push({time:er,pos:l/(c-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((o,s)=>o-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return interpolate(this._table,i*this._tableRange+this._minPos,!0)}}ln(TimeSeriesScale,"id","timeseries"),ln(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart$1.register(...registerables);const defaultDatasetIdKey="label";function reforwardRef(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function setOptions(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function setLabels(n,e){n.labels=e}function setDatasets(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const i=[];n.datasets=e.map(o=>{const s=n.datasets.find(l=>l[t]===o[t]);return!s||!o.data||i.includes(s)?{...o}:(i.push(s),Object.assign(s,o),s)})}function cloneData(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const t={labels:[],datasets:[]};return setLabels(t,n.labels),setDatasets(t,n.datasets,e),t}function ChartComponent(n,e){const{height:t=150,width:i=300,redraw:o=!1,datasetIdKey:s,type:l,data:c,options:w,plugins:er=[],fallbackContent:nr,updateMode:rr,...or}=n,sr=reactExports.useRef(null),dr=reactExports.useRef(null),hr=()=>{sr.current&&(dr.current=new Chart$1(sr.current,{type:l,data:cloneData(c,s),options:w&&{...w},plugins:er}),reforwardRef(e,dr.current))},gr=()=>{reforwardRef(e,null),dr.current&&(dr.current.destroy(),dr.current=null)};return reactExports.useEffect(()=>{!o&&dr.current&&w&&setOptions(dr.current,w)},[o,w]),reactExports.useEffect(()=>{!o&&dr.current&&setLabels(dr.current.config.data,c.labels)},[o,c.labels]),reactExports.useEffect(()=>{!o&&dr.current&&c.datasets&&setDatasets(dr.current.config.data,c.datasets,s)},[o,c.datasets]),reactExports.useEffect(()=>{dr.current&&(o?(gr(),setTimeout(hr)):dr.current.update(rr))},[o,w,c.labels,c.datasets,rr]),reactExports.useEffect(()=>{dr.current&&(gr(),setTimeout(hr))},[l]),reactExports.useEffect(()=>(hr(),()=>gr()),[]),React.createElement("canvas",{ref:sr,role:"img",height:t,width:i,...or},nr)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(n,e){return Chart$1.register(e),reactExports.forwardRef((t,i)=>React.createElement(Chart,{...t,ref:i,type:n}))}const Bar=createTypedChart("bar",BarController),ChartComp=({signDataList:n})=>{const t=n.map(c=>({date:c.createdAt.split(" ")[1]+"/"+c.createdAt.split(" ")[2]+"/"+c.createdAt.split(" ")[3],secondsSpent:c.secondsSpent})).reduce((c,w)=>{const er=c.findIndex(nr=>nr.date===w.date);return er!==-1?c[er].secondsSpent+=w.secondsSpent:c.push(w),c},[]);t.sort((c,w)=>new Date(c.date)-new Date(w.date));const i=t.map(c=>c.date).reverse(),o=t.map(c=>c.secondsSpent).reverse();console.log(i),console.log(o);const s={labels:i.slice(0,7),datasets:[{data:o,backgroundColor:"#f07458",barThickness:20}]},l={maintainAspectRatio:!0,responsive:!0,scales:{x:{ticks:{color:"#fff"},grid:{color:"#81AFDD"}},y:{beginAtZero:!0,ticks:{color:"#fff"},grid:{color:"#81AFDD"}}},plugins:{legend:{display:!1}}};return jsxRuntimeExports.jsx("div",{className:"signlang_chart",children:i.length&&o.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:"Time Spent By You (in seconds)"}),jsxRuntimeExports.jsx(Bar,{className:"bar-chart",data:s,options:l})]}):jsxRuntimeExports.jsxs("h2",{className:"gradient__text",children:["You don't have any Data for Chart !",jsxRuntimeExports.jsx("br",{}),"Please go to Detect Page to Start"]})})},GoldTrophy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfnBA8VNwIOkpePAAAIzklEQVRo3u1ZbVSUZRq+7vcdhpkBFFMkbRQREj9WPWaKCCq44ZK6SgWznkTWo5hHj1KaH5214xaCy0kTLVNwMxU7KpC1VkueTSLQJCCcZHX4WBIkUflQZ/geZt733h8e0IXYGRByf+z15znv8zz3/Vz3Nc/9fA2hG5RMu/y6h6Onp3xF0vOZPXswF1vpD4GByMNEvFVXx/VkQM2RI+pW199i54ED6nv0k5h06RLaoKBdnp6wE3fv3r1rtdrbGxBWiPOw3WpVurv4C09MmFC9/ec57jHh4VzDL6Bm+XLagTt8cMgQPksLcePbb8VMFPFXGzf6Lp4zKO+L8vIu/jpX6FnPHuzqKrlKd7A7O5sLsJtWh4biCvIxmhmNqOdxHh7Q8xM4ERdnXd88CAX79vU08N5C/kj6B2IUisa6O985nXj3XTbzM3CMjYURxzHdw4PP4xwCmHGFT1FyaKiUx7eFodnZmZzJc9jV1aYAjlqM4rmRkdiHaOzWanEZN3E6OXlsRdmY63o3N3mB3KBY4+2NA2jmmNpa2UN6hT6IiOjvwDvDOtkaJPrNnw93xOHHmhr5Q0WWuNbb+8bpmtEjV7u5UTjUSDt+HAtQjatarSqZDpgjly2zKQBOsTPSfHw6vq9QGXQpKUQ6HSBJEz55dtq18spK+MNIE776CosQgUxBwK+NKGykZEGgw0jAm2fOBGQEZHwXXFmp0+l0aWmSJA8hE285daqjfxqKET52rE0BaB1n0OGmpo6KIvmKnOzs3LmfeQktwNRXX1W94ziDnuuqbHeQZVkGAEmyWpkBZubeyKfyUzW1fLptm8MLlpuWTzdv7twu3qI/IcHFpf2bv4MaEY2NNgXgLCEXZRUVHYJohGL6e1flptAUuk5Go6pUs4MyLl+2RZhZlpkBk8lotFoBk6m+XpKAxsampsGDey6AJlN1uvXl4uJnpwXPK7hkMnVul6qlfLiPG9cRRymehsODuLoVQPiEB8veeXkdxH/P6zFl7tyeU/xPEAkCEaBUqlSCABDdr5fl3s0AWxDmUgp98xDvbKEBs3NzbQrgs3KK/89bCwpwFVe4vKICJciiL2bNuhp2aYZ2g7f3oxJzctJo7gvQLkHfIm/4+WXTbowZwwtQjC8CArAXhQgpL5/x4qwN33+m19sU4D4xZtqESoxKTEQYopAtCIIAN3HSzp39QbovIZGcJXJcHGYiEN8TURDF4FZiYntcNgVoh3O0+aD80nvv0VR6jpMqK/ktvI23wsOLNugNI9euWvW4A+2Mi8FZgb6+r7zCaZyM8LAwCkc8x1dWIlbpiDfff787u24FGPG6X9WNhJYWvMNxdHbJEqhRxGfb2ngQ76eGxETDOn3ZyGObN/Ob0lrpZtfVtb8hxUjPiNurq3MOZg2ZsXrLFrgwaOPBgziBt/FSW5v8NhnE5CVL/Kr8qr4f0dLSnR+787Do/YI3RoYuXMj5wkd0OzUVb/BZ3FKraSFqKMxgGPTnwQWCu48PfsdLKUkUbfkzGu/vBkajyeTuDgwY4OJSXW2/APXlDWfcmw0GeRAHCV7jx8OKCzC3tMDM2+gJnW5mcBDlZHz5pS0/PV6IDC/+GDniwoQJGCWraeD+/YjCaloYGOjs7OwsCIBSqVTas6pbLBYLM3Dv3r17CgWgUCgUZrNtO0EQBFEE7t41GocOBSgZtYjMzBS+FpfLwevW+f40qynvaYPB3ngeeSUu0RTc9oyaNEkx3LGQB5486XTBeYz4t/Hj7bXv6WVIWinHu5yoqGjyaN7gdH3x4hmnZvvlvlxY2Fv+j7wD+zRPfbL8w8LCtlOWv/LzH39sNre23j/r9S2IiJRKoOE3DSlOnyclPWrgHX57a2h4Su8xMig6Gh7sgHOhoQglbxru50cWPI15SqWrYkCYWHH0KP1R9KCbK1Z058fWDFAeUvgIriUldaPuves2a8wYOZqfo11mM61FFR3JyeHpHMYfpKfPXBFEuVd37+5pHL2eAeTPkygyIAAfIpVGBwVRFm9Aa2urHCivx6KoqGFbveZcO79ypbCJ06g2JISm4y98tq7OJqHPhWSaK8uaz1R+wuvbtnnvneRUfnnsWN6F9cLWVauwmubTPrOZI+GG5KAgKhImUuTkyb2No9dgTk0FRLEwpDDkqfVa7Q/5P+RPfcbBoXO/cs5kD1apKkNKQzy9KyquXy8u9vRkbi/1+tzcceMelP8cmdfsc9Fi0XMmT/6F+3v7OLlemTz9X1ptampqani47V2n2x+yv4UyvFgQNeKCTodYWissTUnp3G401tcPG9bVzsGk3NN8MiFh2vMzPy/03Lixv/j1+z2eBZWxdV96ujpJc4Neq6rSaNRqQQDaS5VKpWpoeFA6bVevNEVLkvIcxzSq4+P7m5+ivwcYlqSKd/lBFC2hirVklCRW8aGHZVepWloePkeKZtGEFmbNcL6oVHRNqb5Gv6VA1Y6yz7wWjxghTldUcVJmJiZjIfl7eXXu190uIM4RhnKSxYJg9RbR3d/f54TPifIp+fl9zbPPU4CZGSASpytCOCklpbvAbUHKkmtotYMDElqHyXcyMu777fuXgz53WLusYrf3gHnzMBnV5O/n96j+pDvSUqx0cbn2fFHOqHc2beprvj1OgfTSqH0T07VaRbxVlhp1OrqIORTxIFcHaacMs16YP98xYXAGls2ebcvftWuFhZJke1x5keUQRplMjeOv11H6xYsdDcF0E0ctFsoXB5ImNjYiJ3VgaYT9qdJjAb7esXzq+KjDh9kXEymn+xOevSgrq6vr/rJqPzSlyhDhtdLS5Xs/XVcW/dCrtg30OAX4Er6BQ9dX4scN2ZvbcFqt7qndr/+e/z+G/wvwuAk8bti9CB5ULIgZLe/aJYwTJ+LYmjVCNB2lWCenRyVQUlJb+9D/UL3HZszkocyOxxSNwvz8/Lgt2Ym34n19bZnZfRRmF2Iu9vKS1siHaYeTk2QB2F7j/wKLRZL65AFlJ87jNpHDImEoEp580l6zfwPE4Mh7Mh7bNgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0xNVQyMTo1NTowMiswMDowMB1quwIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMTVUMjE6NTU6MDIrMDA6MDBsNwO+AAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTA0LTE1VDIxOjU1OjAyKzAwOjAwOyIiYQAAAABJRU5ErkJggg==",SilverTrophy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATiSURBVFiF7ZdtiFRVGMd/z7l3dmZ3Z9fdnV0LdAXR1JSUqCzRRIOiTFeFnDJUpDQIokAKAj8FWUFRUCH2IQwL0ojAEPsUvuTripom1kq52/ra7sq668zOjPfe8/RhnXVnnJddqm/9YZh7zvO//+d/nvMyZ4Rh2Hf0+kTXOB+qsgClB6NbxzXWbBY3cwJhIgVw8bJXqBvHEb+uyp1xqi2xAmEt0Iiy1xh3Q7ylrj3Lk+zDnpO9da7n/iIwHqEXJQqEImHZ1hhz1xTMUsIAQCptd13r9RYDHpAA6gUuVljnvuXL668DmCy5wnPXDCbXbZfbo00YdzLQbS2rimYoA8+ziwS6jDGTTSbWhPKlwviME6zOcsww/tTBL2dHPC7BvAcrOxH9QTWHM1oYi+yML2nojMclEOx2ACzT7jCgKsnBBxsdGoEbvFYVZjUFYFVJDliSAxbVwtmjUdnoZOSNoXdwagAQEtk+d8iAaMetBTHkbuH99dcvXMicCsjNoKp0dQX4gdLb55FICmMbQ4hIDq++tuK3+fGqvqEOsffeWnYdd1RA1LQOmuOxwuO5jVRa8QMlEhbCFQbPV9KZImUYBsEMahs9eoeBubOrjoN0KDx66Hjf5FJCkbBQW2NoqHeH7aPS2P5d9xTQeaDtzy5uPHmHARFRVbsFMGrNO6XEjBFqaxzSaUsmY3FdIRIuvVbFkU2ACLJFRIbKlfOWE9R8DHSqsuJga//6UoJ+oPT2W0SgYYyLlKjE9u+7X1J4BuiUTOqTHGP55INH++eoyF7ARfTN8c2hb/HlfD7vr24fz1Oudt+kKmKorHQIubly1bXOvHNtA3MV3gV8Y2RBfEnscEkDAD8d7V8sIt8AlcDZ5nGhqao42XjgK1e6fAAuXskAEK12qKt1c3QuXfXOqtrpQArR+HMtTbvycxUt3IHWGzOAT4EFsQaHykjuHN+8qQRWh47iSNjkTIPrCh0X0gB7jMor8WWxs4XylF3D+48kZlZXy9exemd6oXix34L0zaCj65pd+vzShtOl9Mses/MfiZ5OpYKvEklbjnpb1EBPj/9ZueRQpgIHW2+8qsIylDkiVIy9y/0iZOSF4Zz8ClSEpa39z/QUVTLAYRXdvbKl6YOiZsvYm4eyEEijuu6eCZUvquVJoCef6hixNZXuxtmzotMssh7IAAtRmVUqRUkDl9qjK13rNEdMdOzc2bVbATr+CO9LJm0yMWBJDFiSA0H2Y8/3pDcDrGyJfd53Ndbk+9LsZGJrS49xlDjQeiMO7Mi2s9sQoKrK+ajl8foNo9Fzy1Ny4VWndsdM9BKi4wDGJAclHEOQcNPvjVZv1AYmRJocJ5wJsu3+6sHd4TiiY6O1odHqjeq28/ulgWYnnDkOTMiPBYG66YRtP3Mm+dB/YkBVxVVnBzCpGMcPNJTw9EdVHbHuiIkdFzJPgM4px/M9rfn51+TrI9Utugt2r5s53vWDOBACGPPA0kWhxgnz83nnTxwp4CLVl+o8eWgwg3riyNurdpw7VihP0UUY8v23lNunXt/xnQV5XT2pQt1jgKeyjaoKM42hW3cuik6BCtFisdHCKpXFYv/kzv+v4H8DBXfB5qcnve84+rIRqS4n0NadHEEa1bBrjm3af+Xh/EjBXaCikwJLdf4/okLwghFdVCRkuLtQ4G/2ZOHIfcIlxAAAAABJRU5ErkJggg==",BronzeTrophy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUMSURBVFiF7ZdbbBRlGIafb2ba3W67HAolQCkJUKFAgBBAhKABL4yHFrkQggkQjiYmRhMCasKNJmJMNB4R0agQNNHaC0+IV0bkIAKpYAmla4CeObW03bLb7e7OzOcFbKnd2S01eud7tf9877zf88/8/+6/Qj9d3VwxKenqmwJLgXbQvcWz7tmN5fsdmISHWk+f87qMmWvZ+QHfzNBvZ1Yish50NMoh12LrwsOh+pRPUh/q168YkWPYZ4EJQCdIAWiOPxjcP6p04jrPLlkAAGLRyIGulqvlQBKIACMRWizLP2vuoTNdAEbKbImz7nbz/cU384oMi1KgzbaTazJ2GEROb/xRhesiZmn9+LoiVD9DmeAketemPH0AIu40AHWplKoqZ/xH3zcBP0o/z1ClYBjCt/OPnmtaVYWDGF/erpSlASgSBRBDClLXkq71nH94cC0ech2XaHsnPV1h1HE9AfJHFe4gltjeDygIoAaRNABDpAFAlD66Sfu+6Ro2bswfaTNzHNpCF+lqvkz4Whvtjc24bjpEcHRh3fzqS+HUWESnA4hLQxqAo85JABV90HM6/dQbiWLHE/iHFeAL5GEnk8QjPYPdhurtbNM4kQZQ8unBatAG4P7mTctLswX5CvIZNm4MgcIROI5za3aGZLuFE0vKpgqyBKifd+T86TQAAVVhD2CI6qvZwgzTJDi2iO6rbdjxBIKQm5eXFcCAnYCgskdA0wAA6A68i9IEurJ5Y/mWTGHxSJQrZ+soKBqFL5CHosSj0YzNTy0pewrlCaApqTffGwB2RyVVVTGE1UBCYE/rxvLt4EQYINd2cG2HaPuNfq8gfbeq6V47tXj68ygfAAlXWb34eEusv8fzxbVsqChH9CsgT5Da8XNnTAPMvmBVblxovPUkQhfwBfIYOaEY6ZcmIlwLXax11J0BxFxh1cKjdQcG9sq4chq3VMw0bd2FsHTU5In4hwfTPPFIlMs1deT6ffytO2D6cmmpqQX42THMZ+47cq7Wq0/2pQs0b14+OxAs+KJwUskML7fnb4FAvCfW0NXS8vi8I6GabPmDfs2WfPxdTayr+/PojY7BrHdCTYvO5tYPB2t+mzWzmjdUPCvCCtBFCLljp5fuM32+jf09A5+AL5gfaqo+O9VVNw4cVzh477G6NzLCZqUTloAuA3rFZbO17e1NwMMo7WlBluUGigp3FL1TWeaqbkGIA8sEmZOtR1aA4pv+JzGckqvWlTHFew/sBWioPvFLtKMzGm3vINreQU+4m55wN7Fwt9sYqtkNsODY+U8kll/k2HZJ/fjz67NOMlvRSy0bK1aBVqbGV0IX+mr5I4a9NeOHk1uHkmcNFSDX7z/oHxlsRSgGiHZ0AWBapoOTfG2oeUMGKJoz2SSBkxp3X75+CyDH0uGjx+bw9a9DyhvSaUff31FCgmpg4sCak7St7hvX68Mvrl/wnwCoIrjJSmBKJo+dSOT03oz8pC/dfe7dP4FdLzwEsmgwWzLWGwzH1m6729iMu+Dg5tkTLNtZBeQAFI+e+GjAF3hgoK/2wqW0e9WUcGc8cmsxiCbFlFfWVP55yqtPxkWYY9svK9L3rdfa3uTpa4zGvC4PBx5JDQK5RhkwzcuY8RWoUJCpNlS5Ssbj0j8+8/9b+h/AcxfsfmzK66apTxsi+YMFhNoyH0bvSNVnGad2Hr6ycGDFcxeo6BTHJd+5c3rOqGSGv2UDJDkGY70KfwFNcPoAVYIWEAAAAABJRU5ErkJggg==",NoData="/assets/No-data-CsucKls0.svg",quotes=[{id:1,quote:"Language is not a genetic gift, it is a social gift. Learning a new language is becoming a member of the club - the community of speakers of that language."},{id:2,quote:"The limits of my language mean the limits of my world."},{id:3,quote:"If you talk to a man in a language he understands, that goes to his head. If you talk to him in his own language, that goes to his heart."},{id:4,quote:"To have another language is to possess a second soul."},{id:5,quote:"Sign language is the noblest gift God has given to deaf people."},{id:6,quote:"Sign language is the noblest gift God has given to deaf people."},{id:7,quote:"Sign language is not a barrier, it's a bridge."},{id:8,quote:"To speak a language is to take on a world, a culture."}],randomQuote=Math.floor(Math.random()*quotes.length),quote=quotes[randomQuote],Loader="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20style='margin:%20auto;%20background:%20none;%20display:%20block;%20shape-rendering:%20auto;'%20width='143px'%20height='143px'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%3e%3cg%20transform='rotate(0%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-1.1178861788617886s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(30%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-1.016260162601626s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(60%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.9146341463414634s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(90%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.8130081300813008s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(120%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.7113821138211383s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(150%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.6097560975609756s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(180%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.508130081300813s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(210%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.4065040650406504s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(240%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.3048780487804878s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(270%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.2032520325203252s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(300%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='-0.1016260162601626s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(330%2050%2050)'%3e%3crect%20x='46.5'%20y='24'%20rx='3.5'%20ry='4.8'%20width='7'%20height='12'%20fill='%23f07458'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1.2195121951219512s'%20begin='0s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io/%20--%3e%3c/svg%3e",Spinner=()=>jsxRuntimeExports.jsx("div",{className:"signlang__loader",children:jsxRuntimeExports.jsx("img",{src:Loader,alt:"loader"})}),Dashboard=()=>{const n=useDispatch(),e=useNavigate(),{loading:t,accessToken:i}=useSelector(nr=>nr.auth);reactExports.useEffect(()=>{!t&&!i&&e("/"),n(getSignData()),n(getTopUsers())},[i,t,e,n]),reactExports.useEffect(()=>{n(getSignData()),n(getTopUsers())},[n]);const{signDataList:o,loading:s}=useSelector(nr=>nr.signData),{topUsers:l}=useSelector(nr=>nr.topUsers),c=o.map(nr=>nr.signsPerformed).reduce((nr,rr)=>nr.concat(rr),[]),w=[];for(let nr=0;nr<c.length;nr++){const rr=w.findIndex(or=>or.SignDetected===c[nr].SignDetected);rr===-1?w.push({...c[nr]}):w[rr].count+=c[nr].count}const er=w.sort((nr,rr)=>rr.count-nr.count).slice(0,5);return jsxRuntimeExports.jsx("div",{className:"signlang_dashboard-container",children:s||t?jsxRuntimeExports.jsx(Spinner,{}):o.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"signlang_header-data",children:[jsxRuntimeExports.jsx(ChartComp,{signDataList:o}),jsxRuntimeExports.jsxs("div",{className:"signlang_leader-board",children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text title",children:"Our Top Users"}),jsxRuntimeExports.jsx("div",{className:"signlang_toprank-box",children:l.map((nr,rr)=>jsxRuntimeExports.jsxs("div",{className:"signlang_tank-row",children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:nr.rank}),jsxRuntimeExports.jsx("h3",{children:nr.username}),jsxRuntimeExports.jsx("img",{src:nr.rank===1?GoldTrophy:nr.rank===2?SilverTrophy:nr.rank===3?BronzeTrophy:"",alt:"trophy"})]},rr*786))})]})]}),jsxRuntimeExports.jsxs("div",{className:"signlang_dashboard-midsection",children:[jsxRuntimeExports.jsxs("div",{className:"signlang_sign-table",children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:"Your Most Practiced Signs"}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"table-heading",children:"Sr.No"}),jsxRuntimeExports.jsx("th",{className:"table-heading",children:"Signs"}),jsxRuntimeExports.jsx("th",{className:"table-heading",children:"Frequency"})]}),er.map((nr,rr)=>jsxRuntimeExports.jsxs("tr",{className:"sign-row",children:[jsxRuntimeExports.jsx("td",{children:rr+1}),jsxRuntimeExports.jsx("td",{children:nr.SignDetected}),jsxRuntimeExports.jsxs("td",{children:[nr.count," times"]})]},rr*111))]})]}),jsxRuntimeExports.jsxs("div",{className:"signlang_quotes-box",children:[jsxRuntimeExports.jsx("h2",{className:"gradient__text",children:"Quote of the Day"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("blockquote",{children:quote.quote})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"signlang__nodata-cont",children:[jsxRuntimeExports.jsx("img",{src:NoData,alt:"no-data"}),jsxRuntimeExports.jsx("h3",{className:"gradient__text",children:"No Data to Display please go back to Detect to Mark Your Learning"})]})})};function r(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=r(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function clsx(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=r(n))&&(i&&(i+=" "),i+=e);return i}const u=n=>typeof n=="number"&&!isNaN(n),d=n=>typeof n=="string",p=n=>typeof n=="function",m=n=>d(n)||p(n)?n:null,f=n=>reactExports.isValidElement(n)||d(n)||p(n)||u(n);function g(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function h(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:o=!0,collapseDuration:s=300}=n;return function(l){let{children:c,position:w,preventExitTransition:er,done:nr,nodeRef:rr,isIn:or}=l;const sr=i?`${e}--${w}`:e,dr=i?`${t}--${w}`:t,hr=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const gr=rr.current,mr=sr.split(" "),vr=Sr=>{Sr.target===rr.current&&(gr.dispatchEvent(new Event("d")),gr.removeEventListener("animationend",vr),gr.removeEventListener("animationcancel",vr),hr.current===0&&Sr.type!=="animationcancel"&&gr.classList.remove(...mr))};gr.classList.add(...mr),gr.addEventListener("animationend",vr),gr.addEventListener("animationcancel",vr)},[]),reactExports.useEffect(()=>{const gr=rr.current,mr=()=>{gr.removeEventListener("animationend",mr),o?g(gr,nr,s):nr()};or||(er?mr():(hr.current=1,gr.className+=` ${dr}`,gr.addEventListener("animationend",mr)))},[or]),React.createElement(React.Fragment,null,c)}}function y(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const v={list:new Map,emitQueue:new Map,on(n,e){return this.list.has(n)||this.list.set(n,[]),this.list.get(n).push(e),this},off(n,e){if(e){const t=this.list.get(n).filter(i=>i!==e);return this.list.set(n,t),this}return this.list.delete(n),this},cancelEmit(n){const e=this.emitQueue.get(n);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(n)),this},emit(n){this.list.has(n)&&this.list.get(n).forEach(e=>{const t=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(n)||this.emitQueue.set(n,[]),this.emitQueue.get(n).push(t)})}},T=n=>{let{theme:e,type:t,...i}=n;return React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},E={info:function(n){return React.createElement(T,{...n},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return React.createElement(T,{...n},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return React.createElement(T,{...n},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return React.createElement(T,{...n},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return React.createElement("div",{className:"Toastify__spinner"})}};function C(n){const[,e]=reactExports.useReducer(sr=>sr+1,0),[t,i]=reactExports.useState([]),o=reactExports.useRef(null),s=reactExports.useRef(new Map).current,l=sr=>t.indexOf(sr)!==-1,c=reactExports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:n,containerId:null,isToastActive:l,getToast:sr=>s.get(sr)}).current;function w(sr){let{containerId:dr}=sr;const{limit:hr}=c.props;!hr||dr&&c.containerId!==dr||(c.count-=c.queue.length,c.queue=[])}function er(sr){i(dr=>sr==null?[]:dr.filter(hr=>hr!==sr))}function nr(){const{toastContent:sr,toastProps:dr,staleId:hr}=c.queue.shift();or(sr,dr,hr)}function rr(sr,dr){let{delay:hr,staleId:gr,...mr}=dr;if(!f(sr)||function(kr){return!o.current||c.props.enableMultiContainer&&kr.containerId!==c.props.containerId||s.has(kr.toastId)&&kr.updateId==null}(mr))return;const{toastId:vr,updateId:Sr,data:Ar}=mr,{props:Mr}=c,Fr=()=>er(vr),Tr=Sr==null;Tr&&c.count++;const Er={...Mr,style:Mr.toastStyle,key:c.toastKey++,...Object.fromEntries(Object.entries(mr).filter(kr=>{let[Cr,gn]=kr;return gn!=null})),toastId:vr,updateId:Sr,data:Ar,closeToast:Fr,isIn:!1,className:m(mr.className||Mr.toastClassName),bodyClassName:m(mr.bodyClassName||Mr.bodyClassName),progressClassName:m(mr.progressClassName||Mr.progressClassName),autoClose:!mr.isLoading&&(Rr=mr.autoClose,wr=Mr.autoClose,Rr===!1||u(Rr)&&Rr>0?Rr:wr),deleteToast(){const kr=y(s.get(vr),"removed");s.delete(vr),v.emit(4,kr);const Cr=c.queue.length;if(c.count=vr==null?c.count-c.displayedToast:c.count-1,c.count<0&&(c.count=0),Cr>0){const gn=vr==null?c.props.limit:1;if(Cr===1||gn===1)c.displayedToast++,nr();else{const hn=gn>Cr?Cr:gn;c.displayedToast=hn;for(let Xr=0;Xr<hn;Xr++)nr()}}else e()}};var Rr,wr;Er.iconOut=function(kr){let{theme:Cr,type:gn,isLoading:hn,icon:Xr}=kr,dn=null;const Wr={theme:Cr,type:gn};return Xr===!1||(p(Xr)?dn=Xr(Wr):reactExports.isValidElement(Xr)?dn=reactExports.cloneElement(Xr,Wr):d(Xr)||u(Xr)?dn=Xr:hn?dn=E.spinner():(Jr=>Jr in E)(gn)&&(dn=E[gn](Wr))),dn}(Er),p(mr.onOpen)&&(Er.onOpen=mr.onOpen),p(mr.onClose)&&(Er.onClose=mr.onClose),Er.closeButton=Mr.closeButton,mr.closeButton===!1||f(mr.closeButton)?Er.closeButton=mr.closeButton:mr.closeButton===!0&&(Er.closeButton=!f(Mr.closeButton)||Mr.closeButton);let Or=sr;reactExports.isValidElement(sr)&&!d(sr.type)?Or=reactExports.cloneElement(sr,{closeToast:Fr,toastProps:Er,data:Ar}):p(sr)&&(Or=sr({closeToast:Fr,toastProps:Er,data:Ar})),Mr.limit&&Mr.limit>0&&c.count>Mr.limit&&Tr?c.queue.push({toastContent:Or,toastProps:Er,staleId:gr}):u(hr)?setTimeout(()=>{or(Or,Er,gr)},hr):or(Or,Er,gr)}function or(sr,dr,hr){const{toastId:gr}=dr;hr&&s.delete(hr);const mr={content:sr,props:dr};s.set(gr,mr),i(vr=>[...vr,gr].filter(Sr=>Sr!==hr)),v.emit(4,y(mr,mr.props.updateId==null?"added":"updated"))}return reactExports.useEffect(()=>(c.containerId=n.containerId,v.cancelEmit(3).on(0,rr).on(1,sr=>o.current&&er(sr)).on(5,w).emit(2,c),()=>{s.clear(),v.emit(3,c)}),[]),reactExports.useEffect(()=>{c.props=n,c.isToastActive=l,c.displayedToast=t.length}),{getToastToRender:function(sr){const dr=new Map,hr=Array.from(s.values());return n.newestOnTop&&hr.reverse(),hr.forEach(gr=>{const{position:mr}=gr.props;dr.has(mr)||dr.set(mr,[]),dr.get(mr).push(gr)}),Array.from(dr,gr=>sr(gr[0],gr[1]))},containerRef:o,isToastActive:l}}function b(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}function I(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientY:n.clientY}function _(n){const[e,t]=reactExports.useState(!1),[i,o]=reactExports.useState(!1),s=reactExports.useRef(null),l=reactExports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=reactExports.useRef(n),{autoClose:w,pauseOnHover:er,closeToast:nr,onClick:rr,closeOnClick:or}=n;function sr(Ar){if(n.draggable){Ar.nativeEvent.type==="touchstart"&&Ar.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",mr),document.addEventListener("mouseup",vr),document.addEventListener("touchmove",mr),document.addEventListener("touchend",vr);const Mr=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=Mr.getBoundingClientRect(),Mr.style.transition="",l.x=b(Ar.nativeEvent),l.y=I(Ar.nativeEvent),n.draggableDirection==="x"?(l.start=l.x,l.removalDistance=Mr.offsetWidth*(n.draggablePercent/100)):(l.start=l.y,l.removalDistance=Mr.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent/100))}}function dr(Ar){if(l.boundingRect){const{top:Mr,bottom:Fr,left:Tr,right:Er}=l.boundingRect;Ar.nativeEvent.type!=="touchend"&&n.pauseOnHover&&l.x>=Tr&&l.x<=Er&&l.y>=Mr&&l.y<=Fr?gr():hr()}}function hr(){t(!0)}function gr(){t(!1)}function mr(Ar){const Mr=s.current;l.canDrag&&Mr&&(l.didMove=!0,e&&gr(),l.x=b(Ar),l.y=I(Ar),l.delta=n.draggableDirection==="x"?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),Mr.style.transform=`translate${n.draggableDirection}(${l.delta}px)`,Mr.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function vr(){document.removeEventListener("mousemove",mr),document.removeEventListener("mouseup",vr),document.removeEventListener("touchmove",mr),document.removeEventListener("touchend",vr);const Ar=s.current;if(l.canDrag&&l.didMove&&Ar){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return o(!0),void n.closeToast();Ar.style.transition="transform 0.2s, opacity 0.2s",Ar.style.transform=`translate${n.draggableDirection}(0)`,Ar.style.opacity="1"}}reactExports.useEffect(()=>{c.current=n}),reactExports.useEffect(()=>(s.current&&s.current.addEventListener("d",hr,{once:!0}),p(n.onOpen)&&n.onOpen(reactExports.isValidElement(n.children)&&n.children.props),()=>{const Ar=c.current;p(Ar.onClose)&&Ar.onClose(reactExports.isValidElement(Ar.children)&&Ar.children.props)}),[]),reactExports.useEffect(()=>(n.pauseOnFocusLoss&&(document.hasFocus()||gr(),window.addEventListener("focus",hr),window.addEventListener("blur",gr)),()=>{n.pauseOnFocusLoss&&(window.removeEventListener("focus",hr),window.removeEventListener("blur",gr))}),[n.pauseOnFocusLoss]);const Sr={onMouseDown:sr,onTouchStart:sr,onMouseUp:dr,onTouchEnd:dr};return w&&er&&(Sr.onMouseEnter=gr,Sr.onMouseLeave=hr),or&&(Sr.onClick=Ar=>{rr&&rr(Ar),l.canCloseOnClick&&nr()}),{playToast:hr,pauseToast:gr,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:Sr}}function L(n){let{closeToast:e,theme:t,ariaLabel:i="close"}=n;return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:o=>{o.stopPropagation(),e(o)},"aria-label":i},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function O(n){let{delay:e,isRunning:t,closeToast:i,type:o="default",hide:s,className:l,style:c,controlledProgress:w,progress:er,rtl:nr,isIn:rr,theme:or}=n;const sr=s||w&&er===0,dr={...c,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused",opacity:sr?0:1};w&&(dr.transform=`scaleX(${er})`);const hr=clsx("Toastify__progress-bar",w?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${or}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":nr}),gr=p(l)?l({rtl:nr,type:o,defaultClassName:hr}):clsx(hr,l);return React.createElement("div",{role:"progressbar","aria-hidden":sr?"true":"false","aria-label":"notification timer",className:gr,style:dr,[w&&er>=1?"onTransitionEnd":"onAnimationEnd"]:w&&er<1?null:()=>{rr&&i()}})}const N=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o}=_(n),{closeButton:s,children:l,autoClose:c,onClick:w,type:er,hideProgressBar:nr,closeToast:rr,transition:or,position:sr,className:dr,style:hr,bodyClassName:gr,bodyStyle:mr,progressClassName:vr,progressStyle:Sr,updateId:Ar,role:Mr,progress:Fr,rtl:Tr,toastId:Er,deleteToast:Rr,isIn:wr,isLoading:Or,iconOut:kr,closeOnClick:Cr,theme:gn}=n,hn=clsx("Toastify__toast",`Toastify__toast-theme--${gn}`,`Toastify__toast--${er}`,{"Toastify__toast--rtl":Tr},{"Toastify__toast--close-on-click":Cr}),Xr=p(dr)?dr({rtl:Tr,position:sr,type:er,defaultClassName:hn}):clsx(hn,dr),dn=!!Fr||!c,Wr={closeToast:rr,type:er,theme:gn};let Jr=null;return s===!1||(Jr=p(s)?s(Wr):reactExports.isValidElement(s)?reactExports.cloneElement(s,Wr):L(Wr)),React.createElement(or,{isIn:wr,done:Rr,position:sr,preventExitTransition:t,nodeRef:i},React.createElement("div",{id:Er,onClick:w,className:Xr,...o,style:hr,ref:i},React.createElement("div",{...wr&&{role:Mr},className:p(gr)?gr({type:er}):clsx("Toastify__toast-body",gr),style:mr},kr!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Or})},kr),React.createElement("div",null,l)),Jr,React.createElement(O,{...Ar&&!dn?{key:`pb-${Ar}`}:{},rtl:Tr,theme:gn,delay:c,isRunning:e,isIn:wr,closeToast:rr,hide:nr,type:er,style:Sr,className:vr,controlledProgress:dn,progress:Fr||0})))},M=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},R=h(M("bounce",!0));h(M("slide",!0));h(M("zoom"));h(M("flip"));const k=reactExports.forwardRef((n,e)=>{const{getToastToRender:t,containerRef:i,isToastActive:o}=C(n),{className:s,style:l,rtl:c,containerId:w}=n;function er(nr){const rr=clsx("Toastify__toast-container",`Toastify__toast-container--${nr}`,{"Toastify__toast-container--rtl":c});return p(s)?s({position:nr,rtl:c,defaultClassName:rr}):clsx(rr,m(s))}return reactExports.useEffect(()=>{e&&(e.current=i.current)},[]),React.createElement("div",{ref:i,className:"Toastify",id:w},t((nr,rr)=>{const or=rr.length?{...l}:{...l,pointerEvents:"none"};return React.createElement("div",{className:er(nr),style:or,key:`container-${nr}`},rr.map((sr,dr)=>{let{content:hr,props:gr}=sr;return React.createElement(N,{...gr,isIn:o(gr.toastId),style:{...gr.style,"--nth":dr+1,"--len":rr.length},key:`toast-${gr.key}`},hr)}))}))});k.displayName="ToastContainer",k.defaultProps={position:"top-right",transition:R,autoClose:5e3,closeButton:L,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P,B=new Map,D=[],A=1;function z(){return""+A++}function F(n){return n&&(d(n.toastId)||u(n.toastId))?n.toastId:z()}function H(n,e){return B.size>0?v.emit(0,n,e):D.push({content:n,options:e}),e.toastId}function S(n,e){return{...e,type:e&&e.type||n,toastId:F(e)}}function q(n){return(e,t)=>H(e,S(n,t))}function Q(n,e){return H(n,S("default",e))}Q.loading=(n,e)=>H(n,S("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Q.promise=function(n,e,t){let i,{pending:o,error:s,success:l}=e;o&&(i=d(o)?Q.loading(o,t):Q.loading(o.render,{...t,...o}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},w=(nr,rr,or)=>{if(rr==null)return void Q.dismiss(i);const sr={type:nr,...c,...t,data:or},dr=d(rr)?{render:rr}:rr;return i?Q.update(i,{...sr,...dr}):Q(dr.render,{...sr,...dr}),or},er=p(n)?n():n;return er.then(nr=>w("success",l,nr)).catch(nr=>w("error",s,nr)),er},Q.success=q("success"),Q.info=q("info"),Q.error=q("error"),Q.warning=q("warning"),Q.warn=Q.warning,Q.dark=(n,e)=>H(n,S("default",{theme:"dark",...e})),Q.dismiss=n=>{B.size>0?v.emit(1,n):D=D.filter(e=>n!=null&&e.options.toastId!==n)},Q.clearWaitingQueue=function(n){return n===void 0&&(n={}),v.emit(5,n)},Q.isActive=n=>{let e=!1;return B.forEach(t=>{t.isToastActive&&t.isToastActive(n)&&(e=!0)}),e},Q.update=function(n,e){e===void 0&&(e={}),setTimeout(()=>{const t=function(i,o){let{containerId:s}=o;const l=B.get(s||P);return l&&l.getToast(i)}(n,e);if(t){const{props:i,content:o}=t,s={delay:100,...i,...e,toastId:e.toastId||n,updateId:z()};s.toastId!==n&&(s.staleId=n);const l=s.render||o;delete s.render,H(l,s)}},0)},Q.done=n=>{Q.update(n,{progress:1})},Q.onChange=n=>(v.on(4,n),()=>{v.off(4,n)}),Q.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Q.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},v.on(2,n=>{P=n.containerId||n,B.set(P,n),D.forEach(e=>{v.emit(0,e.content,e.options)}),D=[]}).on(3,n=>{B.delete(n.containerId||n),B.size===0&&v.off(0).off(1).off(5)});const notifyMsg=(n,e)=>{n==="success"?Q.success(e):Q.error(e)},Layout=({children:n})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Navbar,{notifyMsg}),n,jsxRuntimeExports.jsx(Footer,{})]});function App(){return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{exact:!0,path:"/",element:jsxRuntimeExports.jsx(Layout,{notifyMsg,children:jsxRuntimeExports.jsx(Home,{})})}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/detect",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Detect,{})})}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/dashboard",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Dashboard,{})})}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]}),jsxRuntimeExports.jsx(k,{position:"top-left",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0})]})}function formatProdErrorMessage(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function createStore(n,e,t){if(typeof n!="function")throw new Error(formatProdErrorMessage(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(formatProdErrorMessage(1));return t(createStore)(n,e)}let i=n,o=e,s=new Map,l=s,c=0,w=!1;function er(){l===s&&(l=new Map,s.forEach((gr,mr)=>{l.set(mr,gr)}))}function nr(){if(w)throw new Error(formatProdErrorMessage(3));return o}function rr(gr){if(typeof gr!="function")throw new Error(formatProdErrorMessage(4));if(w)throw new Error(formatProdErrorMessage(5));let mr=!0;er();const vr=c++;return l.set(vr,gr),function(){if(mr){if(w)throw new Error(formatProdErrorMessage(6));mr=!1,er(),l.delete(vr),s=null}}}function or(gr){if(!isPlainObject(gr))throw new Error(formatProdErrorMessage(7));if(typeof gr.type>"u")throw new Error(formatProdErrorMessage(8));if(typeof gr.type!="string")throw new Error(formatProdErrorMessage(17));if(w)throw new Error(formatProdErrorMessage(9));try{w=!0,o=i(o,gr)}finally{w=!1}return(s=l).forEach(vr=>{vr()}),gr}function sr(gr){if(typeof gr!="function")throw new Error(formatProdErrorMessage(10));i=gr,or({type:actionTypes_default.REPLACE})}function dr(){const gr=rr;return{subscribe(mr){if(typeof mr!="object"||mr===null)throw new Error(formatProdErrorMessage(11));function vr(){const Ar=mr;Ar.next&&Ar.next(nr())}return vr(),{unsubscribe:gr(vr)}},[symbol_observable_default](){return this}}}return or({type:actionTypes_default.INIT}),{dispatch:or,subscribe:rr,getState:nr,replaceReducer:sr,[symbol_observable_default]:dr}}function assertReducerShape(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage(12));if(typeof t(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const l=e[s];typeof n[l]=="function"&&(t[l]=n[l])}const i=Object.keys(t);let o;try{assertReducerShape(t)}catch(s){o=s}return function(l={},c){if(o)throw o;let w=!1;const er={};for(let nr=0;nr<i.length;nr++){const rr=i[nr],or=t[rr],sr=l[rr],dr=or(sr,c);if(typeof dr>"u")throw c&&c.type,new Error(formatProdErrorMessage(14));er[rr]=dr,w=w||dr!==sr}return w=w||i.length!==Object.keys(l).length,w?er:l}}function compose(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function applyMiddleware(...n){return e=>(t,i)=>{const o=e(t,i);let s=()=>{throw new Error(formatProdErrorMessage(15))};const l={getState:o.getState,dispatch:(w,...er)=>s(w,...er)},c=n.map(w=>w(l));return s=compose(...c)(o.dispatch),{...o,dispatch:s}}}function extensionComposeStub(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length!==0)return typeof e[0]=="object"?compose:compose(...e)}const composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:extensionComposeStub;function createThunkMiddleware(n){return({dispatch:t,getState:i})=>o=>s=>typeof s=="function"?s(t,i,n):o(s)}var thunk=createThunkMiddleware();const initialState$1={accessToken:api.get("sign-language-ai-access-token")?api.get("sign-language-ai-access-token"):null,user:api.get("sign-language-ai-user")?JSON.parse(api.get("sign-language-ai-user")):null,loading:!1},authReducer=(n=initialState$1,e)=>{const{type:t,payload:i}=e;switch(t){case LOGIN_REQ:return{...n,loading:!0};case LOGIN_SUCCESS:return{...n,accessToken:i,loading:!1};case LOGIN_FAIL:return{...n,accessToken:null,loading:!1,error:i};case LOAD_PROF:return{...n,user:i};case LOGOUT:return{...n,accessToken:null,user:null};default:return n}},initialState={signDataList:[],loading:!1},SignReducer=(n=initialState,e)=>{const{type:t,payload:i}=e;switch(t){case GET_SIGN_DATA_REQ:return{...n,loading:!0};case GET_SIGN_DATA_SUCCESS:return{...n,signDataList:i,loading:!1};case GET_SIGN_DATA_FAIL:return{...n,loading:!1,error:i};case ADD_SIGN_DATA_REQ:return{...n,loading:!0};case ADD_SIGN_DATA_SUCCESS:return{...n,loading:!1};case ADD_SIGN_DATA_FAIL:return{...n,loading:!1,error:i};default:return n}},TopSignUsersReducer=(n={loading:!1,topUsers:[]},e)=>{const{type:t,payload:i}=e;switch(t){case GET_TOP_USERS_REQ:return{...n,loading:!0};case GET_TOP_USERS_SUCCESS:return{...n,topUsers:i,loading:!1};case GET_TOP_USERS_FAIL:return{...n,loading:!1,error:i};default:return n}},reducer=combineReducers({auth:authReducer,signData:SignReducer,topUsers:TopSignUsersReducer}),store=createStore(reducer,composeWithDevTools(applyMiddleware(thunk))),root=ReactDOM.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})})}));
